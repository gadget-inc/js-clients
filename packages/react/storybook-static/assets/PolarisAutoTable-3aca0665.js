import{R as t,r as u,c as kl,g as xl}from"./index-7c191284.js";import{ae as Il,af as bn,c as I,X as pa,B as Ce,m as Ie,d as ft,x as Ue,C as Ot,T as se,u as re,y as Vt,ag as qe,I as le,r as Ct,ah as Ft,Y as rt,ai as Al,aj as ba,F as Mn,W as ha,ak as _l,al as Nl,am as wl,b as Mt,a as oe,a8 as Fl,t as Ml,q as Ll,s as Bl,an,ao as Rl,ap as Dl,aq as Hl,N as st,ar as Lt,as as Wl,v as hn,o as Pt,at as $l,au as gn,av as De,aw as Ol,K as ln,n as rn,ax as Vl,ay as jl,az as zl,aA as Ul,aB as ql,i as ga,aC as Ea,e as Gl,h as Zl,J as yt,ab as jt,ac as zt,aD as Xl,a9 as Kl,S as Jl,k as Ql,U as va,g as Ta,aa as sn,H as Yl,aE as er,a5 as on,a3 as tr,a4 as nr,a6 as ar,a7 as lr,ad as Ln}from"./dateTimeUtils-a817f99d.js";import{T as Re,S as rr,A as kt,B as sr,a as ir,b as or,P as Ca,c as ya}from"./Pagination-e176776e.js";import{ab as Sa,ad as cr,ae as ur,af as dr,V as mr,ag as fr,ah as pr,ai as br,aj as hr,ak as gr,a4 as Pa,c as Er,d as vr,e as Tr,al as Cr,g as yr,E as Bn,h as Sr,i as Pr,am as kr,a9 as xr,an as Ir,L as Ee}from"./apis-0ee9c31a.js";import{M as Nt}from"./index-363833c6.js";import{_ as ka}from"./extends-98964cd2.js";var xa=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M10 3.5a.75.75 0 0 1 .75.75v9.69l2.72-2.72a.75.75 0 0 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l2.72 2.72v-9.69a.75.75 0 0 1 .75-.75Z"}))};xa.displayName="ArrowDownIcon";var Ia=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M10 16.5a.75.75 0 0 1-.75-.75v-9.69l-2.72 2.72a.75.75 0 1 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06l-2.72-2.72v9.69a.75.75 0 0 1-.75.75Z"}))};Ia.displayName="ArrowUpIcon";var Aa=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M11.25 8.5c-.414 0-.75.336-.75.75v1.25h-1.25c-.414 0-.75.336-.75.75s.336.75.75.75h1.25v1.25c0 .414.336.75.75.75s.75-.336.75-.75v-1.25h1.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-1.25v-1.25c0-.414-.336-.75-.75-.75Z"}),t.createElement("path",{fillRule:"evenodd",d:"M8.75 16.5c-1.438 0-2.618-1.104-2.74-2.51-1.406-.122-2.51-1.302-2.51-2.74v-5c0-1.519 1.231-2.75 2.75-2.75h5c1.438 0 2.618 1.104 2.74 2.51 1.406.122 2.51 1.302 2.51 2.74v5c0 1.519-1.231 2.75-2.75 2.75h-5Zm0-10.5c-1.519 0-2.75 1.231-2.75 2.75v3.725c-.57-.116-1-.62-1-1.225v-5c0-.69.56-1.25 1.25-1.25h5c.605 0 1.11.43 1.225 1h-3.725Zm0 1.5c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25h-5Z"}))};Aa.displayName="DuplicateIcon";var _a=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M3 6a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1-.75-.75Z"}),t.createElement("path",{d:"M6.75 14a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Z"}),t.createElement("path",{d:"M5.5 9.25a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z"}))};_a.displayName="FilterIcon";var En=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M3 6.75c0-2.071 1.679-3.75 3.75-3.75h6.5c2.071 0 3.75 1.679 3.75 3.75v6.5c0 2.071-1.679 3.75-3.75 3.75h-6.5c-2.071 0-3.75-1.679-3.75-3.75v-6.5Zm3.75-2.25c-1.243 0-2.25 1.007-2.25 2.25v6.5c0 1.243 1.007 2.25 2.25 2.25h.5v-11h-.5Zm4.5 11h-2.5v-11h2.5v11Zm1.5 0h.5c1.243 0 2.25-1.007 2.25-2.25v-6.5c0-1.243-1.007-2.25-2.25-2.25h-.5v11Z"}))};En.displayName="LayoutColumns3Icon";var vn=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};vn.displayName="PlusIcon";var Bt=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillRule:"evenodd",d:"M9.116 4.323a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),t.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 15.677a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};Bt.displayName="SortAscendingIcon";var Rt=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 4.823a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),t.createElement("path",{fillRule:"evenodd",d:"M9.116 15.177a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};Rt.displayName="SortDescendingIcon";var Na=function(n){return t.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),t.createElement("path",{d:"M7.75 6.06v7.69a.75.75 0 0 1-1.5 0v-7.69l-1.72 1.72a.75.75 0 0 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 1 1-1.06 1.06l-1.72-1.72Z"}),t.createElement("path",{d:"M13.75 6.25a.75.75 0 0 0-1.5 0v7.69l-1.72-1.72a.75.75 0 1 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72v-7.69Z"}))};Na.displayName="SortIcon";var Kt={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Ar(){const e=u.useContext(Il);if(!e)throw new bn("No ScrollLockManager was provided.");return e}function _r(e){const n=Ar();return u.useEffect(()=>(n.registerScrollLock(),()=>{n.unregisterScrollLock()}),[n]),null}function Nr(e){const{onClick:n,onTouchStart:a,belowNavigation:l,transparent:r,setClosing:s}=e,o=I(Kt.Backdrop,l&&Kt.belowNavigation,r&&Kt.transparent),i=()=>{s&&s(!0)},c=()=>{s&&s(!1),n&&n()};return t.createElement(t.Fragment,null,t.createElement(_r,null),t.createElement("div",{className:o,onClick:c,onTouchStart:a,onMouseDown:i}))}function Rn(e=[],n,a,l){const r=a.reduce((c,d)=>c+d,0),s=e.map((c,d)=>d),o=[],i=[];if(l>r)o.push(...s);else{let c=0,d=!1;s.forEach(m=>{const f=a[m];if(c+f>=l-n||d){i.push(m),d=!0;return}o.push(m),c+=f})}return{visiblePromotedActions:o,hiddenPromotedActions:i}}function wr(e){const n=e.filter(a=>a.items);return e.length===n.length}function Fr(e){const n=e.filter(a=>!a.items);return e.length===n.length}function cn(e){return"title"in e&&"actions"in e}function Mr(e){return"items"in e}function Lr(e){if(!(!e||e.length===0)){if(wr(e))return e;if(Fr(e))return[{items:e}]}}function Dn(e){var n;if(!e)return!1;for(const a of e)for(const l of a.items)if(((n=l.badge)==null?void 0:n.tone)==="new")return!0;return!1}var ze={BulkActionsOuterLayout:"Polaris-BulkActions__BulkActionsOuterLayout",BulkActionsSelectAllWrapper:"Polaris-BulkActions__BulkActionsSelectAllWrapper",BulkActionsPromotedActionsWrapper:"Polaris-BulkActions__BulkActionsPromotedActionsWrapper",BulkActionsLayout:"Polaris-BulkActions__BulkActionsLayout","BulkActionsLayout--measuring":"Polaris-BulkActions--bulkActionsLayoutMeasuring",BulkActionsMeasurerLayout:"Polaris-BulkActions__BulkActionsMeasurerLayout",BulkActionButton:"Polaris-BulkActions__BulkActionButton",disabled:"Polaris-BulkActions--disabled",AllAction:"Polaris-BulkActions__AllAction"},Hn={Indicator:"Polaris-Indicator",pulseIndicator:"Polaris-Indicator--pulseIndicator"};function Br({pulse:e=!0}){const n=I(Hn.Indicator,e&&Hn.pulseIndicator);return t.createElement("span",{className:n})}function mt({handleMeasurement:e,url:n,external:a,onAction:l,content:r,disclosure:s,accessibilityLabel:o,disabled:i,destructive:c,indicator:d,showContentInButton:m,size:f}){const b=u.useRef(null);pa(()=>{if(e&&b.current){const p=b.current.getBoundingClientRect().width;e(p)}});const g=s&&!m,E=g?void 0:r,h=t.createElement(Ce,{external:a,url:n,accessibilityLabel:g?r:o,tone:c?"critical":void 0,disclosure:s&&m,onClick:l,disabled:i,size:f,icon:g?t.createElement(Ie,{source:rr,tone:"base"}):void 0},E);return t.createElement("div",{className:ze.BulkActionButton,ref:b},g?t.createElement(Re,{content:r,preferredPosition:"below"},h):h,d&&t.createElement(Br,null))}function Rr({title:e,actions:n,isNewBadgeInBadgeActions:a,size:l}){const{value:r,toggle:s}=ft(!1);return t.createElement(t.Fragment,null,t.createElement(Ue,{active:r,activator:t.createElement(mt,{disclosure:!0,showContentInButton:!0,onAction:s,content:e,indicator:a,size:l}),onClose:s,preferInputActivator:!0},t.createElement(kt,{items:n,onActionAnyItem:s})))}var Jt={CheckableButton:"Polaris-CheckableButton",Checkbox:"Polaris-CheckableButton__Checkbox",Label:"Polaris-CheckableButton__Label"};const Dr=u.forwardRef(function({accessibilityLabel:n,label:a="",onToggleAll:l,selected:r,disabled:s,ariaLive:o},i){const c=u.useRef(null);function d(){var m;(m=c==null?void 0:c.current)==null||m.focus()}return u.useImperativeHandle(i,()=>({focus:d})),t.createElement("div",{className:Jt.CheckableButton,onClick:l},t.createElement("div",{className:Jt.Checkbox},t.createElement(Ot,{label:n,labelHidden:!0,checked:r,disabled:s,onChange:l,ref:c})),a?t.createElement("span",{className:Jt.Label,"aria-live":o},t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium"},a)):null)}),Hr=4;function Wr({promotedActions:e=[],disabled:n,buttonSize:a,handleMeasurement:l}){const r=re(),s=u.useRef(null),o=r.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),i=t.createElement(mt,{disclosure:!0,content:o}),c=u.useCallback(()=>{if(!s.current)return;const m=s.current.offsetWidth,f=s.current.children,g=Array.from(f).map(h=>Math.ceil(h.getBoundingClientRect().width)+Hr),E=g.pop()||0;l({containerWidth:m,disclosureWidth:E,hiddenActionsWidths:g})},[l]);u.useEffect(()=>{c()},[c,e]);const d=e.map((m,f)=>cn(m)?t.createElement(mt,{key:f,disclosure:!0,showContentInButton:!0,content:m.title,size:a}):t.createElement(mt,Object.assign({key:f,disabled:n},m,{size:a})));return Vt("resize",c),t.createElement("div",{className:ze.BulkActionsMeasurerLayout,ref:s},d,i)}const $r=u.forwardRef(function({promotedActions:n,actions:a,disabled:l,buttonSize:r,paginatedSelectAllAction:s,paginatedSelectAllText:o,label:i,accessibilityLabel:c,selected:d,onToggleAll:m,onMoreActionPopoverToggle:f,width:b,selectMode:g},E){const h=re(),[p,v]=u.useState(!1),[T,S]=u.useReducer((U,z)=>({...U,...z}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visiblePromotedActions:[],hiddenPromotedActions:[],hasMeasured:!1}),{visiblePromotedActions:y,hiddenPromotedActions:_,containerWidth:L,disclosureWidth:N,actionsWidths:A,hasMeasured:R}=T;u.useEffect(()=>{if(L===0||!n||n.length===0)return;const{visiblePromotedActions:U,hiddenPromotedActions:z}=Rn(n,N,A,L);S({visiblePromotedActions:U,hiddenPromotedActions:z,hasMeasured:L!==1/0})},[L,N,n,A]);const j=!n||n&&y.length===0?h.translate("Polaris.ResourceList.BulkActions.actionsActivatorLabel"):h.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),P=s?t.createElement(qe,{className:ze.AllAction,onClick:s.onAction,size:"slim",disabled:l},t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium"},s.content)):null,M=o&&s,w={accessibilityLabel:c,label:M?o:i,selected:d,onToggleAll:m,disabled:l,ariaLive:M?"polite":void 0,ref:E},V=u.useCallback(()=>{f==null||f(p),v(U=>!U)},[f,p]),Q=u.useCallback(U=>{const{hiddenActionsWidths:z,containerWidth:ce,disclosureWidth:Ae}=U;if(!n||n.length===0)return;const{visiblePromotedActions:ue,hiddenPromotedActions:Se}=Rn(n,Ae,z,ce);S({visiblePromotedActions:ue,hiddenPromotedActions:Se,actionsWidths:z,containerWidth:ce,disclosureWidth:Ae,hasMeasured:!0})},[n]),te=Lr(a),k=n?n.filter((U,z)=>!!y.includes(z)).map((U,z)=>cn(U)?t.createElement(Rr,Object.assign({key:z},U,{isNewBadgeInBadgeActions:Dn(te),size:r})):t.createElement(mt,Object.assign({key:z,disabled:l},U,{size:r}))):null,ee={items:_.map(U=>n==null?void 0:n[U]).reduce((U,z)=>z?cn(z)?U.concat(z.actions):U.concat(z):U,[])},Z=u.useMemo(()=>{if(te)return te;if(!a)return[];let U=!0;return a.filter(z=>z).reduce((z,ce)=>{if(Mr(ce))return U=!1,z.concat(ce);if(U){if(z.length===0)return[{items:[ce]}];const Ae=z[z.length-1];return z.splice(z.length-1,1,{items:[...Ae.items,ce]}),z}return U=!0,z.concat({items:[ce]})},[])},[a,te]),ne=t.createElement(mt,{disclosure:!0,showContentInButton:!k,onAction:V,content:j,disabled:l,indicator:Dn(te),size:r}),W=Z.length>0?t.createElement(Ue,{active:p,activator:ne,preferredAlignment:"right",onClose:V},t.createElement(kt,{sections:ee.items.length>0?[ee,...Z]:Z,onActionAnyItem:V})):null,q=t.createElement(Wr,{promotedActions:n,disabled:l,buttonSize:r,handleMeasurement:Q});return t.createElement("div",{className:ze.BulkActions,style:b?{width:b}:void 0},t.createElement(le,{gap:"400",blockAlign:"center"},t.createElement("div",{className:ze.BulkActionsSelectAllWrapper},t.createElement(Dr,w),P),g?t.createElement("div",{className:ze.BulkActionsPromotedActionsWrapper},t.createElement(le,{gap:"100",blockAlign:"center"},t.createElement("div",{className:ze.BulkActionsOuterLayout},q,t.createElement("div",{className:I(ze.BulkActionsLayout,!R&&ze["BulkActionsLayout--measuring"])},k)),W)):null))});var fe={LegacyCard:"Polaris-LegacyCard",Section:"Polaris-LegacyCard__Section",subdued:"Polaris-LegacyCard--subdued","Section-hideOnPrint":"Polaris-LegacyCard__Section--hideOnPrint",hideOnPrint:"Polaris-LegacyCard--hideOnPrint",Header:"Polaris-LegacyCard__Header","Section-fullWidth":"Polaris-LegacyCard__Section--fullWidth","Section-flush":"Polaris-LegacyCard__Section--flush","Section-subdued":"Polaris-LegacyCard__Section--subdued",SectionHeader:"Polaris-LegacyCard__SectionHeader",Subsection:"Polaris-LegacyCard__Subsection",Footer:"Polaris-LegacyCard__Footer",LeftJustified:"Polaris-LegacyCard__LeftJustified",FirstSectionPadding:"Polaris-LegacyCard__FirstSectionPadding",LastSectionPadding:"Polaris-LegacyCard__LastSectionPadding"};function wa({children:e,title:n,actions:a}){const l=a?t.createElement(Ct,null,Ft(a,{variant:"plain"})):null,r=u.isValidElement(n)?n:t.createElement(se,{variant:"headingSm",as:"h2"},n),s=l||e?t.createElement(le,{wrap:!1,gap:"200",align:"space-between",blockAlign:"center"},r,t.createElement(le,{wrap:!1,gap:"400",blockAlign:"center"},l,e)):r;return t.createElement("div",{className:fe.Header},s)}var Je={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function Fa({children:e,fill:n}){const a=I(Je.Item,n&&Je["Item-fill"]);return t.createElement("div",{className:a},e)}const St=u.memo(function({children:n,vertical:a,spacing:l,distribution:r,alignment:s,wrap:o}){const i=I(Je.LegacyStack,a&&Je.vertical,l&&Je[rt("spacing",l)],r&&Je[rt("distribution",r)],s&&Je[rt("alignment",s)],o===!1&&Je.noWrap),c=Al(n).map((d,m)=>ba(d,Fa,{key:m}));return t.createElement("div",{className:i},c)});St.Item=Fa;function Ma({children:e,title:n,subdued:a,flush:l,fullWidth:r,actions:s,hideOnPrint:o}){const i=I(fe.Section,l&&fe["Section-flush"],a&&fe["Section-subdued"],r&&fe["Section-fullWidth"],o&&fe["Section-hideOnPrint"]),c=s?t.createElement(Ct,null,Ft(s,{variant:"plain"})):null,d=typeof n=="string"?t.createElement(se,{variant:"headingSm",as:"h3",fontWeight:"medium"},n):n,m=d||c?t.createElement("div",{className:fe.SectionHeader},c?t.createElement(St,{alignment:"baseline"},t.createElement(St.Item,{fill:!0},d),c):d):null;return t.createElement("div",{className:i},m,e)}function Or({children:e}){return t.createElement("div",{className:fe.Subsection},e)}const Tn=function({children:n,hideOnPrint:a,title:l,subdued:r,sectioned:s,actions:o,primaryFooterAction:i,secondaryFooterActions:c,secondaryFooterActionsDisclosureText:d,footerActionAlignment:m="right"}){const f=re(),{value:b,toggle:g}=ft(!1),E=Vr(),h=I(fe.LegacyCard,r&&fe.subdued,a&&fe.hideOnPrint),p=l||o?t.createElement(wa,{actions:o,title:l}):null,v=s?t.createElement(Ma,null,n):n,T=i?Mn(i,{variant:"primary"}):null;let S=null;c&&c.length&&(c.length===1?S=Mn(c[0]):S=t.createElement(t.Fragment,null,t.createElement(Ue,{active:b,activator:t.createElement(Ce,{disclosure:!0,onClick:g},d||f.translate("Polaris.Common.more")),onClose:g},t.createElement(kt,{items:c}))));const y=T||S?t.createElement("div",{className:I(fe.Footer,m==="left"&&fe.LeftJustified)},m==="right"?t.createElement(Ct,null,S,T):t.createElement(Ct,null,T,S)):null;return t.createElement(ha.Provider,{value:!0},t.createElement("div",{className:h,ref:E},p,v,y))};Tn.Header=wa;Tn.Section=Ma;Tn.Subsection=Or;function Vr(){const e=u.useRef(null);return u.useEffect(()=>{const n=e.current;let a,l;if(n){const r=()=>{var d,m;ct(a,"top",!1),ct(l,"bottom",!1);const o=n.querySelectorAll(`.${fe.Section}, .${fe.Header}, .${fe.Footer}`);if(!(o!=null&&o.length))return;const i=o[0],c=jr(o);(d=n.firstChild)!=null&&d.contains(i)&&(a=i,ct(a,"top",!0)),(m=n.lastChild)!=null&&m.contains(c)&&(l=c,ct(l,"bottom",!0))};r();const s=new MutationObserver(r);return s.observe(n,{childList:!0,subtree:!0}),()=>{ct(a,"top",!1),ct(l,"bottom",!1),s.disconnect()}}},[]),e}function ct(e,n,a){if(!(!e||e.className.includes(fe["Section-flush"])))switch(n){case"top":e.classList.toggle(fe.FirstSectionPadding,a);return;case"bottom":e.classList.toggle(fe.LastSectionPadding,a)}}function jr(e){let n=e[0];return e.forEach(a=>{n.contains(a)||(n=a)}),n}var zr={ChoiceChildren:"Polaris-ChoiceList__ChoiceChildren"},gt={RadioButton:"Polaris-RadioButton",Input:"Polaris-RadioButton__Input",Backdrop:"Polaris-RadioButton__Backdrop",ChoiceLabel:"Polaris-RadioButton__ChoiceLabel",toneMagic:"Polaris-RadioButton--toneMagic"};function Ur({ariaDescribedBy:e,label:n,labelHidden:a,helpText:l,checked:r,disabled:s,onChange:o,onFocus:i,onBlur:c,id:d,name:m,value:f,fill:b,bleed:g,bleedBlockStart:E,bleedBlockEnd:h,bleedInlineStart:p,bleedInlineEnd:v,tone:T}){const S=u.useId(),y=d??S,_=m||y,L=u.useRef(null),N=()=>{c&&c()};function A({currentTarget:B}){o&&o(B.checked,y)}const R=[];l&&R.push(Nl(y)),e&&R.push(e);const j=R.length?R.join(" "):void 0,P=I(gt.Input,T&&gt[rt("tone",T)]),M={helpText:l,bleed:g,bleedBlockStart:E,bleedBlockEnd:h,bleedInlineStart:p,bleedInlineEnd:v};return t.createElement(_l,Object.assign({label:n,labelHidden:a,disabled:s,id:y,labelClassName:gt.ChoiceLabel,fill:b},M,r?{tone:T}:{}),t.createElement("span",{className:gt.RadioButton},t.createElement("input",{id:y,name:_,value:f,type:"radio",checked:r,disabled:s,className:P,onChange:A,onFocus:i,onBlur:N,"aria-describedby":j,ref:L}),t.createElement("span",{className:gt.Backdrop})))}function qr({title:e,titleHidden:n,allowMultiple:a,choices:l,selected:r,onChange:s=Gr,error:o,disabled:i=!1,name:c,tone:d}){const m=a?Ot:Ur,f=u.useId(),b=c??f,g=a?`${b}[]`:b,E=e?t.createElement(oe,{as:"legend",paddingBlockEnd:{xs:"0",md:"100"}},t.createElement(se,{as:"span",variant:"bodyMd",visuallyHidden:n},e)):null,h=l.map(v=>{const{value:T,id:S,label:y,helpText:_,disabled:L,describedByError:N}=v;function A(M){s(Zr(v,M,r,a),b)}const R=Wn(v,r),j=v.renderChildren?v.renderChildren(R):null,P=j?t.createElement("div",{className:zr.ChoiceChildren},t.createElement(oe,{paddingBlockStart:{xs:"400",md:"0"}},j)):null;return t.createElement("li",{key:T},t.createElement(sr,{marginBlockEnd:_?{xs:"100",md:"0"}:{xs:"0"}},t.createElement(m,{name:g,value:T,id:S,label:y,disabled:L||i,fill:{xs:!0,sm:!1},checked:Wn(v,r),helpText:_,onChange:A,ariaDescribedBy:o&&N?wl(g):null,tone:d}),P))}),p=o&&t.createElement(oe,{paddingBlockStart:{xs:"0",md:"100"},paddingBlockEnd:"200"},t.createElement(Fl,{message:o,fieldID:g}));return t.createElement(Mt,{as:"fieldset",gap:{xs:"400",md:"0"},"aria-invalid":o!=null,id:g},E,t.createElement(Mt,{as:"ul",gap:{xs:"400",md:"0"}},h),p)}function Gr(){}function Wn({value:e},n){return n.includes(e)}function Zr({value:e},n,a,l=!1){return n?l?[...a,e]:[e]:a.filter(r=>r!==e)}var Xr={InlineGrid:"Polaris-InlineGrid"};function Kr({children:e,columns:n,gap:a,alignItems:l}){const r={...Ml("inline-grid","grid-template-columns",Jr(n)),...Ll("inline-grid","gap","space",a),"--pc-inline-grid-align-items":l};return t.createElement("div",{className:Xr.InlineGrid,style:Bl(r)},e)}function Jr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([n,a])=>[n,$n(a)])):$n(e)}function $n(e){if(e)return typeof e=="number"||!isNaN(Number(e))?`repeat(${Number(e)}, minmax(0, 1fr))`:typeof e=="string"?e:e.map(n=>{switch(n){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const Qr=u.createContext(void 0);function Yr(e){return function(n,a){const{firstVisibleColumnIndex:l,tableLeftVisibleEdge:r,tableRightVisibleEdge:s}=e,o=n.offsetLeft,i=o+n.offsetWidth,c=On(o,r,s,"left"),d=On(i,r,s,"right"),m=c||d,f=n.offsetWidth;return m&&(e.firstVisibleColumnIndex=Math.min(l,a)),{leftEdge:o,rightEdge:i,isVisible:m,width:f,index:a}}}function On(e,n,a,l){return e>=n+(l==="left"?0:30)&&e<=a-30}function es(e,n){const{firstVisibleColumnIndex:a}=e,l=Math.max(a-1,0),r=n[l],s=n[a];return{previousColumn:r,currentColumn:s}}var O={DataTable:"Polaris-DataTable",condensed:"Polaris-DataTable--condensed",Navigation:"Polaris-DataTable__Navigation",Pip:"Polaris-DataTable__Pip","Pip-visible":"Polaris-DataTable__Pip--visible",ScrollContainer:"Polaris-DataTable__ScrollContainer",Table:"Polaris-DataTable__Table",TableRow:"Polaris-DataTable__TableRow",Cell:"Polaris-DataTable__Cell",IncreasedTableDensity:"Polaris-DataTable__IncreasedTableDensity",ZebraStripingOnData:"Polaris-DataTable__ZebraStripingOnData",RowCountIsEven:"Polaris-DataTable__RowCountIsEven",ShowTotalsInFooter:"Polaris-DataTable__ShowTotalsInFooter","Cell-separate":"Polaris-DataTable__Cell--separate","Cell-firstColumn":"Polaris-DataTable__Cell--firstColumn","Cell-numeric":"Polaris-DataTable__Cell--numeric","Cell-truncated":"Polaris-DataTable__Cell--truncated","Cell-header":"Polaris-DataTable__Cell--header","Cell-sortable":"Polaris-DataTable__Cell--sortable","Heading-left":"Polaris-DataTable__Heading--left","Cell-verticalAlignTop":"Polaris-DataTable__Cell--verticalAlignTop","Cell-verticalAlignBottom":"Polaris-DataTable__Cell--verticalAlignBottom","Cell-verticalAlignMiddle":"Polaris-DataTable__Cell--verticalAlignMiddle","Cell-verticalAlignBaseline":"Polaris-DataTable__Cell--verticalAlignBaseline",hoverable:"Polaris-DataTable--hoverable","Cell-hovered":"Polaris-DataTable__Cell--hovered",Icon:"Polaris-DataTable__Icon",Heading:"Polaris-DataTable__Heading",StickyHeaderEnabled:"Polaris-DataTable__StickyHeaderEnabled",StickyHeaderWrapper:"Polaris-DataTable__StickyHeaderWrapper","Cell-sorted":"Polaris-DataTable__Cell--sorted","Cell-total":"Polaris-DataTable__Cell--total",ShowTotals:"Polaris-DataTable__ShowTotals","Cell-total-footer":"Polaris-DataTable--cellTotalFooter",Footer:"Polaris-DataTable__Footer",StickyHeaderInner:"Polaris-DataTable__StickyHeaderInner","StickyHeaderInner-isSticky":"Polaris-DataTable__StickyHeaderInner--isSticky",StickyHeaderTable:"Polaris-DataTable__StickyHeaderTable",FixedFirstColumn:"Polaris-DataTable__FixedFirstColumn",StickyTableHeadingsRow:"Polaris-DataTable__StickyTableHeadingsRow",TooltipContent:"Polaris-DataTable__TooltipContent"};function Et({content:e,contentType:n,nthColumn:a,firstColumn:l,truncate:r,header:s,total:o,totalInFooter:i,sorted:c,sortable:d,sortDirection:m,inFixedNthColumn:f,verticalAlign:b="top",defaultSortDirection:g="ascending",onSort:E,colSpan:h,setRef:p=()=>{},stickyHeadingCell:v=!1,stickyCellWidth:T,hovered:S=!1,handleFocus:y=()=>{},hasFixedNthColumn:_=!1,fixedCellVisible:L=!1,firstColumnMinWidth:N,style:A,lastFixedFirstColumn:R}){const j=re(),P=n==="numeric",M=I(O.Cell,O[`Cell-${rt("verticalAlign",b)}`],l&&O["Cell-firstColumn"],r&&O["Cell-truncated"],s&&O["Cell-header"],o&&O["Cell-total"],i&&O["Cell-total-footer"],P&&O["Cell-numeric"],d&&O["Cell-sortable"],c&&O["Cell-sorted"],v&&O.StickyHeaderCell,S&&O["Cell-hovered"],R&&f&&L&&O["Cell-separate"],a&&f&&v&&O.FixedFirstColumn),B=I(s&&O.Heading,s&&n==="text"&&O["Heading-left"]),w=I(d&&O.Icon),V=c&&m?m:g,Q=V==="descending"?Rt:Bt,te=m==="ascending"?"descending":"ascending",k=j.translate("Polaris.DataTable.sortAccessibilityLabel",{direction:c?te:V}),H=t.createElement("span",{className:w},t.createElement(Ie,{source:Q,accessibilityLabel:k})),$=!(v&&_&&a&&!f),Z=d?t.createElement("button",{className:B,onClick:E,onFocus:y,tabIndex:$?0:-1},H,e):e,ne=h&&h>1?{colSpan:h}:{},W=a&&N?{minWidth:N}:{minWidth:T},q=t.createElement("th",Object.assign({ref:p},an.props,ne,{className:M,"aria-sort":m,style:{...A,...W},"data-index-table-sticky-heading":!0}),Z),U=s?t.createElement("th",Object.assign({},an.props,{"aria-sort":m},ne,{ref:p,className:M,scope:"col",style:{...W}}),Z):t.createElement("th",Object.assign({},ne,{ref:p,className:M,scope:"row",style:{...W}}),r?t.createElement(ts,{className:O.TooltipContent},e):e),z=s||l||a?U:t.createElement("td",Object.assign({className:M},ne),e);return v?q:z}const ts=({children:e,className:n=""})=>{const a=u.useRef(null),{current:l}=a,r=t.createElement("span",{ref:a,className:n},e);return(l==null?void 0:l.scrollWidth)>(l==null?void 0:l.offsetWidth)?t.createElement(Re,{content:a.current.innerText},r):r};function La({children:e,onMount:n,fallback:a=null}){const l=Rl(),r=l?e:a;return u.useEffect(()=>{l&&n&&n()},[l,n]),t.createElement(t.Fragment,null,r)}function ns(){const e=u.useContext(Dl);if(!e)throw new bn("No StickyManager was provided.");return e}class as extends u.Component{constructor(...n){super(...n),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=a=>{this.placeHolderNode=a},this.setStickyNode=a=>{this.stickyNode=a},this.handlePositioning=(a,l=0,r=0,s=0)=>{const{isSticky:o}=this.state;(a&&!o||!a&&o)&&(this.adjustPlaceHolderNode(a),this.setState({isSticky:!o},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!o),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const i=a?{position:"fixed",top:l,left:r,width:s}:{};this.setState({style:i})},this.adjustPlaceHolderNode=a=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=a?`${Hl(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:n,offset:a=!1,disableWhenStacked:l=!1,stickyManager:r}=this.props;!this.stickyNode||!this.placeHolderNode||r.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:a,boundingElement:n,disableWhenStacked:l})}componentWillUnmount(){const{stickyManager:n}=this.props;this.stickyNode&&n.unregisterStickyItem(this.stickyNode)}render(){const{style:n,isSticky:a}=this.state,{children:l}=this.props,r=ls(l)?l(a):l;return t.createElement("div",null,t.createElement("div",{ref:this.setPlaceHolderNode}),t.createElement("div",{ref:this.setStickyNode,style:n},r))}}function ls(e){return typeof e=="function"}function Ba(e){const n=ns();return t.createElement(as,Object.assign({},e,{stickyManager:n}))}function rs({columnVisibilityData:e,isScrolledFarthestLeft:n,isScrolledFarthestRight:a,navigateTableLeft:l,navigateTableRight:r,fixedFirstColumns:s,setRef:o=()=>{}}){const i=re(),c=e.map((f,b)=>{if(b<s)return;const g=I(O.Pip,f.isVisible&&O["Pip-visible"]);return t.createElement("div",{className:g,key:`pip-${b}`})}),d=i.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"left"}),m=i.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"right"});return t.createElement("div",{className:O.Navigation,ref:o},t.createElement(Ce,{variant:"tertiary",icon:ir,disabled:n,accessibilityLabel:d,onClick:l}),c,t.createElement(Ce,{variant:"tertiary",icon:or,disabled:a,accessibilityLabel:m,onClick:r}))}const Vn=e=>{const n=[];return e&&e.forEach(a=>{n.push(a.clientHeight)}),n};class ss extends u.PureComponent{constructor(...n){super(...n),this.state={condensed:!1,columnVisibilityData:[],isScrolledFarthestLeft:!0,isScrolledFarthestRight:!1,rowHovered:void 0},this.dataTable=u.createRef(),this.scrollContainer=u.createRef(),this.table=u.createRef(),this.stickyTable=u.createRef(),this.stickyNav=null,this.headerNav=null,this.tableHeadings=[],this.stickyHeadings=[],this.tableHeadingWidths=[],this.stickyHeaderActive=!1,this.scrollStopTimer=null,this.handleResize=st(()=>{const{table:{current:a},scrollContainer:{current:l}}=this;let r=!1;a&&l&&(r=a.scrollWidth>l.clientWidth+1),this.setState({condensed:r,...this.calculateColumnVisibilityData(r)})}),this.setCellRef=({ref:a,index:l,inStickyHeader:r})=>{if(a!=null)if(r){this.stickyHeadings[l]=a;const s=a.querySelector("button");if(s==null)return;s.addEventListener("focus",this.handleHeaderButtonFocus)}else this.tableHeadings[l]=a,this.tableHeadingWidths[l]=a.clientWidth},this.changeHeadingFocus=()=>{const{tableHeadings:a,stickyHeadings:l,stickyNav:r,headerNav:s}=this,o=l.findIndex(g=>{var E;return g===((E=document.activeElement)==null?void 0:E.parentElement)}),i=a.findIndex(g=>{var E;return g===((E=document.activeElement)==null?void 0:E.parentElement)}),c=r==null?void 0:r.querySelectorAll("button"),d=s==null?void 0:s.querySelectorAll("button");let m=-1;c==null||c.forEach((g,E)=>{g===document.activeElement&&(m=E)});let f=-1;if(d==null||d.forEach((g,E)=>{g===document.activeElement&&(f=E)}),o<0&&i<0&&m<0&&f<0)return null;let b;if(o>=0?b=a[o].querySelector("button"):i>=0&&(b=l[i].querySelector("button")),m>=0?b=d==null?void 0:d[m]:f>=0&&(b=c==null?void 0:c[f]),b==null)return null;b.style.visibility="visible",b.focus(),b.style.removeProperty("visibility")},this.calculateColumnVisibilityData=a=>{const l=this.fixedFirstColumns(),{table:{current:r},scrollContainer:{current:s},dataTable:{current:o}}=this,{stickyHeader:i}=this.props;if((i||a)&&r&&s&&o){const c=r.querySelectorAll(an.selector),d=c[l-1],m=l?d.offsetLeft+d.offsetWidth:0;if(c.length>0){const f=c.length-1,b=s.scrollLeft+m,g=s.scrollLeft+o.offsetWidth,E={firstVisibleColumnIndex:f,tableLeftVisibleEdge:b,tableRightVisibleEdge:g},h=[...c].map(Yr(E)),p=h[h.length-1],v=l?b===m:b===0;return{columnVisibilityData:h,...es(E,h),isScrolledFarthestLeft:v,isScrolledFarthestRight:p.rightEdge<=g}}}return{columnVisibilityData:[],previousColumn:void 0,currentColumn:void 0}},this.handleHeaderButtonFocus=a=>{var b;const l=this.fixedFirstColumns();if(this.scrollContainer.current==null||a.target==null||this.state.columnVisibilityData.length===0)return;const s=a.target.parentNode,o=this.scrollContainer.current.scrollLeft,i=this.scrollContainer.current.offsetWidth,c=o+i,d=this.state.columnVisibilityData.length>0?(b=this.state.columnVisibilityData[l])==null?void 0:b.rightEdge:0,m=s.offsetLeft,f=s.offsetLeft+s.offsetWidth;o>m-d&&(this.scrollContainer.current.scrollLeft=m-d),f>c&&(this.scrollContainer.current.scrollLeft=f-i)},this.stickyHeaderScrolling=()=>{const{current:a}=this.stickyTable,{current:l}=this.scrollContainer;a==null||l==null||(a.scrollLeft=l.scrollLeft)},this.scrollListener=()=>{var a;this.scrollStopTimer&&clearTimeout(this.scrollStopTimer),this.scrollStopTimer=setTimeout(()=>{this.setState(l=>({...this.calculateColumnVisibilityData(l.condensed)}))},100),this.setState({isScrolledFarthestLeft:((a=this.scrollContainer.current)==null?void 0:a.scrollLeft)===0}),this.props.stickyHeader&&this.stickyHeaderActive&&this.stickyHeaderScrolling()},this.handleHover=a=>()=>{this.setState({rowHovered:a})},this.handleFocus=a=>{var d;const l=this.fixedFirstColumns();if(this.scrollContainer.current==null||a.target==null)return;const r=a.target.parentNode,o=this.props?(d=this.state.columnVisibilityData[l])==null?void 0:d.rightEdge:0,c=r.offsetLeft-o;this.scrollContainer.current.scrollLeft>c&&(this.scrollContainer.current.scrollLeft=c)},this.navigateTable=a=>{var m;const l=this.fixedFirstColumns(),{currentColumn:r,previousColumn:s}=this.state,o=(m=this.state.columnVisibilityData[l-1])==null?void 0:m.rightEdge;if(!r||!s)return;let i=0;for(let f=0;f<r.index;f++)i+=this.state.columnVisibilityData[f].width;const{current:c}=this.scrollContainer;return()=>{let f=0;l?f=a==="right"?i-o+r.width:i-s.width-o:f=a==="right"?r.rightEdge:s.leftEdge,c&&(c.scrollLeft=f,requestAnimationFrame(()=>{this.setState(b=>({...this.calculateColumnVisibilityData(b.condensed)}))}))}},this.renderHeading=({heading:a,headingIndex:l,inFixedNthColumn:r,inStickyHeader:s})=>{var A;const{sortable:o,truncate:i=!1,columnContentTypes:c,defaultSortDirection:d,initialSortColumnIndex:m=0,verticalAlign:f,firstColumnMinWidth:b}=this.props,g=this.fixedFirstColumns(),{sortDirection:E=d,sortedColumnIndex:h=m,isScrolledFarthestLeft:p}=this.state;let v;const T=`heading-cell-${l}`,S=`stickyheader-${l}`,y=s?S:T;if(o){const R=o[l],j=R&&h===l;v={defaultSortDirection:d,sorted:j,sortable:R,sortDirection:j?E:"none",onSort:this.defaultOnSort(l),fixedNthColumn:g,inFixedNthColumn:g}}const _=s?this.tableHeadingWidths[l]:void 0,L=!p,N={header:!0,stickyHeadingCell:s,content:a,contentType:c[l],nthColumn:l<g,fixedFirstColumns:g,truncate:i,headingIndex:l,...v,verticalAlign:f,handleFocus:this.handleFocus,stickyCellWidth:_,fixedCellVisible:L,firstColumnMinWidth:b};return r&&s?[t.createElement(Et,Object.assign({key:y},N,{setRef:R=>{this.setCellRef({ref:R,index:l,inStickyHeader:s})},inFixedNthColumn:!1})),t.createElement(Et,Object.assign({key:`${y}-sticky`},N,{setRef:R=>{this.setCellRef({ref:R,index:l,inStickyHeader:s})},inFixedNthColumn:!!g,lastFixedFirstColumn:l===g-1,style:{left:(A=this.state.columnVisibilityData[l])==null?void 0:A.leftEdge}}))]:t.createElement(Et,Object.assign({key:y},N,{setRef:R=>{this.setCellRef({ref:R,index:l,inStickyHeader:s})},lastFixedFirstColumn:l===g-1,inFixedNthColumn:r}))},this.totalsRowHeading=()=>{const{i18n:a,totals:l,totalsName:r}=this.props,s=r||{singular:a.translate("Polaris.DataTable.totalRowHeading"),plural:a.translate("Polaris.DataTable.totalsRowHeading")};return l&&l.filter(o=>o!=="").length>1?s.plural:s.singular},this.renderTotals=({total:a,index:l})=>{const r=this.fixedFirstColumns(),s=`totals-cell-${l}`,{truncate:o=!1,verticalAlign:i,columnContentTypes:c}=this.props;let d,m;l===0&&(d=this.totalsRowHeading()),a!==""&&l>0&&(m=c[l],d=a);const f=this.props.showTotalsInFooter;return t.createElement(Et,{total:!0,totalInFooter:f,nthColumn:l<=r-1,firstColumn:l===0,key:s,content:d,contentType:m,truncate:o,verticalAlign:i})},this.getColSpan=(a,l,r,s)=>{if(this.fixedFirstColumns())return 1;const i=a||1,c=l||r,d=Math.floor(c/i),m=c%i;return s===0?d+m:d},this.defaultRenderRow=({row:a,index:l,inFixedNthColumn:r,rowHeights:s})=>{const{columnContentTypes:o,truncate:i=!1,verticalAlign:c,hoverable:d=!0,headings:m}=this.props,{condensed:f}=this.state,b=this.fixedFirstColumns(),g=I(O.TableRow,d&&O.hoverable);return t.createElement("tr",{key:`row-${l}`,className:g,onMouseEnter:this.handleHover(l),onMouseLeave:this.handleHover()},a.map((E,h)=>{const p=l===this.state.rowHovered,v=`cell-${h}-row-${l}`,T=this.getColSpan(a.length,m.length,o.length,h);return t.createElement(Et,{key:v,content:E,contentType:o[h],nthColumn:h<=b-1,firstColumn:h===0,truncate:i,verticalAlign:c,colSpan:T,hovered:p,style:s?{height:`${s[l]}px`}:{},inFixedNthColumn:f&&r})}))},this.defaultOnSort=a=>{const{onSort:l,defaultSortDirection:r="ascending",initialSortColumnIndex:s}=this.props,{sortDirection:o=r,sortedColumnIndex:i=s}=this.state;let c=r;return i===a&&(c=o==="ascending"?"descending":"ascending"),()=>{this.setState({sortDirection:c,sortedColumnIndex:a},()=>{l&&l(a,c)})}}}componentDidMount(){this.handleResize()}componentDidUpdate(n){Sa(n,this.props)||this.handleResize()}componentWillUnmount(){this.handleResize.cancel()}render(){var ee,Z,ne;const{headings:n,totals:a,showTotalsInFooter:l,rows:r,footerContent:s,hideScrollIndicator:o=!1,increasedTableDensity:i=!1,hasZebraStripingOnData:c=!1,stickyHeader:d=!1,hasFixedFirstColumn:m=!1,pagination:f}=this.props,{condensed:b,columnVisibilityData:g,isScrolledFarthestLeft:E,isScrolledFarthestRight:h}=this.state,p=this.fixedFirstColumns(),v=r.length%2===0,T=I(O.DataTable,b&&O.condensed,a&&O.ShowTotals,l&&O.ShowTotalsInFooter,c&&O.ZebraStripingOnData,c&&v&&O.RowCountIsEven),S=I(O.TableWrapper,b&&O.condensed,i&&O.IncreasedTableDensity,d&&O.StickyHeaderEnabled),y=t.createElement("tr",null,n.map((W,q)=>this.renderHeading({heading:W,headingIndex:q,inFixedNthColumn:!1,inStickyHeader:!1}))),_=a?t.createElement("tr",null,a.map((W,q)=>this.renderTotals({total:W,index:q}))):null,L=r.map(W=>W.slice(0,p)),N=n.slice(0,p),A=a==null?void 0:a.slice(0,p),R=(ee=this.table.current)==null?void 0:ee.children[0].childNodes,j=(Z=this.table.current)==null?void 0:Z.children[1].childNodes,P=Vn(R),M=Vn(j),B=b&&p!==0&&t.createElement("table",{className:I(O.FixedFirstColumn,!E&&O.separate),style:{width:`${(ne=g[p-1])==null?void 0:ne.rightEdge}px`}},t.createElement("thead",null,t.createElement("tr",{style:{height:`${P[0]}px`}},N.map((W,q)=>this.renderHeading({heading:W,headingIndex:q,inFixedNthColumn:!0,inStickyHeader:!1}))),a&&!l&&t.createElement("tr",{style:{height:`${P[1]}px`}},A==null?void 0:A.map((W,q)=>this.renderTotals({total:W,index:q})))),t.createElement("tbody",null,L.map((W,q)=>this.defaultRenderRow({row:W,index:q,inFixedNthColumn:!0,rowHeights:M}))),a&&l&&t.createElement("tfoot",null,t.createElement("tr",null,A==null?void 0:A.map((W,q)=>this.renderTotals({total:W,index:q}))))),w=r.map((W,q)=>this.defaultRenderRow({row:W,index:q,inFixedNthColumn:!1})),V=s?t.createElement("div",{className:O.Footer},s):null,Q=f?t.createElement(Ca,Object.assign({type:"table"},f)):null,te=l?null:_,k=l?t.createElement("tfoot",null,_):null,H=W=>o?null:t.createElement(rs,{columnVisibilityData:g,isScrolledFarthestLeft:E,isScrolledFarthestRight:h,navigateTableLeft:this.navigateTable("left"),navigateTableRight:this.navigateTable("right"),fixedFirstColumns:p,setRef:q=>{W==="header"?this.headerNav=q:W==="sticky"&&(this.stickyNav=q)}}),$=d?t.createElement(La,null,t.createElement("div",{className:O.StickyHeaderWrapper,role:"presentation"},t.createElement(Ba,{boundingElement:this.dataTable.current,onStickyChange:W=>{this.changeHeadingFocus(),this.stickyHeaderActive=W}},W=>{const q=I(O.StickyHeaderInner,W&&O["StickyHeaderInner-isSticky"]),U=I(O.StickyHeaderTable,!E&&O.separate);return t.createElement("div",{className:q},t.createElement("div",null,H("sticky")),t.createElement("table",{className:U,ref:this.stickyTable},t.createElement("thead",null,t.createElement("tr",{className:O.StickyTableHeadingsRow},n.map((z,ce)=>this.renderHeading({heading:z,headingIndex:ce,inFixedNthColumn:!!(ce<=p-1&&p),inStickyHeader:!0}))))))}))):null;return t.createElement("div",{className:S,ref:this.dataTable},$,H("header"),t.createElement("div",{className:T},t.createElement("div",{className:O.ScrollContainer,ref:this.scrollContainer},t.createElement(Lt,{event:"resize",handler:this.handleResize}),t.createElement(Lt,{capture:!0,passive:!0,event:"scroll",handler:this.scrollListener}),B,t.createElement("table",{className:O.Table,ref:this.table},t.createElement("thead",null,y,te),t.createElement("tbody",null,w),k)),Q,V))}fixedFirstColumns(){const{hasFixedFirstColumn:n,fixedFirstColumns:a=0,headings:l}=this.props,r=n&&!a?1:a;return r>=l.length?0:r}}function is(e){const n=re();return t.createElement(ss,Object.assign({},e,{i18n:n}))}var os="data:image/svg+xml,%3csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' d='M41.87 24a17.87 17.87 0 11-35.74 0 17.87 17.87 0 0135.74 0zm-3.15 18.96a24 24 0 114.24-4.24L59.04 54.8a3 3 0 11-4.24 4.24L38.72 42.96z' fill='%238C9196'/%3e%3c/svg%3e",cs=os;function Ra({title:e,description:n,withIllustration:a}){const r=re().translate("Polaris.EmptySearchResult.altText"),s=n?t.createElement("p",null,n):null,o=a?t.createElement(Wl,{alt:r,source:cs,draggable:!1}):null;return t.createElement(St,{alignment:"center",vertical:!0},o,t.createElement(se,{variant:"headingLg",as:"p"},e),t.createElement(se,{tone:"subdued",as:"span"},s))}var xe={Container:"Polaris-Filters__Container",SearchField:"Polaris-Filters__SearchField",FiltersWrapper:"Polaris-Filters__FiltersWrapper",hideQueryField:"Polaris-Filters--hideQueryField",FiltersInner:"Polaris-Filters__FiltersInner",AddFilter:"Polaris-Filters__AddFilter",FiltersWrapperWithAddButton:"Polaris-Filters__FiltersWrapperWithAddButton",AddFilterActivatorMultiple:"Polaris-Filters__AddFilterActivatorMultiple",FiltersStickyArea:"Polaris-Filters__FiltersStickyArea",ClearAll:"Polaris-Filters__ClearAll",MultiplePinnedFilterClearAll:"Polaris-Filters__MultiplePinnedFilterClearAll"};function us({onChange:e,onClear:n,onFocus:a,onBlur:l,focused:r,value:s,placeholder:o,disabled:i,borderlessQueryField:c,loading:d,selectedViewName:m}){const f=re(),b=u.useId(),{mdUp:g}=hn(),E=s&&m&&g?t.createElement(se,{as:"span",variant:"bodyMd",tone:"subdued"},f.translate("Polaris.Filters.searchInView",{viewName:m})):null;function h(v){e(v??s)}function p(){n?n():e("")}return t.createElement(Pt,{id:b,value:s,onChange:h,onFocus:a,onBlur:l,onClearButtonClick:p,autoComplete:"off",placeholder:o,disabled:i,variant:c?"borderless":"inherit",size:"slim",prefix:g?t.createElement(Ie,{source:ya}):void 0,suffix:E,focused:r,label:o,labelHidden:!0,clearButton:!0,autoSize:!!E,loading:d})}function Da(e,n){const a=t.useRef(e);u.useEffect(()=>{const l=a.current;e!==a.current&&(a.current=e,n(e,l))},[e,n])}var Ne={FilterButton:"Polaris-Filters-FilterPill__FilterButton",focusedFilterButton:"Polaris-Filters-FilterPill--focusedFilterButton",ActiveFilterButton:"Polaris-Filters-FilterPill__ActiveFilterButton",PlainButton:"Polaris-Filters-FilterPill__PlainButton",ToggleButton:"Polaris-Filters-FilterPill__ToggleButton",clearButton:"Polaris-Filters-FilterPill--clearButton",IconWrapper:"Polaris-Filters-FilterPill__IconWrapper",PopoverWrapper:"Polaris-Filters-FilterPill__PopoverWrapper",ClearButtonWrapper:"Polaris-Filters-FilterPill__ClearButtonWrapper"};function ds({unsavedChanges:e=!1,filterKey:n,label:a,filter:l,disabled:r,hideClearButton:s,selected:o,initialActive:i,closeOnChildOverlayClick:c,onRemove:d,onClick:m}){const f=re(),b=u.useRef(null),{value:g,setTrue:E,setFalse:h}=ft(!1),[p,v]=u.useState(i);u.useEffect(()=>{var Q,te;const w=b.current;if(!w||!p)return;const V=(Q=w.parentElement)==null?void 0:Q.parentElement;V&&((te=V.scroll)==null||te.call(V,{left:w.offsetLeft}))},[b,p]);const T=u.useCallback(()=>{l&&v(w=>!w),m&&m(n)},[l,n,m]),S=u.useCallback(()=>{T(),o||d==null||d(n)},[d,o,n,T]),y=()=>{d&&d(n),v(!1)},_=I(Ne.FilterButton,o&&Ne.ActiveFilterButton,p&&Ne.FocusFilterButton,g&&Ne.focusedFilterButton),L=I(Ne.PlainButton,Ne.clearButton),N=I(Ne.PlainButton,Ne.ToggleButton),A=o?null:t.createElement("div",{className:Ne.IconWrapper},t.createElement(Ie,{source:gn,tone:"base"})),R=t.createElement(oe,{paddingInlineStart:e?"0":"050"},t.createElement(le,null,t.createElement(se,{variant:"bodySm",as:"span"},a))),j=e?t.createElement(oe,{paddingInlineEnd:"150"},t.createElement(oe,{background:"bg-fill-emphasis",borderRadius:"050",width:"6px",minHeight:"6px"})):null,P=o?t.createElement(qe,{onClick:y,className:L,type:"button","aria-label":f.translate("Polaris.FilterPill.clear")},t.createElement("div",{className:Ne.IconWrapper},t.createElement(Ie,{source:$l,tone:"base"}))):null,M=t.createElement("div",{className:_},t.createElement(le,{gap:"0",wrap:!1},t.createElement(qe,{onFocus:E,onBlur:h,onClick:T,className:N,type:"button",accessibilityLabel:e?f.translate("Polaris.FilterPill.unsavedChanges",{label:a}):a},t.createElement(le,{wrap:!1,align:"center",blockAlign:"center",gap:"0"},j,R,A)),P)),B=!s&&t.createElement("div",{className:Ne.ClearButtonWrapper},t.createElement(Ce,{onClick:y,variant:"plain",disabled:!o,textAlign:"left"},f.translate("Polaris.FilterPill.clear")));return r?null:t.createElement("div",{ref:b},t.createElement(Ue,{active:p,activator:M,key:n,onClose:S,preferredAlignment:"left",preventCloseOnChildOverlayClick:!c},t.createElement("div",{className:Ne.PopoverWrapper},t.createElement(Ue.Section,null,t.createElement(Mt,{gap:"100"},l,B)))))}function ms({filters:e,appliedFilters:n,onClearAll:a,disabled:l,hideQueryField:r,disableFilters:s,mountedStateStyles:o,onAddFilterClick:i,closeOnChildOverlayClick:c,children:d}){const m=re(),[f,b]=u.useState(!1),g=u.useRef(!1);u.useEffect(()=>{g.current=!0});const E=()=>b(k=>!k),h=()=>{i==null||i(),E()},p=n==null?void 0:n.map(({key:k})=>k),v=e.filter(({pinned:k})=>k).map(({key:k})=>k),T=e.filter(({pinned:k,key:H})=>!!k||(p==null?void 0:p.includes(H))),[S,y]=u.useState(T.map(({key:k})=>k));Da(e.length,()=>{y(T.map(({key:k})=>k))});const _=S.map(k=>e.find(H=>H.key===k)).reduce((k,H)=>H?[...k,H]:k,[]),L=({key:k,onAction:H})=>()=>{setTimeout(()=>{y($=>[...new Set([...$,k])]),H==null||H(),E()},0)},N=k=>({...k,content:k.label,onAction:L(k)}),A=e.filter(k=>!_.some(({key:H})=>H===k.key)),R=A.filter(k=>!k.section&&!k.hidden).map(N),j=A.filter(k=>k.section).reduce((k,H)=>{const $=N(H),ee=k.findIndex(Z=>Z.title===H.section);return ee===-1?k.push({title:H.section,items:[$]}):k[ee].items.push($),k},[]),P=_.length>=1,M=t.createElement("div",null,t.createElement(qe,{type:"button",className:xe.AddFilter,onClick:h,"aria-label":m.translate("Polaris.Filters.addFilter"),disabled:l||R.length===0&&j.length===0||s},t.createElement(se,{as:"span",variant:"bodySm",tone:l?"disabled":"base"},m.translate("Polaris.Filters.addFilter")," "),t.createElement(vn,null))),B=()=>{y(v),a==null||a()},w=e.some(k=>!k.pinned)||e.length!==S.length,V=_.map(({key:k,...H})=>{const $=n==null?void 0:n.find(({key:Z})=>Z===k),ee=()=>{y(Z=>Z.filter(ne=>{const W=ne===k,q=v.includes(ne);return!W||q})),$==null||$.onRemove(k)};return t.createElement(ds,Object.assign({key:k},H,{initialActive:g.current&&!H.pinned&&!$,unsavedChanges:$==null?void 0:$.unsavedChanges,label:($==null?void 0:$.label)||H.label,filterKey:k,selected:p==null?void 0:p.includes(k),onRemove:ee,disabled:H.disabled||s,closeOnChildOverlayClick:c}))}),Q=w?t.createElement("div",{className:I(xe.AddFilterActivator,P&&xe.AddFilterActivatorMultiple)},t.createElement(Ue,{active:f&&!l,activator:M,onClose:E},t.createElement(kt,{actionRole:"menuitem",items:R,sections:j}))):null,te=n!=null&&n.length?t.createElement("div",{className:I(xe.ClearAll,P&&w&&xe.MultiplePinnedFilterClearAll)},t.createElement(Ce,{size:"micro",onClick:B,variant:"monochromePlain"},m.translate("Polaris.Filters.clearFilters"))):null;return t.createElement("div",{className:I(xe.FiltersWrapper,w&&P&&xe.FiltersWrapperWithAddButton),"aria-live":"polite",style:o},t.createElement("div",{className:I(xe.FiltersInner)},t.createElement("div",{className:I(xe.FiltersStickyArea)},V,Q,te)),r?t.createElement(oe,{paddingInlineEnd:"300",paddingBlockStart:"200",paddingBlockEnd:"200"},t.createElement(le,{align:"start",blockAlign:"center",gap:{xs:"400",md:"300"}},d)):null)}const un="var(--p-motion-duration-150)",wt="-36px",fs={transition:`opacity ${un} var(--p-motion-ease)`,opacity:0},ps={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0},unmounted:{opacity:0}},bs={transition:`opacity ${un} var(--p-motion-ease), margin ${un} var(--p-motion-ease)`,opacity:0,marginTop:wt},hs={entering:{opacity:1,marginTop:0},entered:{opacity:1,marginTop:0},exiting:{opacity:0,marginTop:wt},exited:{opacity:0,marginTop:wt},unmounted:{opacity:0,marginTop:wt}};function gs({queryValue:e,queryPlaceholder:n,focused:a,filters:l,appliedFilters:r,onQueryChange:s,onQueryClear:o,onQueryBlur:i,onQueryFocus:c,onClearAll:d,children:m,disabled:f,hideFilters:b,hideQueryField:g,disableQueryField:E,borderlessQueryField:h,loading:p,disableFilters:v,mountedState:T,onAddFilterClick:S,closeOnChildOverlayClick:y,selectedViewName:_}){const L=b||l.length===0,N=g?null:t.createElement("div",{className:xe.Container},t.createElement(oe,{padding:"200"},t.createElement(le,{align:"start",blockAlign:"center",gap:{xs:"400",md:"300"}},t.createElement("div",{className:xe.SearchField,style:T?{...fs,...ps[T]}:void 0},t.createElement(us,{onChange:s,onFocus:c,onBlur:i,onClear:o,value:e,placeholder:n,focused:a,disabled:f||E,borderlessQueryField:h,loading:p,selectedViewName:_})),m))),A=T&&!g?{...bs,...hs[T]}:void 0,R=L?null:t.createElement(ms,{filters:l,appliedFilters:r,onClearAll:d,disabled:f,hideQueryField:g,disableFilters:v,onAddFilterClick:S,closeOnChildOverlayClick:y,mountedStateStyles:A},m);return t.createElement("div",{className:I(xe.Filters,g&&xe.hideQueryField)},N,R)}const Es=u.memo(function({children:n,disabled:a,root:l}){return u.useEffect(()=>{if(a||!l)return;const r=vs(l)?l.current:l;!r||r.querySelector("[autofocus]")||De(r,!1)},[a,l]),t.createElement(t.Fragment,null,n)});function vs(e){return e.current!==void 0}function Cn(e,n){if(e==null)return{};var a={},l=Object.keys(e),r,s;for(s=0;s<l.length;s++)r=l[s],!(n.indexOf(r)>=0)&&(a[r]=e[r]);return a}function dn(e,n){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,r){return l.__proto__=r,l},dn(e,n)}function yn(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,dn(e,n)}function Ts(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}function Cs(e,n){e.classList?e.classList.add(n):Ts(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function jn(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ys(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=jn(e.className,n):e.setAttribute("class",jn(e.className&&e.className.baseVal||"",n))}const zn={disabled:!1},Dt=t.createContext(null);var Ha=function(n){return n.scrollTop},vt="unmounted",nt="exited",at="entering",dt="entered",mn="exiting",Ge=function(e){yn(n,e);function n(l,r){var s;s=e.call(this,l,r)||this;var o=r,i=o&&!o.isMounting?l.enter:l.appear,c;return s.appearStatus=null,l.in?i?(c=nt,s.appearStatus=at):c=dt:l.unmountOnExit||l.mountOnEnter?c=vt:c=nt,s.state={status:c},s.nextCallback=null,s}n.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===vt?{status:nt}:null};var a=n.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==at&&o!==dt&&(s=at):(o===at||o===dt)&&(s=mn)}this.updateStatus(!1,s)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var r=this.props.timeout,s,o,i;return s=o=i=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,i=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:i}},a.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===at){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Nt.findDOMNode(this);o&&Ha(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nt&&this.setState({status:vt})},a.performEnter=function(r){var s=this,o=this.props.enter,i=this.context?this.context.isMounting:r,c=this.props.nodeRef?[i]:[Nt.findDOMNode(this),i],d=c[0],m=c[1],f=this.getTimeouts(),b=i?f.appear:f.enter;if(!r&&!o||zn.disabled){this.safeSetState({status:dt},function(){s.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:at},function(){s.props.onEntering(d,m),s.onTransitionEnd(b,function(){s.safeSetState({status:dt},function(){s.props.onEntered(d,m)})})})},a.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),i=this.props.nodeRef?void 0:Nt.findDOMNode(this);if(!s||zn.disabled){this.safeSetState({status:nt},function(){r.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:mn},function(){r.props.onExiting(i),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:nt},function(){r.props.onExited(i)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},a.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(i){o&&(o=!1,s.nextCallback=null,r(i))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},a.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Nt.findDOMNode(this),i=r==null&&!this.props.addEndListener;if(!o||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=c[0],m=c[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},a.render=function(){var r=this.state.status;if(r===vt)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var i=Cn(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return t.createElement(Dt.Provider,{value:null},typeof o=="function"?o(r,i):t.cloneElement(t.Children.only(o),i))},n}(t.Component);Ge.contextType=Dt;Ge.propTypes={};function ut(){}Ge.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ut,onEntering:ut,onEntered:ut,onExit:ut,onExiting:ut,onExited:ut};Ge.UNMOUNTED=vt;Ge.EXITED=nt;Ge.ENTERING=at;Ge.ENTERED=dt;Ge.EXITING=mn;const Ht=Ge;var Ss=function(n,a){return n&&a&&a.split(" ").forEach(function(l){return Cs(n,l)})},Qt=function(n,a){return n&&a&&a.split(" ").forEach(function(l){return ys(n,l)})},Sn=function(e){yn(n,e);function n(){for(var l,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return l=e.call.apply(e,[this].concat(s))||this,l.appliedClasses={appear:{},enter:{},exit:{}},l.onEnter=function(i,c){var d=l.resolveArguments(i,c),m=d[0],f=d[1];l.removeClasses(m,"exit"),l.addClass(m,f?"appear":"enter","base"),l.props.onEnter&&l.props.onEnter(i,c)},l.onEntering=function(i,c){var d=l.resolveArguments(i,c),m=d[0],f=d[1],b=f?"appear":"enter";l.addClass(m,b,"active"),l.props.onEntering&&l.props.onEntering(i,c)},l.onEntered=function(i,c){var d=l.resolveArguments(i,c),m=d[0],f=d[1],b=f?"appear":"enter";l.removeClasses(m,b),l.addClass(m,b,"done"),l.props.onEntered&&l.props.onEntered(i,c)},l.onExit=function(i){var c=l.resolveArguments(i),d=c[0];l.removeClasses(d,"appear"),l.removeClasses(d,"enter"),l.addClass(d,"exit","base"),l.props.onExit&&l.props.onExit(i)},l.onExiting=function(i){var c=l.resolveArguments(i),d=c[0];l.addClass(d,"exit","active"),l.props.onExiting&&l.props.onExiting(i)},l.onExited=function(i){var c=l.resolveArguments(i),d=c[0];l.removeClasses(d,"exit"),l.addClass(d,"exit","done"),l.props.onExited&&l.props.onExited(i)},l.resolveArguments=function(i,c){return l.props.nodeRef?[l.props.nodeRef.current,i]:[i,c]},l.getClassNames=function(i){var c=l.props.classNames,d=typeof c=="string",m=d&&c?c+"-":"",f=d?""+m+i:c[i],b=d?f+"-active":c[i+"Active"],g=d?f+"-done":c[i+"Done"];return{baseClassName:f,activeClassName:b,doneClassName:g}},l}var a=n.prototype;return a.addClass=function(r,s,o){var i=this.getClassNames(s)[o+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;s==="appear"&&o==="done"&&d&&(i+=" "+d),o==="active"&&r&&Ha(r),i&&(this.appliedClasses[s][o]=i,Ss(r,i))},a.removeClasses=function(r,s){var o=this.appliedClasses[s],i=o.base,c=o.active,d=o.done;this.appliedClasses[s]={},i&&Qt(r,i),c&&Qt(r,c),d&&Qt(r,d)},a.render=function(){var r=this.props;r.classNames;var s=Cn(r,["classNames"]);return t.createElement(Ht,ka({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);Sn.defaultProps={classNames:""};Sn.propTypes={};const Wa=Sn;function Ps(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e,n){var a=function(s){return n&&u.isValidElement(s)?n(s):s},l=Object.create(null);return e&&u.Children.map(e,function(r){return r}).forEach(function(r){l[r.key]=a(r)}),l}function ks(e,n){e=e||{},n=n||{};function a(m){return m in n?n[m]:e[m]}var l=Object.create(null),r=[];for(var s in e)s in n?r.length&&(l[s]=r,r=[]):r.push(s);var o,i={};for(var c in n){if(l[c])for(o=0;o<l[c].length;o++){var d=l[c][o];i[l[c][o]]=a(d)}i[c]=a(c)}for(o=0;o<r.length;o++)i[r[o]]=a(r[o]);return i}function lt(e,n,a){return a[n]!=null?a[n]:e.props[n]}function xs(e,n){return Pn(e.children,function(a){return u.cloneElement(a,{onExited:n.bind(null,a),in:!0,appear:lt(a,"appear",e),enter:lt(a,"enter",e),exit:lt(a,"exit",e)})})}function Is(e,n,a){var l=Pn(e.children),r=ks(n,l);return Object.keys(r).forEach(function(s){var o=r[s];if(u.isValidElement(o)){var i=s in n,c=s in l,d=n[s],m=u.isValidElement(d)&&!d.props.in;c&&(!i||m)?r[s]=u.cloneElement(o,{onExited:a.bind(null,o),in:!0,exit:lt(o,"exit",e),enter:lt(o,"enter",e)}):!c&&i&&!m?r[s]=u.cloneElement(o,{in:!1}):c&&i&&u.isValidElement(d)&&(r[s]=u.cloneElement(o,{onExited:a.bind(null,o),in:d.props.in,exit:lt(o,"exit",e),enter:lt(o,"enter",e)}))}}),r}var As=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},_s={component:"div",childFactory:function(n){return n}},kn=function(e){yn(n,e);function n(l,r){var s;s=e.call(this,l,r)||this;var o=s.handleExited.bind(Ps(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var a=n.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(r,s){var o=s.children,i=s.handleExited,c=s.firstRender;return{children:c?xs(r,i):Is(r,o,i),firstRender:!1}},a.handleExited=function(r,s){var o=Pn(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(i){var c=ka({},i.children);return delete c[r.key],{children:c}}))},a.render=function(){var r=this.props,s=r.component,o=r.childFactory,i=Cn(r,["component","childFactory"]),c=this.state.contextValue,d=As(this.state.children).map(o);return delete i.appear,delete i.enter,delete i.exit,s===null?t.createElement(Dt.Provider,{value:c},d):t.createElement(Dt.Provider,{value:c},t.createElement(s,i,d))},n}(t.Component);kn.propTypes={};kn.defaultProps=_s;const Ns=kn;function ws(e,n,a){if(!document)return;(a||document.documentElement).style.setProperty(e,n)}var Yt={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},Un={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function $a({children:e,flush:n=!1,subdued:a=!1,titleHidden:l=!1}){const r=I(Un.Section,l&&Un.titleHidden);return t.createElement("div",{className:r},t.createElement(oe,Object.assign({as:"section",padding:n?"0":"400"},l&&{paddingInlineEnd:"0"},a&&{background:"bg-surface-tertiary"}),e))}var he={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function Fs({trapping:e}){const n=u.useContext(Ol),a=u.useId();if(!n)throw new bn("No FocusManager was provided.");const{trapFocusList:l,add:r,remove:s}=n,o=l[0]===a,i=u.useMemo(()=>({canSafelyFocus:o}),[o]);return u.useEffect(()=>{if(e)return r(a),()=>{s(a)}},[r,a,s,e]),i}function Ms({trapping:e=!0,children:n}){const{canSafelyFocus:a}=Fs({trapping:e}),l=u.useRef(null),[r,s]=u.useState(!0);u.useEffect(()=>{const c=a&&!(l.current&&l.current.contains(document.activeElement))?!e:!0;s(c)},[a,e]);const o=c=>{const d=l.current&&l.current.contains(document.activeElement);e===!1||!l.current||d||c.target instanceof Element&&c.target.matches(`${Vl.selector} *`)||a&&c.target instanceof HTMLElement&&l.current!==c.target&&!l.current.contains(c.target)&&De(l.current)},i=c=>{if(e===!1||!l.current)return;const d=jl(l.current),m=zl(l.current);c.target===m&&!c.shiftKey&&(c.preventDefault(),Ul(l.current)),c.target===d&&c.shiftKey&&(c.preventDefault(),ql(l.current))};return t.createElement(Es,{disabled:r,root:l.current},t.createElement("div",{ref:l},t.createElement(Lt,{event:"focusin",handler:o}),t.createElement(ln,{keyCode:rn.Tab,keyEvent:"keydown",handler:i}),n))}function Ls({instant:e,labelledBy:n,children:a,limitHeight:l,size:r,onClose:s,onExited:o,onEntered:i,setClosing:c,hasToasts:d,...m}){const f=ga(),b=u.useRef(null),g=u.useContext(Qr);let E;g&&(E=g.toastMessages);const h=I(he.Modal,r&&he[rt("size",r)],l&&he.limitHeight),p=e?Ht:Rs;u.useEffect(()=>{b.current&&!b.current.contains(document.activeElement)&&De(b.current)},[]);const v=()=>{c&&c(!0)},T=()=>{c&&c(!1),s()},S=t.createElement("div",{"aria-live":"assertive"},E?E.map(y=>t.createElement(se,{visuallyHidden:!0,as:"p",key:y.id},y.content)):null);return t.createElement(p,Object.assign({},m,{nodeRef:b,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(f.motion["motion-duration-200"],10),onEntered:i,onExited:o}),t.createElement("div",{className:he.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:b},t.createElement(Ms,null,t.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":n,"aria-labelledby":n,tabIndex:-1,className:he.Dialog},t.createElement("div",{className:h},t.createElement(ln,{keyCode:rn.Escape,keyEvent:"keydown",handler:v}),t.createElement(ln,{keyCode:rn.Escape,handler:T}),a),S))))}const Bs={appear:I(he.animateFadeUp,he.entering),appearActive:I(he.animateFadeUp,he.entered),enter:I(he.animateFadeUp,he.entering),enterActive:I(he.animateFadeUp,he.entered),exit:I(he.animateFadeUp,he.exiting),exitActive:I(he.animateFadeUp,he.exited)};function Rs({children:e,...n}){return t.createElement(Wa,Object.assign({},n,{classNames:Bs}),e)}function qn({pressed:e,onClick:n}){const a=re();return t.createElement(Ce,{variant:"tertiary",pressed:e,icon:Ea,onClick:n,accessibilityLabel:a.translate("Polaris.Common.close")})}function Ds({id:e,children:n,closing:a,titleHidden:l,onClose:r}){const s="400",o="400";return l||!n?t.createElement(oe,{position:"absolute",insetInlineEnd:s,insetBlockStart:o,zIndex:"1"},t.createElement(qn,{onClick:r})):t.createElement(oe,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:s,paddingInlineEnd:s,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},t.createElement(Kr,{columns:{xs:"1fr auto"},gap:"400"},t.createElement(le,{gap:"400",blockAlign:"center"},t.createElement(se,{id:e,as:"h2",variant:"headingMd",breakWord:!0},n)),t.createElement(qn,{pressed:a,onClick:r})))}function Hs({primaryAction:e,secondaryActions:n,children:a}){const l=e&&Ft(e,{variant:"primary"})||null,r=n&&Ft(n)||null,s=l||r?t.createElement(le,{gap:"200"},r,l):null;return t.createElement(le,{gap:"400",blockAlign:"center"},t.createElement(oe,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},t.createElement(le,{gap:"400",blockAlign:"center",align:"space-between"},t.createElement(oe,null,a),s)))}const Gn=200,Ws=400,ye=function({children:n,title:a,titleHidden:l=!1,src:r,iFrameName:s,open:o,instant:i,sectioned:c,loading:d,size:m,limitHeight:f,footer:b,primaryAction:g,secondaryActions:E,onScrolledToBottom:h,activator:p,activatorWrapper:v="div",onClose:T,onIFrameLoad:S,onTransitionEnd:y,noScroll:_}){const[L,N]=u.useState(Gn),[A,R]=u.useState(!1),j=u.useId(),P=u.useRef(null),B=re().translate("Polaris.Modal.iFrameTitle");let w,V;const Q=u.useCallback(()=>{y&&y()},[y]),te=u.useCallback(()=>{N(Gn);const ee=p&&Zn(p)?p&&p.current:P.current;ee&&requestAnimationFrame(()=>De(ee))},[p]),k=u.useCallback(ee=>{const Z=ee.target;if(Z&&Z.contentWindow)try{N(Z.contentWindow.document.body.scrollHeight)}catch{N(Ws)}S!=null&&S(ee)},[S]);if(o){const ee=!b&&!g&&!E?null:t.createElement(Hs,{primaryAction:g,secondaryActions:E},b),Z=c?ba(n,$a,{titleHidden:l}):n,ne=d?t.createElement(oe,{padding:"400"},t.createElement(le,{gap:"400",align:"center",blockAlign:"center"},t.createElement(yt,null))):Z,W=_?t.createElement("div",{className:Yt.NoScrollBody},t.createElement(oe,{width:"100%",overflowX:"hidden",overflowY:"hidden"},ne)):t.createElement(Zl,{shadow:!0,className:Yt.Body,onScrolledToBottom:h},ne),q=r?t.createElement("iframe",{name:s,title:B,src:r,className:Yt.IFrame,onLoad:k,style:{height:`${L}px`}}):W;w=t.createElement(Ls,{instant:i,labelledBy:j,onClose:T,onEntered:Q,onExited:te,size:m,limitHeight:f,setClosing:R},t.createElement(Ds,{titleHidden:l,id:j,closing:A,onClose:T},a),q,ee),V=t.createElement(Nr,{setClosing:R,onClick:T})}const H=!i,$=p&&!Zn(p)?t.createElement(oe,{ref:P,as:v},p):null;return t.createElement(ha.Provider,{value:!0},$,t.createElement(Gl,{idPrefix:"modal"},t.createElement(Ns,{appear:H,enter:H,exit:H},w),V))};function Zn(e){return Object.prototype.hasOwnProperty.call(e,"current")}ye.Section=$a;let ie;(function(e){e.Default="DEFAULT",e.Filtering="FILTERING",e.EditingColumns="EDITING_COLUMNS"})(ie||(ie={}));var we={IndexFiltersWrapper:"Polaris-IndexFilters__IndexFiltersWrapper",IndexFilters:"Polaris-IndexFilters",IndexFiltersSticky:"Polaris-IndexFilters__IndexFiltersSticky",IndexFiltersStickyFlush:"Polaris-IndexFilters__IndexFiltersStickyFlush",TabsWrapper:"Polaris-IndexFilters__TabsWrapper",SmallScreenTabsWrapper:"Polaris-IndexFilters__SmallScreenTabsWrapper",TabsWrapperLoading:"Polaris-IndexFilters__TabsWrapperLoading",DesktopLoading:"Polaris-IndexFilters__DesktopLoading",TabsLoading:"Polaris-IndexFilters__TabsLoading",ActionWrap:"Polaris-IndexFilters__ActionWrap",Spinner:"Polaris-IndexFilters__Spinner",ButtonWrap:"Polaris-IndexFilters__ButtonWrap"};const $s=250;function Os(e,n,a){const l=typeof window<"u"&&!!window.IntersectionObserver,r={root:null,rootMargin:`${a?"0px":"-56px"} 0px 0px 0px`,threshold:0},[s,o]=u.useState(0),[i,c]=u.useState(!1),d=u.useRef(null),m=u.useRef(null),f=g=>{g.forEach(E=>{c(!E.isIntersecting)})},b=u.useRef(l?new IntersectionObserver(f,r):null);return u.useEffect(()=>{function g(){const h=d.current;if(!h)return{height:0};const v=h.getBoundingClientRect().height;o(v)}g();const E=st(g,$s,{trailing:!0});return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[d,e]),u.useEffect(()=>{const g=b.current;if(!g)return;const E=m.current;return E&&g.observe(E),()=>{g==null||g.disconnect()}},[m]),{intersectionRef:m,measurerRef:d,isSticky:i&&!n,indexFilteringHeight:s}}function Oa(){const[e,n]=u.useState(!1),a=u.useCallback(()=>n(!0),[]);return Vt("touchstart",a),e}const Xn=40;function Vs({primaryAction:e,cancelAction:n,viewNames:a,disabled:l}){const r=re(),[s,o]=u.useState(""),[i,c]=u.useState(!1),d=u.useRef(null),m=Oa();u.useEffect(()=>{!d.current||m||i&&De(d.current)},[i,m]);async function f(){(e==null?void 0:e.type)==="save-as"?b():await(e==null?void 0:e.onAction(""))}function b(){c(!0)}function g(){c(!1)}function E(_){o(_)}async function h(){S||(await(e==null?void 0:e.onAction(s)),g())}const p=u.useMemo(()=>{switch(e==null?void 0:e.type){case"save":return r.translate("Polaris.IndexFilters.UpdateButtons.save");case"save-as":default:return r.translate("Polaris.IndexFilters.UpdateButtons.saveAs")}},[e==null?void 0:e.type,r]),v=t.createElement(Ce,{size:"micro",onClick:f,disabled:(e==null?void 0:e.disabled)||l},p),T=a.some(_=>_.trim().toLowerCase()===s.trim().toLowerCase()),S=T||!s||(e==null?void 0:e.loading)||s.length>Xn,y=n?t.createElement(Ce,{variant:"tertiary",size:"micro",onClick:n.onAction,disabled:l},r.translate("Polaris.IndexFilters.UpdateButtons.cancel")):null;return e?t.createElement(le,{align:"start",blockAlign:"center",gap:"100"},y,e.type==="save-as"?t.createElement(ye,{activator:t.createElement(le,null,v),open:i,title:r.translate("Polaris.IndexFilters.UpdateButtons.modal.title"),onClose:g,primaryAction:{onAction:h,content:r.translate("Polaris.IndexFilters.UpdateButtons.modal.save"),disabled:S},secondaryActions:[{onAction:g,content:r.translate("Polaris.IndexFilters.UpdateButtons.modal.cancel")}]},t.createElement(ye.Section,null,t.createElement(jt,{onSubmit:h},t.createElement(zt,null,t.createElement("div",{ref:d},t.createElement(Pt,{label:r.translate("Polaris.IndexFilters.UpdateButtons.modal.label"),value:s,onChange:E,autoComplete:"off",maxLength:Xn,showCharacterCount:!0,error:T?r.translate("Polaris.IndexFilters.UpdateButtons.modal.sameName",{name:s}):void 0})))))):v):y}var Kn={DirectionButton:"Polaris-SortButton-DirectionButton","DirectionButton-active":"Polaris-SortButton-DirectionButton__DirectionButton--active"};function Jn({onClick:e,active:n,children:a,direction:l,value:r}){const s=I(Kn.DirectionButton,n&&Kn["DirectionButton-active"]);function o(){e([r])}return t.createElement(qe,{className:s,onClick:o},t.createElement(Ie,{source:l==="asc"?Ia:xa,tone:"base"}),t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium"},a))}let Wt;(function(e){e.Asc="asc",e.Desc="desc"})(Wt||(Wt={}));function js({choices:e,selected:n,onChange:a,disabled:l,onChangeKey:r,onChangeDirection:s}){var T,S,y,_;const o=re(),[i,c]=u.useState(!1),[d,m]=n[0].split(" ");function f(){c(L=>!L)}function b(){c(!1)}function g(L){if(r){const[N]=L[0].split(" ");r(N)}else a(L)}function E(L){if(s){const[,N]=L[0].split(" ");s(N)}else a(L)}const h=u.useMemo(()=>e.reduce((N,A)=>{const R=N.some(M=>M.label===A.label),[,j]=A.value.split(" "),P=j===m;return R?P?N.map(M=>M.label===A.label?A:M):N:[...N,A]},[]),[e,m]),p=e.filter(L=>{const[N]=L.value.split(" ");return N===d}),v=t.createElement(Re,{content:o.translate("Polaris.IndexFilters.SortButton.tooltip"),preferredPosition:"above",hoverDelay:400},t.createElement(Ce,{size:"slim",icon:Na,onClick:f,disabled:l,accessibilityLabel:o.translate("Polaris.IndexFilters.SortButton.ariaLabel")}));return t.createElement(Ue,{active:i&&!l,activator:v,autofocusTarget:"first-node",onClose:b,preferredAlignment:"right",fluidContent:!0},t.createElement(oe,{minWidth:"148px",paddingInlineStart:"300",paddingInlineEnd:"300",paddingBlockStart:"200",paddingBlockEnd:"200",borderBlockEndWidth:"025",borderColor:"border-secondary"},t.createElement(qr,{title:o.translate("Polaris.IndexFilters.SortButton.title"),choices:h,selected:n,onChange:g})),t.createElement(oe,{paddingInlineStart:"150",paddingInlineEnd:"150",paddingBlockStart:"200",paddingBlockEnd:"200"},t.createElement(Jn,{direction:"asc",active:m===Wt.Asc,onClick:E,value:(T=p==null?void 0:p[0])==null?void 0:T.value},(S=p==null?void 0:p[0])==null?void 0:S.directionLabel),t.createElement(Jn,{direction:"desc",active:m===Wt.Desc,onClick:E,value:(y=p==null?void 0:p[1])==null?void 0:y.value},(_=p==null?void 0:p[1])==null?void 0:_.directionLabel)))}var zs={Container:"Polaris-IndexFilters-Container"};const Us=({children:e})=>t.createElement("div",{className:zs.Container},e);function Qn(e){const n=u.useRef();return u.useEffect(()=>{n.current=e},[e]),n.current}function Yn(e,n,a,l,r){const s=l.reduce((d,m)=>d+m,0),o=e.map((d,m)=>m),i=[],c=[];if(r>s)i.push(...o);else{i.push(n);let d=l[n];o.forEach(m=>{if(m!==n){const f=l[m];if(d+f>=r-a){c.push(m);return}i.push(m),d+=f}})}return{visibleTabs:i,hiddenTabs:c}}var G={Outer:"Polaris-Tabs__Outer",Wrapper:"Polaris-Tabs__Wrapper",WrapperWithNewButton:"Polaris-Tabs__WrapperWithNewButton",ButtonWrapper:"Polaris-Tabs__ButtonWrapper",Tabs:"Polaris-Tabs",Tab:"Polaris-Tabs__Tab","Tab-active":"Polaris-Tabs__Tab--active","Tab-hasActions":"Polaris-Tabs__Tab--hasActions","Tab-iconOnly":"Polaris-Tabs__Tab--iconOnly",fillSpace:"Polaris-Tabs--fillSpace",TabContainer:"Polaris-Tabs__TabContainer",fitted:"Polaris-Tabs--fitted",titleWithIcon:"Polaris-Tabs--titleWithIcon",List:"Polaris-Tabs__List",Item:"Polaris-Tabs__Item",DisclosureTab:"Polaris-Tabs__DisclosureTab","DisclosureTab-visible":"Polaris-Tabs__DisclosureTab--visible",DisclosureActivator:"Polaris-Tabs__DisclosureActivator",TabsMeasurer:"Polaris-Tabs__TabsMeasurer",NewTab:"Polaris-Tabs__NewTab",ActionListWrap:"Polaris-Tabs__ActionListWrap",Panel:"Polaris-Tabs__Panel","Panel-hidden":"Polaris-Tabs__Panel--hidden"};const en=40;function qs({open:e,isModalLoading:n,name:a,onClose:l,onClickPrimaryAction:r,onClickSecondaryAction:s,helpText:o,viewNames:i}){const c=re(),[d,m]=u.useState(a),f=u.useRef(null),b=i==null?void 0:i.some(v=>v.trim().toLowerCase()===d.trim().toLowerCase()),g=n||b||!d||d.length>en;u.useEffect(()=>{f.current&&e&&De(f.current)},[e]),u.useEffect(()=>{e&&m(a.slice(0,en))},[a,e]);const E=u.useCallback(v=>{m(v)},[]);async function h(){g||(await r(d),m(""),l())}function p(){s==null||s(),m(a),l()}return t.createElement(ye,{open:e,onClose:l,title:c.translate("Polaris.Tabs.DuplicateModal.title"),primaryAction:{content:c.translate("Polaris.Tabs.DuplicateModal.create"),onAction:h,disabled:g},secondaryActions:[{content:c.translate("Polaris.Tabs.DuplicateModal.cancel"),onAction:p}],instant:!0},t.createElement(ye.Section,null,t.createElement(jt,{onSubmit:h},t.createElement(zt,null,t.createElement("div",{ref:f},t.createElement(Pt,{label:c.translate("Polaris.Tabs.DuplicateModal.label"),value:d,onChange:E,autoComplete:"off",helpText:o,maxLength:en,showCharacterCount:!0,error:b?c.translate("Polaris.Tabs.DuplicateModal.errors.sameName",{name:d}):void 0}))))))}function Gs({open:e,isModalLoading:n,name:a,onClose:l,onClickPrimaryAction:r,onClickSecondaryAction:s,helpText:o,viewNames:i}){const c=re(),[d,m]=u.useState(a),f=u.useRef(null),b=i==null?void 0:i.filter(v=>v!==a).some(v=>v.trim().toLowerCase()===d.trim().toLowerCase()),g=n||b||d===a||!d;u.useEffect(()=>{f.current&&e&&De(f.current)},[e]),u.useEffect(()=>{e&&m(a)},[a,e]);const E=u.useCallback(v=>{m(v)},[]);async function h(){g||(await r(d),m(""),l())}function p(){s==null||s(),m(a),l()}return t.createElement(ye,{open:e,onClose:l,title:c.translate("Polaris.Tabs.RenameModal.title"),primaryAction:{content:c.translate("Polaris.Tabs.RenameModal.create"),onAction:h,disabled:g},secondaryActions:[{content:c.translate("Polaris.Tabs.RenameModal.cancel"),onAction:p}],instant:!0},t.createElement(ye.Section,null,t.createElement(jt,{onSubmit:h},t.createElement(zt,null,t.createElement("div",{ref:f},t.createElement(Pt,{label:c.translate("Polaris.Tabs.RenameModal.label"),value:d,onChange:E,autoComplete:"off",helpText:o,maxLength:40,showCharacterCount:!0,error:b?c.translate("Polaris.Tabs.RenameModal.errors.sameName",{name:d}):void 0}))))))}const $t=u.forwardRef(({content:e,accessibilityLabel:n,badge:a,id:l,panelID:r,url:s,onAction:o,actions:i,disabled:c,isModalLoading:d,icon:m,siblingTabHasFocus:f,measuring:b,focused:g,selected:E,onToggleModal:h,onTogglePopover:p,viewNames:v,tabIndexOverride:T,onFocus:S},y)=>{const _=re(),[L,N]=u.useState(!1),[A,R]=u.useState(null),j=u.useRef(E),P=u.useRef(!1),M=u.useRef(null);u.useEffect(()=>{p(L)},[L,p]),u.useEffect(()=>{h(!!A)},[A,h]),u.useEffect(()=>()=>{h(!1),p(!1)},[h,p]),u.useEffect(()=>{if(b)return;(g||document.activeElement&&document.activeElement.id===l)&&E&&r!=null&&!P.current&&(ea(r),P.current=!0),E&&!j.current&&r!=null?ea(r):g&&M.current!=null&&A==null&&!c&&De(M.current),j.current=E},[g,l,e,b,r,E,A,c]);let B;E&&!f&&!b||g&&!b?B=0:B=-1,T!=null&&(B=T);const w=i==null?void 0:i.find(X=>X.type==="rename"),V=i==null?void 0:i.find(X=>X.type==="duplicate"),Q=i==null?void 0:i.find(X=>X.type==="delete"),te=u.useCallback(()=>{i!=null&&i.length&&N(X=>!X)},[i]),k=u.useCallback(()=>{c||(E?te():o==null||o())},[E,o,te,c]),H=X=>{R(X)},$=()=>{R(null)},ee=u.useCallback(async X=>{var de;await((de=w==null?void 0:w.onPrimaryAction)==null?void 0:de.call(w,X)),setTimeout(()=>{M.current&&De(M.current)},250)},[w]),Z=u.useCallback(async()=>{var X;await((X=Q==null?void 0:Q.onPrimaryAction)==null?void 0:X.call(Q,e)),$()},[Q,e]),ne=u.useCallback(async X=>{var de;await((de=V==null?void 0:V.onPrimaryAction)==null?void 0:de.call(V,X))},[V]),W={rename:{icon:Xl,content:_.translate("Polaris.Tabs.Tab.rename")},duplicate:{icon:Aa,content:_.translate("Polaris.Tabs.Tab.duplicate")},edit:{icon:Kl,content:_.translate("Polaris.Tabs.Tab.edit")},"edit-columns":{icon:En,content:_.translate("Polaris.Tabs.Tab.editColumns")},delete:{icon:Jl,content:_.translate("Polaris.Tabs.Tab.delete"),destructive:!0}},q=i==null?void 0:i.map(({type:X,onAction:de,onPrimaryAction:Ze,..._e})=>{const Xe=!X.includes("edit");return{...W[X],..._e,onAction:()=>{de==null||de(e),te(),Xe&&H(X)}}}),U=u.useCallback(X=>{X.key===" "&&(X.preventDefault(),k())},[k]),z=I(G.TabContainer,E&&G.Underline),ce=c||E?void 0:s,Ae=ce?va:qe,ue=I(G.Tab,m&&G["Tab-iconOnly"],L&&G["Tab-popoverActive"],E&&G["Tab-active"],E&&(i==null?void 0:i.length)&&G["Tab-hasActions"]),Se=a?t.createElement(Ta,{tone:E?void 0:"new"},a):null,He=E&&(i!=null&&i.length)?t.createElement("div",{className:I(G.IconWrap)},t.createElement(Ie,{source:gn})):null,Fe=t.createElement(Ae,{id:l,className:ue,tabIndex:B,"aria-selected":E,"aria-controls":r,"aria-label":n,role:T==null?"tab":void 0,disabled:c,url:ce,onFocus:S,onMouseUp:Ql,onClick:k,onKeyDown:U},t.createElement(le,{gap:"200",align:"center",blockAlign:"center",wrap:!1},t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium"},m??e),Se),He),Me=!E||!(i!=null&&i.length),be=w?t.createElement(Gs,{name:e,open:A==="rename",onClose:$,onClickPrimaryAction:ee,isModalLoading:d,viewNames:v}):null,Ye=V?t.createElement(qs,{open:A==="duplicate",name:_.translate("Polaris.Tabs.Tab.copy",{name:e}),onClose:$,onClickPrimaryAction:ne,isModalLoading:d,viewNames:v||[]}):null,We=Q?t.createElement(ye,{open:A==="delete",onClose:$,primaryAction:{content:_.translate("Polaris.Tabs.Tab.deleteModal.delete"),onAction:Z,destructive:!0,disabled:d},secondaryActions:[{content:_.translate("Polaris.Tabs.Tab.deleteModal.cancel"),onAction:$}],title:_.translate("Polaris.Tabs.Tab.deleteModal.title"),instant:!0},t.createElement(ye.Section,null,_.translate("Polaris.Tabs.Tab.deleteModal.description",{viewName:e}))):null,Le=Me||c?Fe:t.createElement(t.Fragment,null,t.createElement(Ue,{active:L,activator:Fe,autofocusTarget:"first-node",onClose:te},t.createElement("div",{className:G.ActionListWrap},t.createElement(kt,{actionRole:"menuitem",items:q}))),be,Ye,We);return m?Le:t.createElement("li",{className:z,ref:Zs([M,y]),role:"presentation"},Le)});$t.displayName="Tab";function ea(e){const n=document.getElementById(e);n&&n.focus({preventScroll:!0})}function Zs(e){return n=>{for(const a of e)a!=null&&(a.current=n)}}const Xs=u.memo(function({selected:n,tabs:a,activator:l,tabToFocus:r,siblingTabHasFocus:s,handleMeasurement:o}){const i=u.useRef(null),c=u.useRef(null),d=u.useCallback(()=>{c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(!i.current)return;const b=i.current.offsetWidth-20-28,g=i.current.children,h=Array.from(g).map(v=>Math.ceil(v.getBoundingClientRect().width)+4),p=h.pop()||0;o({containerWidth:b,disclosureWidth:p,hiddenTabWidths:h})})},[o]);u.useEffect(()=>{d()},[d,a]),pa(()=>{});const m=a.map((b,g)=>t.createElement($t,{measuring:!0,key:`$${b.id}Hidden`,id:`${b.id}Measurer`,siblingTabHasFocus:s,focused:g===r,selected:g===n,url:b.url,content:b.content,onTogglePopover:ta,onToggleModal:ta})),f=I(G.Tabs,G.TabsMeasurer);return Vt("resize",d),t.createElement("div",{className:f,ref:i},m,l)});function ta(){}function na({hidden:e,id:n,tabID:a,children:l}){const r=I(G.Panel,e&&G["Panel-hidden"]);return t.createElement("div",{className:r,id:n,role:"tabpanel","aria-labelledby":a,tabIndex:-1},l)}const Ks=u.memo(function({id:n,focused:a,children:l,url:r,accessibilityLabel:s,onClick:o=Js}){const i=u.useRef(null);u.useEffect(()=>{i.current&&i.current instanceof HTMLElement&&a&&i.current.focus()},[i,a]);const c=I(G.Item),d={id:n,ref:i,onClick:o,className:c,"aria-selected":!1,"aria-label":s},m=r?t.createElement(va,Object.assign({},d,{url:r}),l):t.createElement("button",Object.assign({},d,{ref:i,type:"button"}),l);return t.createElement("li",null,m)});function Js(){}function Qs({focusIndex:e,disclosureTabs:n,onClick:a=aa,onKeyPress:l=aa}){const r=n.map(({id:s,content:o,...i},c)=>t.createElement(Ks,Object.assign({key:s},i,{id:s,focused:c===e,onClick:a.bind(null,s)}),o));return t.createElement("ul",{className:G.List,onKeyDown:Ys,onKeyUp:l},r)}function aa(){}function Ys(e){const{key:n}=e;(n==="ArrowLeft"||n==="ArrowRight")&&(e.preventDefault(),e.stopPropagation())}const la=40;function ei({activator:e,open:n,onClose:a,onClickPrimaryAction:l,onClickSecondaryAction:r,viewNames:s}){const o=re(),[i,c]=u.useState(""),[d,m]=u.useState(!1),f=u.useRef(null),b=Oa(),g=s.some(T=>T.trim().toLowerCase()===i.trim().toLowerCase()),E=!i||g||d||i.length>la;u.useEffect(()=>{if(!(!f.current||b)&&n){De(f.current);const T=setTimeout(()=>{f.current&&De(f.current)},50);return()=>clearTimeout(T)}},[n,b]);const h=u.useCallback(T=>{c(T)},[]);async function p(){g||E||(m(!0),await l(i),m(!1),c(""),a())}function v(){r==null||r(),c(""),a()}return t.createElement(ye,{activator:e,open:n,onClose:a,title:o.translate("Polaris.Tabs.CreateViewModal.title"),primaryAction:{content:o.translate("Polaris.Tabs.CreateViewModal.create"),onAction:p,disabled:E},secondaryActions:[{content:o.translate("Polaris.Tabs.CreateViewModal.cancel"),onAction:v}]},t.createElement(ye.Section,null,t.createElement(jt,{onSubmit:p},t.createElement(zt,null,t.createElement("div",{ref:f},t.createElement(Pt,{label:o.translate("Polaris.Tabs.CreateViewModal.label"),value:i,onChange:h,autoComplete:"off",maxLength:la,showCharacterCount:!0,error:g?o.translate("Polaris.Tabs.CreateViewModal.errors.sameName",{name:i}):void 0}))))))}const ti="create-new-view",ni=({tabs:e,children:n,selected:a,newViewAccessibilityLabel:l,canCreateNewView:r,disabled:s,onCreateNewView:o,onSelect:i,fitted:c,disclosureText:d})=>{const m=re(),{mdDown:f}=hn(),b=u.useRef(null),g=u.useRef(null),E=u.useRef(null),[h,p]=u.useReducer((F,D)=>({...F,...D}),{disclosureWidth:0,containerWidth:1/0,tabWidths:[],visibleTabs:[],hiddenTabs:[],showDisclosure:!1,tabToFocus:-1,isNewViewModalActive:!1,modalSubmitted:!1,isTabsFocused:!1,isTabPopoverOpen:!1,isTabModalOpen:!1}),{tabToFocus:v,visibleTabs:T,hiddenTabs:S,showDisclosure:y,isNewViewModalActive:_,modalSubmitted:L,disclosureWidth:N,tabWidths:A,containerWidth:R,isTabsFocused:j,isTabModalOpen:P,isTabPopoverOpen:M}=h,B=Qn(P),w=Qn(M);u.useEffect(()=>{B&&!P?p({isTabsFocused:!0,tabToFocus:a}):w&&!M&&!P&&p({isTabsFocused:!0,tabToFocus:a})},[w,M,B,P,a,v]);const V=u.useCallback(F=>p({isTabPopoverOpen:F}),[]),Q=u.useCallback(F=>p({isTabModalOpen:F}),[]),te=()=>{p({isNewViewModalActive:!1})},k=async F=>{if(!o)return!1;const D=await(o==null?void 0:o(F));return D&&p({modalSubmitted:!0}),D},H=()=>{p({isNewViewModalActive:!0})},$=u.useCallback(F=>{const D=e.find(ae=>ae.id===F);if(D==null)return null;const Y=e.indexOf(D);i==null||i(Y)},[e,i]),ee=u.useCallback((F,D)=>{const Y=()=>{var pe;$(F.id),(pe=F.onAction)==null||pe.call(F)},ae=e.map(({content:pe})=>pe),Pe=F.panelID||`${F.id}-panel`;return t.createElement($t,Object.assign({},F,{key:`${D}-${F.id}`,id:F.id,panelID:n?Pe:void 0,disabled:s||F.disabled,siblingTabHasFocus:v>-1,focused:D===v,selected:D===a,onAction:Y,accessibilityLabel:F.accessibilityLabel,url:F.url,content:F.content,onToggleModal:Q,onTogglePopover:V,viewNames:ae,ref:D===a?E:null}))},[s,$,e,n,a,v,Q,V]),Z=u.useCallback(F=>{const D=F.target,Y=D.classList.contains(G.Item),ae=D.closest("[data-tabs-focus-catchment]")||Y;D.classList.contains(G.DisclosureActivator)||!ae||p({isTabsFocused:!0})},[]),ne=u.useCallback(F=>{var Ve,ke,ve;const D=F.target,Y=F.relatedTarget,ae=(Ve=Y==null?void 0:Y.closest)==null?void 0:Ve.call(Y,`.${G.Tabs}`),Pe=(ve=(ke=D==null?void 0:D.classList)==null?void 0:ke.contains)==null?void 0:ve.call(ke,G.Tab),pe=Y==null?void 0:Y.classList.contains(G.Item);if(!Y&&!P&&!Pe&&!pe){p({tabToFocus:-1});return}if(!ae&&!P&&!Pe&&!pe){p({tabToFocus:-1});return}p({isTabsFocused:!1})},[P]),W=F=>{if(M||P||_)return;const{key:D}=F;(D==="ArrowLeft"||D==="ArrowRight")&&(F.preventDefault(),F.stopPropagation())};u.useEffect(()=>{const{visibleTabs:F,hiddenTabs:D}=Yn(e,a,N,A,R);p({visibleTabs:F,hiddenTabs:D})},[R,N,e,a,A,p]);const q=u.useCallback(()=>{var D;const F=(D=E.current)==null?void 0:D.querySelector(`.${G["Tab-active"]}`);F&&Se(F.offsetLeft)},[]);u.useEffect(()=>{f&&q()},[q,a,f]),u.useEffect(()=>{j&&!y&&p({tabToFocus:a})},[j,a,p,y]);const U=F=>{const{showDisclosure:D,visibleTabs:Y,hiddenTabs:ae,tabToFocus:Pe,isNewViewModalActive:pe}=h;if(P||M||pe)return;const Ve=F.key,ke=D||f?Y.concat(ae):[...Y];let ve=ke.indexOf(Pe);Ve==="ArrowRight"&&(ve+=1,ve===ke.length&&(ve=0)),Ve==="ArrowLeft"&&(ve===-1||ve===0?ve=ke.length-1:ve-=1);const K=ke[ve];K!=null&&p({tabToFocus:K})},z=()=>{p({showDisclosure:!y,tabToFocus:S[0]})},ce=()=>{p({showDisclosure:!1})},Ae=u.useCallback(F=>{const{hiddenTabWidths:D,containerWidth:Y,disclosureWidth:ae}=F,{visibleTabs:Pe,hiddenTabs:pe}=Yn(e,a,ae,D,Y);p({visibleTabs:Pe,hiddenTabs:pe,disclosureWidth:ae,containerWidth:Y,tabWidths:D})},[e,a,p]),ue=F=>{$(F),ce(),p({isTabsFocused:!0})},Se=F=>{setTimeout(()=>{var D,Y;if(b.current&&typeof b.current.scroll=="function"){const ae=((D=g==null?void 0:g.current)==null?void 0:D.offsetLeft)||0;(Y=b==null?void 0:b.current)==null||Y.scroll({left:F-ae})}},0)},He=l||m.translate("Polaris.Tabs.newViewAccessibilityLabel"),Fe=f?[...T,...S]:T,Me=Fe.sort((F,D)=>F-D).filter(F=>e[F]).map(F=>ee(e[F],F)),be=T.length<e.length&&!f,Ye=I(G.Tabs,c&&G.fitted,be&&G.fillSpace),We=I(G.Wrapper,r&&G.WrapperWithNewButton),Le=I(G.DisclosureTab,be&&G["DisclosureTab-visible"]),X=I(G.DisclosureActivator),de=t.createElement(t.Fragment,null,t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium"},d??m.translate("Polaris.Tabs.toggleTabsLabel")),t.createElement("div",{className:I(G.IconWrap,be&&y&&G["IconWrap-open"])},t.createElement(Ie,{source:gn,tone:"subdued"}))),_e=t.createElement(qe,{type:"button",className:X,onClick:z,"aria-label":d??m.translate("Polaris.Tabs.toggleTabsLabel"),disabled:s},de),Xe=S.map(F=>e[F]),pt=e.map(({content:F})=>F),Ke=t.createElement(Xs,{tabToFocus:v,activator:_e,selected:a,tabs:e,siblingTabHasFocus:v>-1,handleMeasurement:Ae}),Be=t.createElement($t,{id:ti,content:He,actions:[],onAction:H,onFocus:()=>{L&&p({tabToFocus:a,modalSubmitted:!1})},icon:t.createElement(Ie,{source:vn,accessibilityLabel:He}),disabled:s,onTogglePopover:V,onToggleModal:Q,tabIndexOverride:0}),it=n?e.map((F,D)=>a===D?t.createElement(na,{id:e[D].panelID||`${e[D].id}-panel`,tabID:e[D].id,key:e[D].id},n):t.createElement(na,{id:e[D].panelID||`${e[D].id}-panel`,tabID:e[D].id,key:e[D].id,hidden:!0})):null;return t.createElement("div",{className:G.Outer},t.createElement(oe,{padding:{md:"200"}},Ke,t.createElement("div",{className:We,ref:b},t.createElement("div",{className:G.ButtonWrapper,ref:g},t.createElement("ul",{role:Me.length>0?"tablist":void 0,className:Ye,onFocus:Z,onBlur:ne,onKeyDown:W,onKeyUp:U,"data-tabs-focus-catchment":!0},Me,f||Fe.length===0?null:t.createElement("li",{className:Le,role:"presentation"},t.createElement(Ue,{preferredPosition:"below",preferredAlignment:"left",activator:_e,active:be&&y,onClose:ce,autofocusTarget:"first-node"},t.createElement(Qs,{focusIndex:S.indexOf(v),disclosureTabs:Xe,onClick:ue,onKeyPress:U})))),r&&Fe.length>0?t.createElement("div",{className:G.NewTab},t.createElement(ei,{open:_,onClose:te,onClickPrimaryAction:k,viewNames:pt,activator:s?Be:t.createElement("div",null,t.createElement(Re,{content:m.translate("Polaris.Tabs.newViewTooltip"),preferredPosition:"above",hoverDelay:400},Be))})):null))),it)};function ai({onClick:e,label:n,disabled:a,tooltipContent:l,style:r,hideFilters:s,hideQueryField:o}){const i=t.createElement(le,{gap:"0"},o?null:t.createElement(Ie,{source:ya,tone:"base"}),s?null:t.createElement(Ie,{source:_a,tone:"base"})),c=t.createElement("div",{style:r},t.createElement(Ce,{size:"slim",onClick:e,disabled:a,icon:i,accessibilityLabel:n})),d=t.createElement(se,{as:"span",variant:"bodyMd",alignment:"center"},l);return t.createElement(Re,{content:d,preferredPosition:"above",hoverDelay:400},c)}function li({onClick:e,disabled:n}){const a=re(),l=t.createElement(se,{as:"span",variant:"bodyMd",alignment:"center"},a.translate("Polaris.IndexFilters.EditColumnsButton.tooltip"));return t.createElement(Re,{content:l,preferredPosition:"above",hoverDelay:400},t.createElement(Ce,{size:"slim",onClick:e,disabled:n,icon:En,accessibilityLabel:a.translate("Polaris.IndexFilters.EditColumnsButton.accessibilityLabel")}))}const ri=["INPUT","SELECT","TEXTAREA"],fn=150,tn={transition:`opacity ${fn}ms var(--p-motion-ease)`,opacity:0},nn={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0},unmounted:{opacity:0}};function si({tabs:e,selected:n,onSelect:a,onSort:l,onSortKeyChange:r,onSortDirectionChange:s,onAddFilterClick:o,sortOptions:i,sortSelected:c,queryValue:d="",queryPlaceholder:m,primaryAction:f,cancelAction:b,filters:g,appliedFilters:E,onClearAll:h,onQueryChange:p,onQueryFocus:v,onQueryClear:T,onEditStart:S,disabled:y,disableQueryField:_,hideFilters:L,loading:N,mode:A,setMode:R,disableStickyMode:j,isFlushWhenSticky:P=!1,canCreateNewView:M=!0,onCreateNewView:B,filteringAccessibilityLabel:w,filteringAccessibilityTooltip:V,hideQueryField:Q,closeOnChildOverlayClick:te,disableKeyboardShortcuts:k,showEditColumnsButton:H,autoFocusSearchField:$=!0}){const ee=re(),{mdDown:Z}=hn(),ne=u.useRef(null),W=u.useRef(null),{value:q,setFalse:U,setTrue:z}=ft(A===ie.Filtering&&$);Da(A,K=>{K===ie.Filtering&&$?z():U()}),Vt("keydown",K=>{var xt;if(k||Q&&L)return;const{key:bt}=K,ht=(xt=document==null?void 0:document.activeElement)==null?void 0:xt.tagName;if(A!==ie.Default&&K.key==="Escape"&&Pe(),bt==="f"&&A===ie.Default){if(ht&&ri.includes(ht))return;ve(),K.preventDefault()}});const{intersectionRef:Ae,measurerRef:ue,indexFilteringHeight:Se,isSticky:He}=Os(A,!!j,P),Fe=e.map(({content:K})=>K),Me=u.useCallback(K=>{l==null||l(K)},[l]),be=u.useCallback(K=>{p(K)},[p]),We=((K,et)=>u.useCallback(async bt=>{await(K==null?void 0:K(bt))&&(R(ie.Default),et==null||et())},[K,et]))(f==null?void 0:f.onAction),Le=u.useCallback(()=>{var K;(K=b==null?void 0:b.onAction)==null||K.call(b),R(ie.Default)},[b,R]),X=u.useMemo(()=>f?{...f,onAction:We}:void 0,[We,f]),de=u.useMemo(()=>b?{...b,onAction:Le}:void 0,[b,Le]),Ze=u.useCallback(K=>{R(K),S==null||S(K)},[S,R]),_e=u.useMemo(()=>de||X?t.createElement(Vs,{primaryAction:X,cancelAction:de,viewNames:Fe,disabled:y}):null,[X,de,y,Fe]),Xe=u.useMemo(()=>i!=null&&i.length?t.createElement(js,{choices:i,selected:c,onChange:Me,onChangeKey:r,onChangeDirection:s,disabled:y}):null,[Me,s,r,i,c,y]);function pt(){Ze(ie.EditingColumns)}const Ke=H?t.createElement(li,{onClick:pt,disabled:y}):null,Be=(f==null?void 0:f.loading)||(b==null?void 0:b.loading);function it(){Ze(ie.Filtering)}const F=k?"Polaris.IndexFilters.searchFilterTooltip":"Polaris.IndexFilters.searchFilterTooltipWithShortcut",D=V||ee.translate(F),Y=w||ee.translate("Polaris.IndexFilters.searchFilterAccessibilityLabel"),ae=N||Be;function Pe(){b==null||b.onAction(),R(ie.Default)}function pe(){T==null||T()}function Ve(){U()}function ke(){z(),v==null||v()}function ve(){A===ie.Default&&Ze(ie.Filtering)}return t.createElement("div",{className:we.IndexFiltersWrapper,style:{height:Se}},t.createElement("div",{ref:Ae}),t.createElement("div",{className:I(we.IndexFilters,He&&we.IndexFiltersSticky,He&&P&&we.IndexFiltersStickyFlush),ref:ue},t.createElement(Ht,{nodeRef:ne,in:A!==ie.Filtering,timeout:fn},K=>t.createElement("div",{ref:ne},A!==ie.Filtering?t.createElement(Us,null,t.createElement(le,{align:"start",blockAlign:"center",gap:{xs:"0",md:"200"},wrap:!1},t.createElement("div",{className:I(we.TabsWrapper,Z&&we.SmallScreenTabsWrapper,ae&&we.TabsWrapperLoading)},t.createElement("div",{className:we.TabsInner,style:{...tn,...nn[K]}},t.createElement(ni,{tabs:e,selected:n,onSelect:a,disabled:!!(A!==ie.Default||y),canCreateNewView:M,onCreateNewView:B})),ae&&Z&&t.createElement("div",{className:we.TabsLoading},t.createElement(yt,{size:"small"}))),t.createElement("div",{className:we.ActionWrap},ae&&!Z&&t.createElement("div",{className:we.DesktopLoading},ae?t.createElement(yt,{size:"small"}):null),A===ie.Default?t.createElement(t.Fragment,null,L&&Q?null:t.createElement(ai,{onClick:it,label:Y,tooltipContent:D,disabled:y,hideFilters:L,hideQueryField:Q,style:{...tn,...nn[K]}}),Ke,Xe):null,A===ie.EditingColumns?_e:null))):null)),t.createElement(Ht,{nodeRef:W,in:A===ie.Filtering,timeout:fn},K=>t.createElement("div",{ref:W},A===ie.Filtering?t.createElement(gs,{queryValue:d,queryPlaceholder:m,onQueryChange:be,onQueryClear:pe,onQueryFocus:ke,onQueryBlur:Ve,onAddFilterClick:o,filters:g,appliedFilters:E,onClearAll:h,disableFilters:y,hideFilters:L,hideQueryField:Q,disableQueryField:y||_,loading:N||Be,focused:q,mountedState:Z?void 0:K,borderlessQueryField:!0,closeOnChildOverlayClick:te},t.createElement("div",{className:we.ButtonWrap},t.createElement(le,{gap:"200",align:"start",blockAlign:"center"},t.createElement("div",{style:{...tn,...nn[K]}},_e),Xe))):null))))}function ii(e=ie.Default){const[n,a]=u.useState(e);return{mode:n,setMode:a}}var C={IndexTable:"Polaris-IndexTable",IndexTableWrapper:"Polaris-IndexTable__IndexTableWrapper","IndexTableWrapper-scrollBarHidden":"Polaris-IndexTable__IndexTableWrapper--scrollBarHidden",IndexTableWrapperWithSelectAllActions:"Polaris-IndexTable__IndexTableWrapperWithSelectAllActions","LoadingContainer-enter":"Polaris-IndexTable__LoadingContainer--enter","LoadingContainer-enter-active":"Polaris-IndexTable--loadingContainerEnterActive","LoadingContainer-exit":"Polaris-IndexTable__LoadingContainer--exit","LoadingContainer-exit-active":"Polaris-IndexTable--loadingContainerExitActive",LoadingPanel:"Polaris-IndexTable__LoadingPanel",LoadingPanelRow:"Polaris-IndexTable__LoadingPanelRow",LoadingPanelText:"Polaris-IndexTable__LoadingPanelText",Table:"Polaris-IndexTable__Table","Table-scrolling":"Polaris-IndexTable__Table--scrolling","TableCell-first":"Polaris-IndexTable__TableCell--first","StickyTable-scrolling":"Polaris-IndexTable__StickyTable--scrolling",TableCell:"Polaris-IndexTable__TableCell","TableHeading-first":"Polaris-IndexTable__TableHeading--first","TableHeading-second":"Polaris-IndexTable__TableHeading--second","Table-sticky":"Polaris-IndexTable__Table--sticky",StickyTable:"Polaris-IndexTable__StickyTable","Table-unselectable":"Polaris-IndexTable__Table--unselectable",TableRow:"Polaris-IndexTable__TableRow","TableRow-unclickable":"Polaris-IndexTable__TableRow--unclickable",toneSuccess:"Polaris-IndexTable--toneSuccess","TableRow-child":"Polaris-IndexTable__TableRow--child",toneWarning:"Polaris-IndexTable--toneWarning",toneCritical:"Polaris-IndexTable--toneCritical",toneSubdued:"Polaris-IndexTable--toneSubdued","TableRow-subheader":"Polaris-IndexTable__TableRow--subheader","TableRow-selected":"Polaris-IndexTable__TableRow--selected","TableRow-hovered":"Polaris-IndexTable__TableRow--hovered","TableRow-disabled":"Polaris-IndexTable__TableRow--disabled",ZebraStriping:"Polaris-IndexTable__ZebraStriping",TableHeading:"Polaris-IndexTable__TableHeading","TableHeading-flush":"Polaris-IndexTable__TableHeading--flush","TableHeading-align-center":"Polaris-IndexTable--tableHeadingAlignCenter","TableHeading-align-end":"Polaris-IndexTable--tableHeadingAlignEnd","TableHeading-extra-padding-right":"Polaris-IndexTable--tableHeadingExtraPaddingRight","TableHeading-sortable":"Polaris-IndexTable__TableHeading--sortable",TableHeadingSortButton:"Polaris-IndexTable__TableHeadingSortButton",TableHeadingSortIcon:"Polaris-IndexTable__TableHeadingSortIcon","TableHeadingSortButton-heading-align-end":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEnd","TableHeadingSortButton-heading-align-end-currently-sorted":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEndCurrentlySorted","TableHeadingSortIcon-heading-align-end":"Polaris-IndexTable--tableHeadingSortIconHeadingAlignEnd","TableHeadingSortButton-heading-align-end-previously-sorted":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEndPreviouslySorted","right-aligned-sort-button-slide-out":"Polaris-IndexTable--rightAlignedSortButtonSlideOut","reveal-right-aligned-sort-button-icon":"Polaris-IndexTable--revealRightAlignedSortButtonIcon",TableHeadingUnderline:"Polaris-IndexTable__TableHeadingUnderline",TableHeadingTooltipUnderlinePlaceholder:"Polaris-IndexTable__TableHeadingTooltipUnderlinePlaceholder","TableHeadingSortIcon-visible":"Polaris-IndexTable__TableHeadingSortIcon--visible",TableHeadingSortSvg:"Polaris-IndexTable__TableHeadingSortSvg",SortableTableHeadingWithCustomMarkup:"Polaris-IndexTable__SortableTableHeadingWithCustomMarkup",SortableTableHeaderWrapper:"Polaris-IndexTable__SortableTableHeaderWrapper",ColumnHeaderCheckboxWrapper:"Polaris-IndexTable__ColumnHeaderCheckboxWrapper",FirstStickyHeaderElement:"Polaris-IndexTable__FirstStickyHeaderElement","TableHeading-unselectable":"Polaris-IndexTable__TableHeading--unselectable","TableCell-flush":"Polaris-IndexTable__TableCell--flush","Table-sticky-scrolling":"Polaris-IndexTable--tableStickyScrolling","StickyTableHeader-sticky-scrolling":"Polaris-IndexTable--stickyTableHeaderStickyScrolling","TableHeading-last":"Polaris-IndexTable__TableHeading--last","Table-sticky-last":"Polaris-IndexTable--tableStickyLast","StickyTableHeader-sticky-last":"Polaris-IndexTable--stickyTableHeaderStickyLast","Table-sortable":"Polaris-IndexTable__Table--sortable",StickyTableHeader:"Polaris-IndexTable__StickyTableHeader","StickyTableHeader-isSticky":"Polaris-IndexTable__StickyTableHeader--isSticky",StickyTableHeadings:"Polaris-IndexTable__StickyTableHeadings","StickyTableHeading-second":"Polaris-IndexTable__StickyTableHeading--second",unselectable:"Polaris-IndexTable--unselectable","StickyTableHeading-second-scrolling":"Polaris-IndexTable--stickyTableHeadingSecondScrolling",ScrollLeft:"Polaris-IndexTable__ScrollLeft",ScrollRight:"Polaris-IndexTable__ScrollRight","ScrollRight-onboarding":"Polaris-IndexTable__ScrollRight--onboarding",SelectAllActionsWrapper:"Polaris-IndexTable__SelectAllActionsWrapper",SelectAllActionsWrapperWithPagination:"Polaris-IndexTable__SelectAllActionsWrapperWithPagination",SelectAllActionsWrapperSticky:"Polaris-IndexTable__SelectAllActionsWrapperSticky",SelectAllActionsWrapperAtEnd:"Polaris-IndexTable__SelectAllActionsWrapperAtEnd",SelectAllActionsWrapperAtEndAppear:"Polaris-IndexTable__SelectAllActionsWrapperAtEndAppear",BulkActionsWrapper:"Polaris-IndexTable__BulkActionsWrapper",BulkActionsWrapperVisible:"Polaris-IndexTable__BulkActionsWrapperVisible",PaginationWrapper:"Polaris-IndexTable__PaginationWrapper",PaginationWrapperScrolledPastTop:"Polaris-IndexTable__PaginationWrapperScrolledPastTop",ScrollBarContainer:"Polaris-IndexTable__ScrollBarContainer",ScrollBarContainerWithPagination:"Polaris-IndexTable__ScrollBarContainerWithPagination",ScrollBarContainerScrolledPastTop:"Polaris-IndexTable__ScrollBarContainerScrolledPastTop",ScrollBarContainerWithSelectAllActions:"Polaris-IndexTable__ScrollBarContainerWithSelectAllActions",ScrollBarContainerSelectAllActionsSticky:"Polaris-IndexTable__ScrollBarContainerSelectAllActionsSticky",scrollBarContainerCondensed:"Polaris-IndexTable--scrollBarContainerCondensed",scrollBarContainerHidden:"Polaris-IndexTable--scrollBarContainerHidden",ScrollBar:"Polaris-IndexTable__ScrollBar",disableTextSelection:"Polaris-IndexTable--disableTextSelection",EmptySearchResultWrapper:"Polaris-IndexTable__EmptySearchResultWrapper",condensedRow:"Polaris-IndexTable--condensedRow",CondensedList:"Polaris-IndexTable__CondensedList",HeaderWrapper:"Polaris-IndexTable__HeaderWrapper","StickyTable-condensed":"Polaris-IndexTable__StickyTable--condensed","StickyTableHeader-condensed":"Polaris-IndexTable__StickyTableHeader--condensed",ScrollBarContent:"Polaris-IndexTable__ScrollBarContent"};const Qe="All";let me;(function(e){e.All="all",e.Page="page",e.Multi="multi",e.Single="single",e.Range="range"})(me||(me={}));const Va=u.createContext(void 0),ja=u.createContext(void 0),za=u.createContext(void 0);function Ua(){const e=u.useContext(ja);if(!e)throw new Error("Missing IndexProvider context");return e}function oi(){const e=u.useContext(za);if(!e)throw new Error("Missing IndexProvider context");return e}function qa(){const e=u.useContext(Va);if(!e)throw new Error("Missing IndexProvider context");return e}function ci({selectedItemsCount:e,itemCount:n,hasMoreItems:a,resourceName:l,defaultPaginatedSelectAllText:r}){const s=re(),o=!!e,i=e==="All"||e>0,c={singular:s.translate("Polaris.IndexProvider.defaultItemSingular"),plural:s.translate("Polaris.IndexProvider.defaultItemPlural")},d=l||c,m=E(),f=h(),b=p();let g="indeterminate";return!e||e===0?g=void 0:(e===Qe||e===n)&&(g=!0),{paginatedSelectAllText:m,bulkActionsLabel:f,bulkActionsAccessibilityLabel:b,resourceName:d,selectMode:i,bulkSelectState:g,selectable:o};function E(){if(!(!o||!a)&&e===Qe)return r||s.translate("Polaris.IndexProvider.allItemsSelected",{itemsLength:n,resourceNamePlural:d.plural.toLocaleLowerCase()})}function h(){const v=e===Qe?`${n}+`:e;return s.translate("Polaris.IndexProvider.selected",{selectedItemsCount:v})}function p(){const v=n,T=e===v;return v===1&&T?s.translate("Polaris.IndexProvider.a11yCheckboxDeselectAllSingle",{resourceNameSingular:d.singular}):v===1?s.translate("Polaris.IndexProvider.a11yCheckboxSelectAllSingle",{resourceNameSingular:d.singular}):T?s.translate("Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple",{itemsLength:n,resourceNamePlural:d.plural}):s.translate("Polaris.IndexProvider.a11yCheckboxSelectAllMultiple",{itemsLength:n,resourceNamePlural:d.plural})}}function ui({onSelectionChange:e=()=>{}}){const n=u.useRef(null);return u.useCallback((l,r,s,o)=>{const i=n.current;if(me.Multi&&typeof o=="number"&&(n.current=o),l===me.Single||l===me.Multi&&(typeof i!="number"||typeof o!="number"))e(me.Single,r,s);else if(l===me.Multi){const c=Math.min(i,o),d=Math.max(i,o);e(l,r,[c,d])}else l===me.Page||l===me.All?e(l,r):l===me.Range&&e(me.Range,r,s)},[e])}function di({children:e,resourceName:n,loading:a,onSelectionChange:l,selectedItemsCount:r=0,itemCount:s,hasMoreItems:o,condensed:i,selectable:c=!0,paginatedSelectAllText:d}){const{paginatedSelectAllText:m,bulkActionsLabel:f,bulkActionsAccessibilityLabel:b,resourceName:g,selectMode:E,bulkSelectState:h}=ci({selectedItemsCount:r,itemCount:s,hasMoreItems:o,resourceName:n,defaultPaginatedSelectAllText:d}),p=ui({onSelectionChange:l}),v=u.useMemo(()=>({itemCount:s,selectMode:E&&c,selectable:c,resourceName:g,loading:a,paginatedSelectAllText:m,hasMoreItems:o,bulkActionsLabel:f,bulkActionsAccessibilityLabel:b,bulkSelectState:h,selectedItemsCount:r,condensed:i}),[s,E,c,g,a,m,o,f,b,h,r,i]),T=u.useMemo(()=>({selectable:c,selectMode:E&&c,condensed:i}),[i,E,c]);return t.createElement(Va.Provider,{value:v},t.createElement(za.Provider,{value:T},t.createElement(ja.Provider,{value:p},e)))}const mi=u.memo(function({children:n,className:a,flush:l,colSpan:r,headers:s,scope:o,as:i="td",id:c}){const d=I(a,C.TableCell,l&&C["TableCell-flush"]);return t.createElement(i,{id:c,colSpan:r,headers:s,scope:o,className:d},n)});var ra={TableCellContentContainer:"Polaris-IndexTable-Checkbox__TableCellContentContainer",Wrapper:"Polaris-IndexTable-Checkbox__Wrapper"};const xn=u.createContext({}),fi=u.createContext(void 0),Ga={scrollableContainer:null,canScrollLeft:!1,canScrollRight:!1},pi=u.createContext(Ga),bi=u.memo(function({accessibilityLabel:n}){const a=re(),{resourceName:l}=qa(),{itemId:r,selected:s,disabled:o,onInteraction:i}=u.useContext(xn),c=n||a.translate("Polaris.IndexTable.selectItem",{resourceName:l.singular});return t.createElement(hi,null,t.createElement("div",{className:ra.TableCellContentContainer},t.createElement("div",{className:ra.Wrapper,onClick:i,onKeyUp:gi},t.createElement(Ot,{id:`Select-${r}`,label:c,labelHidden:!0,checked:s,disabled:o}))))});function hi({children:e}){const{position:n}=u.useContext(xn),a=u.useRef(null),l=u.useCallback(st(()=>{if(n!==0||!a.current)return;const{width:s}=a.current.getBoundingClientRect();ws("--pc-checkbox-offset",`${s}px`)}),[n]);u.useEffect(()=>{l()},[l]),u.useEffect(()=>{if(a.current)return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[l]);const r=I(C.TableCell,C["TableCell-first"]);return t.createElement("td",{className:r,ref:a},e)}function gi(){}const Ei=u.memo(function({children:n,selected:a,id:l,position:r,tone:s,disabled:o,selectionRange:i,rowType:c="data",accessibilityLabel:d,onNavigation:m,onClick:f}){const{selectable:b,selectMode:g,condensed:E}=oi(),h=Ua(),{value:p,setTrue:v,setFalse:T}=ft(!1),S=u.useCallback(B=>{B.stopPropagation();let w=me.Single;if("key"in B&&B.key!==" "||!h)return;B.nativeEvent.shiftKey?w=me.Multi:i&&(w=me.Range),h(w,!a,i??l,r)},[l,h,a,i,r]),y=u.useMemo(()=>({itemId:l,selected:a,position:r,onInteraction:S,disabled:o}),[l,a,o,r,S]),_=u.useRef(null),L=u.useRef(!1),N=u.useRef(null),A=u.useCallback(B=>{N.current=B;const w=B==null?void 0:B.querySelector("[data-primary-link]");w&&(_.current=w)},[]),R=I(C.TableRow,c==="subheader"&&C["TableRow-subheader"],c==="child"&&C["TableRow-child"],b&&E&&C.condensedRow,a&&C["TableRow-selected"],p&&!E&&C["TableRow-hovered"],o&&C["TableRow-disabled"],s&&C[rt("tone",s)],!b&&!f&&!_.current&&C["TableRow-unclickable"]);let j;(!o&&b||f||_.current)&&(j=B=>{if(c!=="subheader"&&!(!N.current||L.current)){if(B.stopPropagation(),B.preventDefault(),f){f();return}if(_.current&&!g){L.current=!0;const{ctrlKey:w,metaKey:V}=B.nativeEvent;if(m&&m(l),(w||V)&&_.current instanceof HTMLAnchorElement){L.current=!1,window.open(_.current.href,"_blank");return}_.current.dispatchEvent(new MouseEvent(B.type,B.nativeEvent))}else L.current=!1,S(B)}});const P=E?"li":"tr",M=b?t.createElement(bi,{accessibilityLabel:d}):null;return t.createElement(xn.Provider,{value:y},t.createElement(fi.Provider,{value:p},t.createElement(P,{key:l,id:l,className:R,onMouseEnter:v,onMouseLeave:T,onClick:j,ref:A},M,n)))});function sa(e,n){return e?Array.from(e.querySelectorAll(n)):[]}var vi={ScrollContainer:"Polaris-IndexTable-ScrollContainer"};function Ti({children:e,scrollableContainerRef:n,onScroll:a}){u.useEffect(()=>{n.current&&n.current.dispatchEvent(new Event("scroll"))},[n]);const[l,r]=u.useState(Ga),s=u.useCallback(st(()=>{if(!n.current)return;const o=n.current.scrollWidth-n.current.offsetWidth,i=n.current.scrollLeft>0,c=n.current.scrollLeft<o;a(i,c),r({scrollableContainer:n.current,canScrollLeft:i,canScrollRight:c})},40,{trailing:!0,leading:!0,maxWait:40}),[a,n]);return t.createElement(pi.Provider,{value:l},t.createElement("div",{className:vi.ScrollContainer,ref:n,onScroll:s},e))}const Ci=16,yi=300;function Si({headings:e,bulkActions:n=[],promotedBulkActions:a=[],children:l,emptyState:r,sort:s,paginatedSelectAllActionText:o,lastColumnSticky:i=!1,sortable:c,sortDirection:d,defaultSortDirection:m="descending",sortColumnIndex:f,onSort:b,sortToggleLabels:g,hasZebraStriping:E,pagination:h,...p}){const v=ga(),{loading:T,bulkSelectState:S,resourceName:y,bulkActionsAccessibilityLabel:_,selectMode:L,selectable:N=p.selectable,paginatedSelectAllText:A,itemCount:R,hasMoreItems:j,selectedItemsCount:P,condensed:M}=qa(),B=Ua(),w=re(),{value:V,toggle:Q}=ft(!1),te=u.useRef({top:0,left:0}),k=u.useRef([]),H=u.useRef(null),$=u.useRef(null),ee=u.useRef(null),Z=u.useRef(null),ne=u.useRef(null),[W,q]=u.useState(!1),[U,z]=u.useState(null),[ce,Ae]=u.useState(!0),ue=u.useRef([]),Se=u.useRef([]),He=u.useRef(null),Fe=u.useRef(null),Me=u.useRef(null),be=u.useRef(null),Ye=u.useRef(null),We=u.useRef(!1),Le=u.useRef(!1),X=u.useRef(f),de=u.useRef(!1),Ze=u.useRef(0),_e=u.useRef(!1);P!==Ze.current&&(de.current=!0,Ze.current=P),!_e.current&&P!==0&&(_e.current=!0);const Xe=u.useCallback(x=>{x!==null&&!W&&q(!0),ee.current=x},[W]),pt=u.useCallback(()=>{B(P===Qe?me.Page:me.All,!0)},[B,P]),Ke=u.useMemo(()=>st(()=>{var J,ge;if(!$.current||!H.current)return;const x=H.current.getBoundingClientRect();te.current={top:x.top,left:x.left},k.current=ue.current.map(Te=>({offsetWidth:Te.offsetWidth||0,offsetLeft:Te.offsetLeft||0})),ue.current.length!==0&&(N&&ue.current.length>1&&(ue.current[1].style.left=`${k.current[0].offsetWidth}px`,(J=Se.current)!=null&&J.length&&(Se.current[1].style.left=`${k.current[0].offsetWidth}px`)),(ge=Se.current)!=null&&ge.length&&Se.current.forEach((Te,$e)=>{var Oe;Te.style.minWidth=`${((Oe=k.current[$e])==null?void 0:Oe.offsetWidth)||0}px`}))}),[N]),Be=u.useCallback(()=>{var x,J;be.current&&$.current&&W&&(be.current.style.setProperty("--pc-index-table-scroll-bar-content-width",`${$.current.offsetWidth-Ci}px`),Ae(((x=Ye.current)==null?void 0:x.offsetWidth)===((J=$.current)==null?void 0:J.offsetWidth)))},[W]),it=u.useCallback(st(Be,yi,{trailing:!0}),[Be]),[F,D]=u.useState(!0),Y=u.useCallback(st(()=>{if(!i||!$.current||!H.current)return;const x=$.current.getBoundingClientRect(),J=H.current.getBoundingClientRect();D(x.width>J.width)}),[i]);u.useEffect(()=>{Y()},[Y]);const[ae,Pe]=u.useState(!0),pe=u.useCallback(()=>{if(!H.current||!ue.current.length)return;const x=H.current.getBoundingClientRect(),J=N?ue.current[0].getBoundingClientRect().width:0,ge=ue.current[N?1:0].getBoundingClientRect().width,Te=N?ue.current.length>2:1,$e=i&&Te?ue.current[ue.current.length-1].getBoundingClientRect().width:0,Oe=100;Pe(x.width>ge+J+$e+Oe)},[i,N]);u.useEffect(()=>{W&&pe()},[pe,W]);const Ve=u.useCallback(()=>{var x;(x=be.current)==null||x.style.setProperty("--pc-index-table-scroll-bar-content-width","0px"),Ke(),it(),Y(),pe()},[Ke,it,Y,pe]),ke=u.useCallback((x,J)=>{!H.current||!be.current||(We.current||(Le.current=!0,be.current.scrollLeft=H.current.scrollLeft),We.current=!1,Me.current&&(Me.current.scrollLeft=H.current.scrollLeft),(x&&!V||!x&&V)&&Q(),D(J))},[V,Q]),ve=u.useCallback(()=>{!H.current||!be.current||(Le.current||(We.current=!0,H.current.scrollLeft=be.current.scrollLeft),Le.current=!1)},[]);u.useLayoutEffect(()=>{ue.current=sa($.current,"[data-index-table-heading]"),Se.current=sa(He.current,"[data-index-table-sticky-heading]"),Ke()},[e,Ke,Fe,W]),u.useEffect(()=>{Be(),z(M?Z.current:$.current)},[W,Be,M]);const K=e.map((x,J)=>Nn(x,J,"th",{"data-index-table-heading":!0},x.id)),et=e.map((x,J)=>Nn(x,J,"div",{"data-index-table-sticky-heading":!0})),[bt,ht]=u.useState(P===Qe?`${R}+`:P);u.useEffect(()=>{(P===Qe||P>0)&&ht(P===Qe?`${R}+`:P)},[P,R]);const xt=w.translate("Polaris.IndexTable.selected",{selectedItemsCount:bt}),tl=u.useCallback(()=>{B(me.Page,!S||S==="indeterminate")},[S,B]),nl=yl(),al={enter:C["LoadingContainer-enter"],enterActive:C["LoadingContainer-enter-active"],exit:C["LoadingContainer-exit"],exitActive:C["LoadingContainer-exit-active"]},Ut=t.createElement(Wa,{in:T,classNames:al,timeout:parseInt(v.motion["motion-duration-100"],10),nodeRef:ne,appear:!0,unmountOnExit:!0},t.createElement("div",{className:C.LoadingPanel,ref:ne},t.createElement("div",{className:C.LoadingPanelRow},t.createElement(yt,{size:"small"}),t.createElement("span",{className:C.LoadingPanelText},w.translate("Polaris.IndexTable.resourceLoadingAccessibilityLabel",{resourceNamePlural:y.plural.toLocaleLowerCase()}))))),ll=I(C.StickyTable,V&&C["StickyTable-scrolling"],M&&C["StickyTable-condensed"]),qt=!M||P,rl=qt?a:[],sl=qt?n:[],il=t.createElement("div",{className:ll,role:"presentation"},t.createElement(Ba,{boundingElement:U},x=>{const J=I(C.StickyTableHeader,x&&C["StickyTableHeader-isSticky"],ae&&C["StickyTableHeader-sticky"],V&&C["StickyTableHeader-scrolling"],ae&&i&&C["StickyTableHeader-sticky-last"],ae&&i&&F&&C["StickyTableHeader-sticky-scrolling"]),ge=I(C.BulkActionsWrapper,L&&C.BulkActionsWrapperVisible,M&&C["StickyTableHeader-condensed"],x&&C["StickyTableHeader-isSticky"]),Te=qt&&!M?t.createElement("div",{className:ge},t.createElement($r,{selectMode:L,onToggleAll:tl,paginatedSelectAllText:A,paginatedSelectAllAction:nl,accessibilityLabel:_,selected:S,promotedActions:rl,actions:sl,onSelectModeToggle:M?Sl:void 0,label:xt,buttonSize:"micro"})):null,$e=M?t.createElement("div",{className:I(C.HeaderWrapper,(!N||M)&&C.unselectable)},Ut,s):t.createElement("div",{className:J,ref:He},Ut,t.createElement("div",{className:C.StickyTableHeadings,ref:Me},et));return t.createElement(t.Fragment,null,$e,Te)})),ol=I(C.ScrollBarContainer,h&&C.ScrollBarContainerWithPagination,M&&C.scrollBarContainerCondensed,ce&&C.scrollBarContainerHidden),cl=I($.current&&W&&C.ScrollBarContent),ul=R>0?t.createElement(La,{onMount:Be},t.createElement("div",{className:ol,ref:Ye},t.createElement("div",{onScroll:ve,className:C.ScrollBar,ref:be},t.createElement("div",{className:cl})))):null,dl=c==null?void 0:c.some(x=>x),ml=I(C.Table,V&&C["Table-scrolling"],L&&C.disableTextSelection,!N&&C["Table-unselectable"],ae&&C["Table-sticky"],dl&&C["Table-sortable"],ae&&i&&C["Table-sticky-last"],ae&&i&&F&&C["Table-sticky-scrolling"],E&&C.ZebraStriping),fl=r||t.createElement(Ra,{title:w.translate("Polaris.IndexTable.emptySearchTitle",{resourceNamePlural:y.plural}),description:w.translate("Polaris.IndexTable.emptySearchDescription"),withIllustration:!0}),_n=t.createElement(t.Fragment,null,t.createElement(Lt,{event:"resize",handler:Ve}),il),pl=I(C.CondensedList,E&&C.ZebraStriping),bl=M?t.createElement(t.Fragment,null,_n,t.createElement("ul",{"data-selectmode":!!L,className:pl,ref:Z},l)):t.createElement(t.Fragment,null,_n,t.createElement(Ti,{scrollableContainerRef:H,onScroll:ke},t.createElement("table",{ref:$,className:ml},t.createElement("thead",null,t.createElement("tr",{className:C.HeadingRow},K)),t.createElement("tbody",{ref:Xe},l)))),hl=R>0?bl:t.createElement("div",{className:C.EmptySearchResultWrapper},fl),gl=h?t.createElement("div",{className:C.PaginationWrapper},t.createElement(Ca,Object.assign({type:"table"},h))):null;return t.createElement(t.Fragment,null,t.createElement("div",{className:C.IndexTable},t.createElement("div",{className:C.IndexTableWrapper},!M&&Ut,hl,ul,gl)));function Nn(x,J,ge,Te,$e){const Oe=J===0,ot=J===e.length-1,je=c==null?void 0:c.some(_t=>_t===!0),It=x.alignment||"start",Gt=I(C.TableHeading,It==="center"&&C["TableHeading-align-center"],It==="end"&&C["TableHeading-align-end"],je&&C["TableHeading-sortable"],Oe&&C["TableHeading-second"],ot&&!x.hidden&&C["TableHeading-last"],!N&&C["TableHeading-unselectable"],x.flush&&C["TableHeading-flush"]),Zt=N!==!1&&Oe&&k.current&&k.current.length>0?{left:k.current[0].offsetWidth}:void 0,tt=t.createElement(ge,Object.assign({id:$e,className:Gt,key:Pi(x),style:Zt},Te),Tl(x,J));if(J!==0||!N)return tt;const At=I(C.TableHeading,je&&C["TableHeading-sortable"],J===0&&C["TableHeading-first"]);return[t.createElement(ge,Object.assign({className:At,key:`${x}-${J}`},Te),El()),tt]}function El(){return t.createElement("div",{className:C.ColumnHeaderCheckboxWrapper},t.createElement(Ot,{label:w.translate("Polaris.IndexTable.selectAllLabel",{resourceNamePlural:y.plural}),labelHidden:!0,onChange:Cl,checked:S}))}function vl(x,J){de.current=!1,_e.current=!1,X.current=f,b==null||b(x,J)}function Tl(x,J){let ge;const Te={width:x.tooltipWidth??"default",activatorWrapper:"div",dismissOnMouseOut:!0,persistOnClick:x.tooltipPersistsOnClick},$e={...Te,padding:"400",borderRadius:"200",content:x.tooltipContent,preferredPosition:"above"},Oe=t.createElement(se,{as:"span",variant:"bodySm",fontWeight:"medium",visuallyHidden:x.hidden},x.title);x.new?ge=t.createElement(St,{wrap:!1,alignment:"center"},Oe,t.createElement(Ta,{tone:"new"},w.translate("Polaris.IndexTable.onboardingBadgeText"))):ge=Oe;const ot={"--pc-index-table-heading-extra-padding-right":x.paddingBlockEnd?`var(--p-space-${x.paddingBlockEnd})`:"0"};if(c!=null&&c[J]){const je=J===f,It=!je&&J===X.current,Gt=de.current||!_e.current&&P!==0,Zt=d==="ascending";let tt=x.defaultSortDirection??m,At=tt==="ascending"?Bt:Rt;je&&(tt=Zt?"descending":"ascending",At=d==="ascending"?Bt:Rt);const Xt=t.createElement("span",{className:I(C.TableHeadingSortIcon,(x==null?void 0:x.alignment)==="end"&&C["TableHeadingSortIcon-heading-align-end"],je&&C["TableHeadingSortIcon-visible"])},t.createElement(At,{focusable:"false","aria-hidden":"true",className:C.TableHeadingSortSvg})),_t={onClick:()=>vl(J,tt),className:I(C.TableHeadingSortButton,!je&&(x==null?void 0:x.alignment)==="end"&&C["TableHeadingSortButton-heading-align-end"],je&&(x==null?void 0:x.alignment)==="end"&&C["TableHeadingSortButton-heading-align-end-currently-sorted"],It&&!Gt&&(x==null?void 0:x.alignment)==="end"&&C["TableHeadingSortButton-heading-align-end-previously-sorted"]),tabIndex:L?-1:0},wn=t.createElement(qe,_t,Xt,t.createElement("span",{className:I(g&&L&&x.tooltipContent&&C.TableHeadingTooltipUnderlinePlaceholder)},ge));if(!g||L)return t.createElement("div",{className:C.SortableTableHeadingWithCustomMarkup},wn);const Pl=je?d:tt,Fn=g[J][Pl];if(!x.tooltipContent)return t.createElement("div",{style:ot,className:I(x.paddingBlockEnd&&C["TableHeading-extra-padding-right"])},t.createElement(Re,Object.assign({},Te,{content:Fn,preferredPosition:"above"}),wn));if(x.tooltipContent)return t.createElement("div",{className:I(C.SortableTableHeadingWithCustomMarkup,x.paddingBlockEnd&&C["TableHeading-extra-padding-right"]),style:ot},t.createElement(qe,_t,t.createElement(Re,$e,t.createElement("span",{className:C.TableHeadingUnderline},ge)),t.createElement(Re,Object.assign({},Te,{content:Fn,preferredPosition:"above"}),Xt)))}return x.tooltipContent?t.createElement("div",{style:ot,className:I(x.paddingBlockEnd&&C["TableHeading-extra-padding-right"])},t.createElement(Re,Object.assign({},$e,{activatorWrapper:"span"}),t.createElement("span",{className:I(C.TableHeadingUnderline,C.SortableTableHeaderWrapper)},ge))):t.createElement("div",{style:ot,className:I(x.paddingBlockEnd&&C["TableHeading-extra-padding-right"])},ge)}function Cl(x){B(me.Page,x)}function yl(){if(!N||!j)return;const x=o??w.translate("Polaris.IndexTable.selectAllItems",{itemsLength:R,resourceNamePlural:y.plural.toLocaleLowerCase()});return{content:P===Qe?w.translate("Polaris.IndexTable.undo"):x,onAction:pt}}function Sl(){B(me.All,!1)}}function Pi(e){return e.id?e.id:typeof e.title=="string"?e.title:""}function Tt({children:e,selectable:n=!0,itemCount:a,selectedItemsCount:l=0,resourceName:r,loading:s,hasMoreItems:o,condensed:i,onSelectionChange:c,paginatedSelectAllText:d,...m}){return t.createElement(t.Fragment,null,t.createElement(di,{selectable:n&&!i,itemCount:a,selectedItemsCount:l,resourceName:r,loading:s,hasMoreItems:o,condensed:i,onSelectionChange:c,paginatedSelectAllText:d},t.createElement(Si,m,e)))}Tt.Cell=mi;Tt.Row=Ei;function ki(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Za={exports:{}};(function(e,n){(function(a,l){typeof ki=="function"?e.exports=l():a.pluralize=l()})(kl,function(){var a=[],l=[],r={},s={},o={};function i(h){return typeof h=="string"?new RegExp("^"+h+"$","i"):h}function c(h,p){return h===p?p:h===h.toLowerCase()?p.toLowerCase():h===h.toUpperCase()?p.toUpperCase():h[0]===h[0].toUpperCase()?p.charAt(0).toUpperCase()+p.substr(1).toLowerCase():p.toLowerCase()}function d(h,p){return h.replace(/\$(\d{1,2})/g,function(v,T){return p[T]||""})}function m(h,p){return h.replace(p[0],function(v,T){var S=d(p[1],arguments);return c(v===""?h[T-1]:v,S)})}function f(h,p,v){if(!h.length||r.hasOwnProperty(h))return p;for(var T=v.length;T--;){var S=v[T];if(S[0].test(p))return m(p,S)}return p}function b(h,p,v){return function(T){var S=T.toLowerCase();return p.hasOwnProperty(S)?c(T,S):h.hasOwnProperty(S)?c(T,h[S]):f(S,T,v)}}function g(h,p,v,T){return function(S){var y=S.toLowerCase();return p.hasOwnProperty(y)?!0:h.hasOwnProperty(y)?!1:f(y,y,v)===y}}function E(h,p,v){var T=p===1?E.singular(h):E.plural(h);return(v?p+" ":"")+T}return E.plural=b(o,s,a),E.isPlural=g(o,s,a),E.singular=b(s,o,l),E.isSingular=g(s,o,l),E.addPluralRule=function(h,p){a.push([i(h),p])},E.addSingularRule=function(h,p){l.push([i(h),p])},E.addUncountableRule=function(h){if(typeof h=="string"){r[h.toLowerCase()]=!0;return}E.addPluralRule(h,"$0"),E.addSingularRule(h,"$0")},E.addIrregularRule=function(h,p){p=p.toLowerCase(),h=h.toLowerCase(),o[h]=p,s[p]=h},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(h){return E.addIrregularRule(h[0],h[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(h){return E.addPluralRule(h[0],h[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(h){return E.addSingularRule(h[0],h[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(E.addUncountableRule),E})})(Za);var xi=Za.exports;const Ii=xl(xi),Ai='"model" is not a valid Gadget model',In=e=>{if(!e)throw new Error(Ai)},_i=e=>{const{onDebouncedSearchValueChange:n,debounceMilliseconds:a}=e,[l,r]=u.useState(""),[s,o]=u.useState(""),i=u.useCallback(cr(d=>{o(d),n()},a),[]);return{value:l,debouncedValue:s,set:d=>{r(d),i(d)},clear:()=>{r(""),o(""),n()}}},Ni=e=>{const{currentPageIds:n}=e,[a,l]=u.useState([]),r={recordIds:a,clearAll:()=>l([]),selectCurrentPage:()=>l(n),selectIds:o=>l(ur([...a,...o])),deselectIds:o=>l(a.filter(i=>!o.includes(i)))};return u.useEffect(()=>{l(a.filter(o=>n.includes(o)))},[n.join(",")]),{...r,onSelectionChange:(o,i,c,d)=>{switch(o){case"single":{const m=[`${c}`];i?r.selectIds(m):r.deselectIds(m);break}case"page":{i?r.selectCurrentPage():r.clearAll();break}case"multi":{if(!Array.isArray(c))throw new Error("Expected an array of indexes for multi-select");const m=[];for(let f=c[0];f<=c[1];f++)m.push(n[f]);i?r.selectIds(m):r.deselectIds(m);break}}}}},wi=(e,n)=>{const[a,l]=u.useState(),[r,s]=u.useState("forward"),o=u.useCallback(()=>l(void 0),[]);u.useMemo(()=>{o(),s("forward")},[n==null?void 0:n.sort,o]);const{...i}=_i({onDebouncedSearchValueChange(){o(),h.clearAll()}}),c=(n==null?void 0:n.pageSize)??Fi;let d;r=="forward"?d={first:c,after:a}:d={last:c,before:a};const m=dr(n,["pageSize"]),[{data:f,fetching:b,error:g},E]=mr(e,{...m,...d,...i.debouncedValue&&{search:i.debouncedValue}}),h=Ni({currentPageIds:(f==null?void 0:f.map(y=>y.id))??[]}),p=u.useCallback(()=>{f&&f.hasNextPage?(s("forward"),l(f.endCursor)):console.warn("can't navigate to next page currently, no next page available")},[f]),v=u.useCallback(()=>{f&&f.hasPreviousPage?(s("backward"),l(f.startCursor)):console.warn("can't navigate to previous page currently, no previous page available")},[f]),T=f==null?void 0:f.map(y=>y),S={pageSize:c,goToNextPage:p,goToPreviousPage:v,hasNextPage:f==null?void 0:f.hasNextPage,hasPreviousPage:f==null?void 0:f.hasPreviousPage,variables:d};return[{data:T,fetching:b,page:S,search:i,error:g,selection:h},E]},Fi=50,Mi=e=>{switch(e){case"Descending":return"Ascending";case"Ascending":return;case void 0:default:return"Descending"}},Li=(e,n)=>{In(e);const a=e.findMany.namespace,l=a?Array.isArray(a)?a:[a]:[],{metadata:r,fetching:s,error:o}=fr(e.findMany.modelApiIdentifier,l),[i,c]=u.useState(n==null?void 0:n.initialSort),[d,m]=u.useState(n!=null&&n.initialSort?Object.keys(n.initialSort)[0]:void 0),[f,b]=u.useState(n!=null&&n.initialSort?Object.values(n.initialSort)[0]:void 0),g=u.useCallback((B,w)=>{c(w?{[B]:w}:void 0)},[]),E=u.useCallback(B=>{const w=B!==d?"Descending":Mi(f);b(w),m(w?B:void 0),g(B,w)},[d,f]),h=u.useMemo(()=>r&&pr(r.fields,n==null?void 0:n.columns,n==null?void 0:n.excludeColumns,e.findMany.defaultSelection),[e.findMany.defaultSelection,r,n==null?void 0:n.columns,n==null?void 0:n.excludeColumns]),p=u.useMemo(()=>(n==null?void 0:n.select)??(h&&br(h)),[n==null?void 0:n.select,h]),[{data:v,fetching:T,error:S,page:y,search:_,selection:L},N]=wi(e,{...n,sort:i,filter:n==null?void 0:n.filter,select:p,pause:!r}),A=u.useMemo(()=>{if(h&&v&&r){const B=hr(h);return{rows:gr(h,B,v),columns:B,data:v,metadata:r}}else return{rows:null,columns:null,data:null,metadata:null}},[v,r,h]),R=_.value!=_.debouncedValue;return[{...A,page:y,fetching:T||s||R,error:S||o,search:_,sort:{column:d??"",direction:f??"Ascending",handleColumnSort:E,setSort:g},selection:L},N]},Bi=t.createContext(void 0),Ri=e=>{const{model:n,actions:a,excludeActions:l}=e;if(In(e.model),a&&l)throw new Error("Cannot have both actions and excludeActions in the same table");const[r,s]=t.useState(void 0),o=Di({model:n,setSelectedModelActionDetails:s}),i=u.useMemo(()=>l?Oi(l,o):a?Vi(a,o):o,[o,a,l]);return{selectedModelActionDetails:r,bulkActionOptions:i}},Di=e=>{const{model:n,setSelectedModelActionDetails:a}=e;return $i({model:n}).filter(Hi).map(r=>({humanizedName:Pa(ia(r.apiIdentifier)),selectModelAction:()=>a(r),apiIdentifier:ji(ia(r.apiIdentifier)),promoted:!0,isDeleter:"isDeleter"in r?r.isDeleter:!1}))},Hi=e=>e.isGadgetAction&&e.isBulk&&!e.acceptsModelInput&&Sa(e.variables,Wi),Wi={ids:{required:!0,type:"[GadgetID!]"}},$i=e=>{const n=[],a=Object.getPrototypeOf(e.model);for(const l of Object.keys(a))a[l].type==="action"&&n.push(a[l]);return n.map(l=>({apiIdentifier:l.functionName,isDeleter:l.isDeleter,isBulk:l.isBulk,acceptsModelInput:l.acceptsModelInput,variables:l.variables,isGadgetAction:!0}))};function Oi(e,n){for(const a of e)if(!n.find(l=>l.apiIdentifier===a))throw new Error(`Excluded action '${a}' not found in model`);return n.filter(a=>!e.includes(a.apiIdentifier))}const Vi=(e,n)=>{const a=[];for(const l of e)if(typeof l=="string")a.push(oa(n,l));else{if(!("action"in l))throw new Error("Custom action objects must have an 'action' property");typeof l.action=="string"?a.push({...oa(n,l.action),humanizedName:l.label,promoted:l.promoted??!1}):a.push({humanizedName:l.label,action:l.action,apiIdentifier:l.label,promoted:l.promoted??!1})}return a},ia=e=>e.startsWith("bulk")?e.slice(4):e,ji=e=>e.length===0?"":`${e.charAt(0).toLowerCase()}${e.slice(1)}`,oa=(e,n)=>{const a=e.find(l=>l.apiIdentifier===n);if(!a)throw new Error(`'${n}' is not a valid action on the model`);return a},zi=(e,n)=>{u.useEffect(()=>{if(e.type==="stubbedAction"){const i=e;if(!("reason"in i)||!("dataPath"in i)||!("actionApiIdentifier"in i))return;const c=new CustomEvent("gadget:devharness:stubbedActionError",{detail:{reason:i.reason,action:{functionName:i.functionName,actionApiIdentifier:i.actionApiIdentifier,modelApiIdentifier:i.modelApiIdentifier,dataPath:i.dataPath}}});globalThis.dispatchEvent(c)}},[]);const a=Er(n),l=u.useMemo(()=>vr(e.operationName,e.defaultSelection,e.modelApiIdentifier,e.modelSelectionField,e.variables,a,e.namespace,e.isBulk,e.hasReturnType),[e,a]),[r,s]=Tr(l.query);return[u.useMemo(()=>ca(r,e),[r,e]),u.useCallback(async(i,c)=>{const d=Cr(e,i),m=await s(d,{...c,additionalTypenames:[...(c==null?void 0:c.additionalTypenames)??[],yr(e.modelApiIdentifier)]});return ca({fetching:!1,...m},e)},[e,s])]},ca=(e,n)=>{let a=Bn.forMaybeCombinedError(e.error),l;if(e.data&&!a){const r=Sr([n.operationName],n.namespace),s=Pr(e.data,r);if(s)if(n.isDeleter)l=s;else{const i=s.errors;i&&i[0]?a=Bn.forErrorsResponse(i,a==null?void 0:a.response):l=n.hasReturnType?s.results:kr(e,s[n.modelSelectionField])}}return{...e,error:a,data:l}},Xa=e=>{const{model:n,modelActionDetails:a,ids:l,selectedRows:r,clearSelection:s}=e,[o,i]=t.useState(!!a),[c,d]=t.useState(a==null?void 0:a.apiIdentifier);u.useEffect(()=>{a&&(i(!0),d(a.apiIdentifier))},[a]);const m=a&&c,f=m&&n[c]&&a.isGadgetAction&&a.isBulk,b=u.useMemo(()=>Pa(c??""),[c]),g=u.useCallback(()=>{i(!1),s()},[i,s]);return!m||!f?null:t.createElement(t.Fragment,null,t.createElement(ye,{onClose:g,title:b,open:o},t.createElement(Ui,{model:n,modelActionDetails:a,actionLabel:b.replace("Bulk ",""),ids:l,close:g})))},Ui=e=>{const{model:n,modelActionDetails:a,actionLabel:l,ids:r,close:s}=e,[o,i]=t.useState(!1),[{fetching:c,data:d,error:m},f]=zi(n[a.apiIdentifier],{}),b=!!(m||d&&d.success===!1),g=u.useMemo(()=>b?t.createElement(sn,{title:`${l}${Zi}`,tone:"critical"}):t.createElement(sn,{title:`${l}${Gi}`,tone:"success"}),[b]),E=u.useCallback(()=>{f(r),i(!0)},[f,r]);return t.createElement(t.Fragment,null,t.createElement(ye.Section,null,c&&t.createElement(qi,null),!c&&(o?g:t.createElement(Xi,{count:r.length}))),t.createElement(ye.Section,null,t.createElement("div",{style:{float:"right",paddingBottom:"16px"}},t.createElement(Ct,null,t.createElement(Ce,{variant:"secondary",onClick:s},"Close"),(!b&&!o||c)&&t.createElement(Ce,{variant:"primary",onClick:E,loading:c},"Run")))))},qi=()=>t.createElement("div",{style:{textAlign:"center"}},t.createElement(yt,{accessibilityLabel:"Spinner example",size:"large"})),Gi=" completed",Zi=" failed",Xi=e=>{const{count:n}=e;return u.useMemo(()=>t.createElement(se,{as:"p"},`Are you sure you want to run this action on ${n} record${n===1?"":"s"}?`),[n])};Xa.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoBulkActionModal",props:{model:{required:!0,tsType:{name:"any"},description:""},modelActionDetails:{required:!1,tsType:{name:"ModelActionDetails"},description:""},ids:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},selectedRows:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"union",raw:"ColumnValueType | ReactNode",elements:[{name:"union",raw:`| Nullable<string>
| Nullable<number>
| Nullable<boolean>
| Nullable<Date>
| null
| Nullable<string>[]
| Array<null>
| RoleAssignmentsValueType[]
| Nullable<FileValueType>
| Nullable<RichTextValueType>
| Nullable<ValueWithTypename>
| Nullable<HasManyValueType>`,elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"null"},{name:"Array",elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]}],raw:"Nullable<string>[]"},{name:"Array",elements:[{name:"null"}],raw:"Array<null>"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  name: string;
  __typename: "Role";
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"__typename",value:{name:"literal",value:'"Role"',required:!0}}]}}],raw:"RoleAssignmentsValueType[]"},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]}]},{name:"ReactNode"}]}],raw:"Record<string, ColumnValueType | ReactNode>"}],raw:"TableRow[]"},description:""},clearSelection:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ka=e=>{const{value:n}=e;return t.createElement(le,{blockAlign:"center"},n?t.createElement(Yl,{width:20}):t.createElement(Ea,{width:20,fill:"var(--p-color-icon-disabled)"}))};Ka.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableBooleanCell",props:{value:{required:!0,tsType:{name:"boolean"},description:""}}};const An=e=>{const{value:n}=e,a=typeof n=="object"?"markdown"in n?n.markdown:JSON.stringify(n):n,[l,r]=u.useState(!1),s=u.useRef(null);u.useEffect(()=>{r(!!s.current&&s.current.scrollWidth>s.current.clientWidth)},[]);const o=t.createElement("span",{className:"Polaris-Text--root Polaris-Text--block Polaris-Text--truncate",ref:s},a);return l?t.createElement(Re,{width:"wide",persistOnClick:!0,content:t.createElement("div",{style:{maxHeight:"200px",overflow:"auto",pointerEvents:"auto"}},a)},o):o};An.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableTextCell",props:{value:{required:!0,tsType:{name:"any"},description:""}}};const Ja=e=>{const{value:n,includeTime:a}=e;return n instanceof Date?t.createElement(An,{value:er(n,a)}):null};Ja.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableDateTimeCell",props:{value:{required:!0,tsType:{name:"Date"},description:""},includeTime:{required:!0,tsType:{name:"boolean"},description:""}}};const Qa=e=>{const{value:n}=e,[a,l]=u.useState(!1),r=t.createElement("div",{style:{display:"flex",marginLeft:"2px"},onClick:s=>{s.stopPropagation(),s.preventDefault(),l(!a)},role:"EncryptedStringCellShowHideButton"},t.createElement(on,{onClick:Ki},t.createElement(Ie,{source:a?tr:nr})));return t.createElement("div",{style:{display:"flex"}},t.createElement(on,null,t.createElement(se,{as:"span",tone:"subdued",truncate:!0},a?n:"".repeat(n.length))),r)},Ki=()=>{};Qa.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableEncryptedStringCell",props:{value:{required:!0,tsType:{name:"any"},description:""}}};const ua=12,Ya=e=>{const{value:n}=e,a=n.fileName,l=u.useMemo(()=>{const s=a.split(".");if(s.length>1){let o=s.slice(0,-1).join(".");const i=s.pop();return o.length>ua&&(o=o.substring(0,ua)+"(..)"),[o,i].join(".")}else return a},[a]),r=xr.includes(n.mimeType)?t.createElement(ar,{size:"small",alt:a,source:n.url}):t.createElement("div",null,t.createElement(Ie,{source:lr}));return t.createElement(le,{gap:"200",blockAlign:"center",wrap:!1},r,t.createElement(se,{as:"span",truncate:!0},l))};Ya.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableFileCell",props:{value:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  url: string;
  mimeType: string;
  fileName: string;
  __typename: "StoredFile";
}`,signature:{properties:[{key:"url",value:{name:"string",required:!0}},{key:"mimeType",value:{name:"string",required:!0}},{key:"fileName",value:{name:"string",required:!0}},{key:"__typename",value:{name:"literal",value:'"StoredFile"',required:!0}}]}},description:""}}};const da=5,pn=e=>{const{value:n}=e,[a,l]=u.useState(!1),r=u.useRef(null),{tags:s,originalLength:o}=u.useMemo(()=>{let c=[];return Array.isArray(n)?Ir(n)?c=n.map(d=>d.name):c=n.filter(m=>m!=null).map(m=>m.toString()):n!=null&&(c=[n]),{tags:c.slice(0,da),originalLength:c.length}},[n]);u.useEffect(()=>{r.current&&l(r.current.scrollWidth>r.current.clientWidth)},[s]);const i=t.createElement(se,{as:"span"},"...");return t.createElement(le,{gap:"100",wrap:!1},t.createElement("div",{style:{width:a?"calc(100% - 20px)":"auto",overflowX:"hidden"},ref:r},t.createElement(le,{gap:"100",wrap:!1},s.map(c=>t.createElement(on,{key:c},c)),o>da&&i)),a&&i)};pn.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableTagCell",props:{value:{required:!0,tsType:{name:"union",raw:"Nullable<string> | Nullable<string>[] | RoleAssignmentsValueType[]",elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"Array",elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]}],raw:"Nullable<string>[]"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  name: string;
  __typename: "Role";
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"__typename",value:{name:"literal",value:'"Role"',required:!0}}]}}],raw:"RoleAssignmentsValueType[]"}]},description:""}}};const el=e=>{const{column:n,value:a}=e;if(a==null)return null;if(n.relationshipType===Ee.HasMany||n.relationshipType===Ee.HasManyThrough)return t.createElement(pn,{value:a});switch(n.type){case Ee.Id:case Ee.String:case Ee.Number:case Ee.Email:case Ee.Computed:case Ee.Url:case Ee.RichText:case Ee.Json:return t.createElement(An,{value:a});case Ee.EncryptedString:return t.createElement(Qa,{value:a});case Ee.RoleAssignments:case Ee.Enum:return t.createElement(pn,{value:a});case Ee.DateTime:return t.createElement(Ja,{value:a,includeTime:n.includeTime??!0});case Ee.Boolean:return t.createElement(Ka,{value:!!a});case Ee.File:return t.createElement(Ya,{value:a});default:return null}};el.__docgenInfo={description:"",methods:[],displayName:"PolarisAutoTableCellRenderer",props:{column:{required:!0,tsType:{name:"TableColumn"},description:""},value:{required:!0,tsType:{name:"union",raw:`| Nullable<string>
| Nullable<number>
| Nullable<boolean>
| Nullable<Date>
| null
| Nullable<string>[]
| Array<null>
| RoleAssignmentsValueType[]
| Nullable<FileValueType>
| Nullable<RichTextValueType>
| Nullable<ValueWithTypename>
| Nullable<HasManyValueType>`,elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"null"},{name:"Array",elements:[{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]}],raw:"Nullable<string>[]"},{name:"Array",elements:[{name:"null"}],raw:"Array<null>"},{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  name: string;
  __typename: "Role";
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"__typename",value:{name:"literal",value:'"Role"',required:!0}}]}}],raw:"RoleAssignmentsValueType[]"},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]}]},description:""}}};const Ji=e=>{const n=Array.from(Array(e.columns));return t.createElement(is,{columnContentTypes:n.map(()=>"text"),headings:n.map(a=>t.createElement(oe,{width:"100px",key:a},t.createElement(Ln,{lines:1}))),rows:Array.from(Array(3)).map(a=>n.map(l=>t.createElement(Ln,{key:l,lines:1})))})},Qi=e=>{if(e==="Ascending")return"ascending";if(e==="Descending")return"descending"},Yi=(e,n)=>e.findIndex(a=>a.field===n),eo=e=>{const{model:n}=e;In(e.model);const a=`${[n.findMany.namespace,n.findMany.modelApiIdentifier].join("_")}AutoTable`;return t.createElement(to,{key:a,...e})},to=e=>{const{onClick:n}=e,a=e.searchable??!0,l=e.paginate??!0,[r,s]=Li(e.model,{select:e.select,columns:e.columns,excludeColumns:e.excludeColumns,pageSize:e.pageSize,live:e.live,initialSort:e.initialSort,filter:e.filter,search:e.searchValue}),{columns:o,rows:i,page:c,fetching:d,error:m,search:f,selection:b,sort:g,metadata:E,data:h}=r,p=P=>{if(o){const M=o[P].field;g.handleColumnSort(M)}},v=u.useCallback((P,M)=>()=>n==null?void 0:n(P,M),[n]),{mode:T,setMode:S}=ii(),y=u.useMemo(()=>{const P=[],M=[];if(o)for(const B of o)P.push({title:B.header}),M.push(B.sortable);return{headings:P,sortable:M}},[o]),{bulkActionOptions:_,selectedModelActionDetails:L}=Ri({model:e.model,actions:e.actions,excludeActions:e.excludeActions}),N=e.resourceName??{singular:(E==null?void 0:E.name)??"",plural:E?Ii(E.name):""},A=(i??[]).filter(P=>b.recordIds.includes(P.id)),R=u.useMemo(()=>_.filter(P=>P.promoted).map(fa(A,b.clearAll)),[_,A]),j=u.useMemo(()=>_.filter(P=>!P.promoted).map(fa(A,b.clearAll)),[_,A]);return!m&&(d&&!i||!o)?t.createElement(Ji,{columns:3}):t.createElement(Bi.Provider,{value:[r,s]},t.createElement(Mt,null,t.createElement(Xa,{model:e.model,modelActionDetails:L,ids:b.recordIds,selectedRows:A,clearSelection:b.clearAll}),a&&t.createElement(si,{mode:T,setMode:S,appliedFilters:[],filters:[],onClearAll:()=>{},tabs:[],canCreateNewView:!1,selected:1,loading:d,cancelAction:{onAction:()=>f.clear()},disabled:!!m,queryValue:f.value,onQueryChange:f.set,onQueryClear:f.clear}),m&&t.createElement(oe,{paddingBlockStart:"200",paddingBlockEnd:"1000"},t.createElement(sn,{title:m.message,tone:"critical"})),t.createElement(Tt,{selectedItemsCount:b.recordIds.length,...ao,onSelectionChange:b.onSelectionChange,...y,promotedBulkActions:R.length?R:void 0,bulkActions:j.length?j:void 0,resourceName:N,emptyState:e.emptyState??t.createElement(Ra,{title:`No ${N.plural} yet`,description:"",withIllustration:!0}),loading:d,hasMoreItems:c.hasNextPage,itemCount:m?1:(i==null?void 0:i.length)??0,pagination:l?{hasNext:c.hasNextPage,hasPrevious:c.hasPreviousPage,onNext:c.goToNextPage,onPrevious:c.goToPreviousPage}:void 0,sortDirection:Qi(g.direction),sortColumnIndex:o?Yi(o,g.column):void 0,onSort:P=>p(P),selectable:e.selectable===void 0?_.length!==0:e.selectable,lastColumnSticky:e.lastColumnSticky,hasZebraStriping:e.hasZebraStriping,condensed:e.condensed},t.createElement(ma,null),i&&o&&i.map((P,M)=>{const B=h==null?void 0:h[M];return t.createElement(Tt.Row,{key:P.id,id:P.id,position:M,onClick:n?v(P,B):void 0,selected:b.recordIds.includes(P.id)},o.map(w=>t.createElement(Tt.Cell,{key:w.identifier,className:"Gadget_PolarisAutoTable_IndexTableCell"},t.createElement("div",{style:{...no,...w.style}},w.type=="CustomRenderer"?P[w.identifier]:t.createElement(el,{column:w,value:P[w.identifier]})))))}))),t.createElement(ma,null))},no={maxWidth:"200px",padding:"0.375rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ma=()=>{const e=`
  .Gadget_PolarisAutoTable_IndexTableCell {
    padding: 0px !important; 
  }
`;return t.createElement("style",null,e)},ao={paginatedSelectAllActionText:""},fa=(e,n)=>a=>({id:a.humanizedName,destructive:"isDeleter"in a?a.isDeleter:!1,content:a.humanizedName,onAction:a.action?()=>{var l;(l=a.action)==null||l.call(a,e),n()}:a.selectModelAction??(()=>{})});eo.__docgenInfo={description:"Renders a table of records from the backend automatically for a given model using Polaris",methods:[],displayName:"PolarisAutoTable"};export{Tn as L,eo as P};
