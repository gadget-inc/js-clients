"use strict";const T=require("react"),Ra=require("react-dom");function xa(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const Ie=xa(T);var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var On={exports:{}},ur={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui;function ja(){if(ui)return ur;ui=1;var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return ur.Fragment=r,ur.jsx=s,ur.jsxs=s,ur}var lr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li;function Fa(){return li||(li=1,process.env.NODE_ENV!=="production"&&function(){var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function F(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];U("error",a,p)}}function U(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,V=!1,Ae=!1,xe;xe=Symbol.for("react.module.reference");function $e(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ae||a===i||a===f||a===d||V||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===xe||a.getModuleId!==void 0))}function re(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function Z(a){return a.displayName||"Context"}function W(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return Z(c)+".Consumer";case s:var p=a;return Z(p._context)+".Provider";case l:return re(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:W(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return W(k(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,D,L,Ee,q,De,qe;function Ke(){}Ke.__reactDisabledLog=!0;function Ye(){{if(M===0){$=console.log,D=console.info,L=console.warn,Ee=console.error,q=console.group,De=console.groupCollapsed,qe=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ke,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function Q(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:D}),warn:N({},a,{value:L}),error:N({},a,{value:Ee}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:De}),groupEnd:N({},a,{value:qe})})}M<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var z=R.ReactCurrentDispatcher,dt;function Be(a,c,p){{if(dt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);dt=g&&g[1]||""}return`
`+dt+a}}var St=!1,it;{var Yr=typeof WeakMap=="function"?WeakMap:Map;it=new Yr}function Yt(a,c){if(!a||St)return"";{var p=it.get(a);if(p!==void 0)return p}var g;St=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=z.current,z.current=null,Ye();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ne){g=ne}Reflect.construct(a,[],k)}else{try{k.call()}catch(ne){g=ne}a.call(k.prototype)}}else{try{throw Error()}catch(ne){g=ne}a()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),B=g.stack.split(`
`),C=w.length-1,_=B.length-1;C>=1&&_>=0&&w[C]!==B[_];)_--;for(;C>=1&&_>=0;C--,_--)if(w[C]!==B[_]){if(C!==1||_!==1)do if(C--,_--,_<0||w[C]!==B[_]){var K=`
`+w[C].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),typeof a=="function"&&it.set(a,K),K}while(C>=1&&_>=0);break}}}finally{St=!1,z.current=A,Q(),Error.prepareStackTrace=O}var Pe=a?a.displayName||a.name:"",sr=Pe?Be(Pe):"";return typeof a=="function"&&it.set(a,sr),sr}function Jr(a,c,p){return Yt(a,!1)}function Qr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function at(a,c,p){if(a==null)return"";if(typeof a=="function")return Yt(a,Qr(a));if(typeof a=="string")return Be(a);switch(a){case f:return Be("Suspense");case d:return Be("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Jr(a.render);case y:return at(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return at(A(O),c,p)}catch{}}}return""}var ot=Object.prototype.hasOwnProperty,Jt={},Qt=R.ReactDebugCurrentFrame;function st(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);Qt.setExtraStackFrame(p)}else Qt.setExtraStackFrame(null)}function Hr(a,c,p,g,O){{var A=Function.call.bind(ot);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var B=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(C){w=C}w&&!(w instanceof Error)&&(st(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),st(null)),w instanceof Error&&!(w.message in Jt)&&(Jt[w.message]=!0,st(O),I("Failed %s type: %s",p,w.message),st(null))}}}var Xr=Array.isArray;function wt(a){return Xr(a)}function Zr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function en(a){try{return Ht(a),!1}catch{return!0}}function Ht(a){return""+a}function Xt(a){if(en(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Zr(a)),Ht(a)}var Ue=R.ReactCurrentOwner,tn={key:!0,ref:!0,__self:!0,__source:!0},Zt,er,It;It={};function rn(a){if(ot.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function nn(a){if(ot.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function an(a,c){if(typeof a.ref=="string"&&Ue.current&&c&&Ue.current.stateNode!==c){var p=W(Ue.current.type);It[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(Ue.current.type),a.ref),It[p]=!0)}}function on(a,c){{var p=function(){Zt||(Zt=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function sn(a,c){{var p=function(){er||(er=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var un=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function ln(a,c,p,g,O){{var A,k={},w=null,B=null;p!==void 0&&(Xt(p),w=""+p),nn(c)&&(Xt(c.key),w=""+c.key),rn(c)&&(B=c.ref,an(c,O));for(A in c)ot.call(c,A)&&!tn.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var C=a.defaultProps;for(A in C)k[A]===void 0&&(k[A]=C[A])}if(w||B){var _=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&on(k,_),B&&sn(k,_)}return un(a,w,B,O,g,Ue.current,k)}}var kt=R.ReactCurrentOwner,tr=R.ReactDebugCurrentFrame;function Ne(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);tr.setExtraStackFrame(p)}else tr.setExtraStackFrame(null)}var Ot;Ot=!1;function At(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function rr(){{if(kt.current){var a=W(kt.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function cn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var nr={};function dn(a){{var c=rr();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function ir(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=dn(c);if(nr[p])return;nr[p]=!0;var g="";a&&a._owner&&a._owner!==kt.current&&(g=" It was passed a child from "+W(a._owner.type)+"."),Ne(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ne(null)}}function ar(a,c){{if(typeof a!="object")return;if(wt(a))for(var p=0;p<a.length;p++){var g=a[p];At(g)&&ir(g,c)}else if(At(a))a._store&&(a._store.validated=!0);else if(a){var O=F(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)At(k.value)&&ir(k.value,c)}}}function fn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=W(c);Hr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!Ot){Ot=!0;var O=W(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ne(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ne(null);break}}a.ref!==null&&(Ne(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ne(null))}}function or(a,c,p,g,O,A){{var k=$e(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=cn(O);B?w+=B:w+=rr();var C;a===null?C="null":wt(a)?C="array":a!==void 0&&a.$$typeof===t?(C="<"+(W(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):C=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",C,w)}var _=ln(a,c,p,O,A);if(_==null)return _;if(k){var K=c.children;if(K!==void 0)if(g)if(wt(K)){for(var Pe=0;Pe<K.length;Pe++)ar(K[Pe],a);Object.freeze&&Object.freeze(K)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ar(K,a)}return a===n?pn(_):fn(_),_}}function yn(a,c,p){return or(a,c,p,!0)}function hn(a,c,p){return or(a,c,p,!1)}var mn=hn,bn=yn;lr.Fragment=n,lr.jsx=mn,lr.jsxs=bn}()),lr}process.env.NODE_ENV==="production"?On.exports=ja():On.exports=Fa();var Fr=On.exports;const Ma=e=>e&&"connection"in e&&e.connection&&"endpoint"in e.connection;var Vn=()=>{},ke=Vn;function ze(e){return{tag:0,0:e}}function kr(e){return{tag:1,0:e}}var $a=e=>e;function ee(e){return t=>r=>{var n=ke;t(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):e(i[0])?r(i):n(0)})}}function Ut(e){return t=>r=>t(n=>{n===0||n.tag===0?r(n):r(kr(e(n[0])))})}function vr(e){return t=>r=>{var n=[],i=ke,o=!1,s=!1;t(u=>{s||(u===0?(s=!0,n.length||r(0)):u.tag===0?i=u[0]:(o=!1,function(f){var d=ke;f(y=>{if(y===0){if(n.length){var h=n.indexOf(d);h>-1&&(n=n.slice()).splice(h,1),n.length||(s?r(0):o||(o=!0,i(0)))}}else y.tag===0?(n.push(d=y[0]),d(0)):n.length&&(r(y),d(0))})}(e(u[0])),o||(o=!0,i(0))))}),r(ze(u=>{if(u===1){s||(s=!0,i(1));for(var l=0,f=n,d=n.length;l<d;l++)f[l](1);n.length=0}else{!s&&!o?(o=!0,i(0)):o=!1;for(var y=0,h=n,m=n.length;y<m;y++)h[y](0)}}))}}function qa(e){return vr($a)(e)}function Vt(e){return qa(Va(e))}function Gn(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0),e();else if(i.tag===0){var o=i[0];r(ze(s=>{s===1?(n=!0,o(1),e()):o(s)}))}else r(i)})}}function Dt(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var o=i[0];r(ze(s=>{s===1&&(n=!0),o(s)}))}else e(i[0]),r(i)})}}function ci(e){return t=>r=>t(n=>{n===0?r(0):n.tag===0?(r(n),e()):r(n)})}function Sr(e){var t=[],r=ke,n=!1;return i=>{t.push(i),t.length===1&&e(o=>{if(o===0){for(var s=0,u=t,l=t.length;s<l;s++)u[s](0);t.length=0}else if(o.tag===0)r=o[0];else{n=!1;for(var f=0,d=t,y=t.length;f<y;f++)d[f](o)}}),i(ze(o=>{if(o===1){var s=t.indexOf(i);s>-1&&(t=t.slice()).splice(s,1),t.length||r(1)}else n||(n=!0,r(0))}))}}function di(e){return t=>r=>{var n=ke,i=ke,o=!1,s=!1,u=!1,l=!1;t(f=>{l||(f===0?(l=!0,u||r(0)):f.tag===0?n=f[0]:(u&&(i(1),i=ke),o?o=!1:(o=!0,n(0)),function(y){u=!0,y(h=>{u&&(h===0?(u=!1,l?r(0):o||(o=!0,n(0))):h.tag===0?(s=!1,(i=h[0])(0)):(r(h),s?s=!1:i(0)))})}(e(f[0]))))}),r(ze(f=>{f===1?(l||(l=!0,n(1)),u&&(u=!1,i(1))):(!l&&!o&&(o=!0,n(0)),u&&!s&&(s=!0,i(0)))}))}}function Or(e){return t=>r=>{var n=ke,i=!1,o=0;t(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?e<=0?(i=!0,r(0),s[0](1)):n=s[0]:o++<e?(r(s),!i&&o>=e&&(i=!0,r(0),n(1))):r(s))}),r(ze(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&o<e&&n(0)}))}}function Ln(e){return t=>r=>{var n=ke,i=ke,o=!1;t(s=>{o||(s===0?(o=!0,i(1),r(0)):s.tag===0?(n=s[0],e(u=>{u===0||(u.tag===0?(i=u[0])(0):(o=!0,i(1),n(1),r(0)))})):r(s))}),r(ze(s=>{s===1&&!o?(o=!0,n(1),i(1)):o||n(0)}))}}function zi(e,t){return r=>n=>{var i=ke,o=!1;r(s=>{o||(s===0?(o=!0,n(0)):s.tag===0?(i=s[0],n(s)):e(s[0])?n(s):(o=!0,t&&n(s),n(0),i(1)))})}}function Ba(e){return t=>e()(t)}function Ki(e){return t=>{var r=e[Symbol.asyncIterator](),n=!1,i=!1,o=!1,s;t(ze(async u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),t(0);else try{o=!1,t(kr(s.value))}catch(l){if(r.throw)(n=!!(await r.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Ua(e){return e[Symbol.asyncIterator]?Ki(e):t=>{var r=e[Symbol.iterator](),n=!1,i=!1,o=!1,s;t(ze(u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),t(0);else try{o=!1,t(kr(s.value))}catch(l){if(r.throw)(n=!!r.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Va=Ua;function yr(e){return t=>{var r=!1;t(ze(n=>{n===1?r=!0:r||(r=!0,t(kr(e)),t(0))}))}}function Wn(e){return t=>{var r=!1,n=e({next(i){r||t(kr(i))},complete(){r||(r=!0,t(0))}});t(ze(i=>{i===1&&!r&&(r=!0,n())}))}}function fi(){var e,t;return{source:Sr(Wn(r=>(e=r.next,t=r.complete,Vn))),next(r){e&&e(r)},complete(){t&&t()}}}function pi(e){return Wn(t=>(e.then(r=>{Promise.resolve(r).then(()=>{t.next(r),t.complete()})}),Vn))}function jt(e){return t=>{var r=ke,n=!1;return t(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(e(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function Ga(e){jt(t=>{})(e)}var gn={done:!0},La=e=>({[Symbol.asyncIterator](){var t=[],r=!1,n=ke,i;return e(o=>{r||(o===0?(i&&(i=i(gn)),r=!0):o.tag===0?(n=o[0])(0):i?i=i({value:o[0],done:!1}):t.push(o[0]))}),{async next(){return r&&!t.length?gn:(!r&&t.length<=1&&n(0),t.length?{value:t.shift(),done:!1}:new Promise(o=>i=o))},async return(){return r||(i=n(1)),r=!0,gn}}}});function Gr(e){return new Promise(t=>{var r=ke,n;e(i=>{i===0?Promise.resolve(n).then(t):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var zn=(...e)=>{for(var t=e[0],r=1,n=e.length;r<n;r++)t=e[r](t);return t},Bt={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class wr extends Error{constructor(t,r,n,i,o,s,u){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var f=s.extensions;f&&typeof f=="object"&&(l=f)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var Y,x;function te(e){return new wr(`Syntax Error: Unexpected token at ${x} in ${e}`)}function _e(e){if(e.lastIndex=x,e.test(Y))return Y.slice(x,x=e.lastIndex)}var Nr=/ +(?=[^\s])/y;function Wa(e){for(var t=e.split(`
`),r="",n=0,i=0,o=t.length-1,s=0;s<t.length;s++)Nr.lastIndex=0,Nr.test(t[s])&&(s&&(!n||Nr.lastIndex<n)&&(n=Nr.lastIndex),i=i||s,o=s);for(var u=i;u<=o;u++)u!==i&&(r+=`
`),r+=t[u].slice(n).replace(/\\"""/g,'"""');return r}function j(){for(var e=0|Y.charCodeAt(x++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|Y.charCodeAt(x++))if(e===35)for(;(e=Y.charCodeAt(x++))!==10&&e!==13;);x--}var Yi=/[_A-Za-z]\w*/y;function nt(){var e;if(e=_e(Yi))return{kind:"Name",value:e}}var za=/(?:null|true|false)/y,Ji=/\$[_A-Za-z]\w*/y,Ka=/-?\d+/y,Ya=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Ja=/\\/g,Qa=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,Ha=/"(?:"|[^\r\n]*?[^\\]")/y;function Mr(e){var t,r;if(r=_e(za))t=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!e&&(r=_e(Ji)))t={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=_e(Ka)){var n=r;(r=_e(Ya))?t={kind:"FloatValue",value:n+r}:t={kind:"IntValue",value:n}}else if(r=_e(Yi))t={kind:"EnumValue",value:r};else if(r=_e(Qa))t={kind:"StringValue",value:Wa(r.slice(3,-3)),block:!0};else if(r=_e(Ha))t={kind:"StringValue",value:Ja.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(t=function(o){var s;if(Y.charCodeAt(x)===91){x++,j();for(var u=[];s=Mr(o);)u.push(s);if(Y.charCodeAt(x++)!==93)throw te("ListValue");return j(),{kind:"ListValue",values:u}}}(e)||function(o){if(Y.charCodeAt(x)===123){x++,j();for(var s=[],u;u=nt();){if(j(),Y.charCodeAt(x++)!==58)throw te("ObjectField");j();var l=Mr(o);if(!l)throw te("ObjectField");s.push({kind:"ObjectField",name:u,value:l})}if(Y.charCodeAt(x++)!==125)throw te("ObjectValue");return j(),{kind:"ObjectValue",fields:s}}}(e))return t;return j(),t}function Qi(e){var t=[];if(j(),Y.charCodeAt(x)===40){x++,j();for(var r;r=nt();){if(j(),Y.charCodeAt(x++)!==58)throw te("Argument");j();var n=Mr(e);if(!n)throw te("Argument");t.push({kind:"Argument",name:r,value:n})}if(!t.length||Y.charCodeAt(x++)!==41)throw te("Argument");j()}return t}function Gt(e){var t=[];for(j();Y.charCodeAt(x)===64;){x++;var r=nt();if(!r)throw te("Directive");j(),t.push({kind:"Directive",name:r,arguments:Qi(e)})}return t}function Xa(){var e=nt();if(e){j();var t;if(Y.charCodeAt(x)===58){if(x++,j(),t=e,!(e=nt()))throw te("Field");j()}return{kind:"Field",alias:t,name:e,arguments:Qi(!1),directives:Gt(!1),selectionSet:Lr()}}}function Hi(){var e;if(j(),Y.charCodeAt(x)===91){x++,j();var t=Hi();if(!t||Y.charCodeAt(x++)!==93)throw te("ListType");e={kind:"ListType",type:t}}else if(e=nt())e={kind:"NamedType",name:e};else throw te("NamedType");return j(),Y.charCodeAt(x)===33?(x++,j(),{kind:"NonNullType",type:e}):e}var Za=/on/y;function Xi(){if(_e(Za)){j();var e=nt();if(!e)throw te("NamedType");return j(),{kind:"NamedType",name:e}}}var eo=/\.\.\./y;function to(){if(_e(eo)){j();var e=x,t;if((t=nt())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:Gt(!1)};x=e;var r=Xi(),n=Gt(!1),i=Lr();if(!i)throw te("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function Lr(){var e;if(j(),Y.charCodeAt(x)===123){x++,j();for(var t=[];e=to()||Xa();)t.push(e);if(!t.length||Y.charCodeAt(x++)!==125)throw te("SelectionSet");return j(),{kind:"SelectionSet",selections:t}}}var ro=/fragment/y;function no(){if(_e(ro)){j();var e=nt();if(!e)throw te("FragmentDefinition");j();var t=Xi();if(!t)throw te("FragmentDefinition");var r=Gt(!1),n=Lr();if(!n)throw te("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:r,selectionSet:n}}}var io=/(?:query|mutation|subscription)/y;function ao(){var e,t,r=[],n=[];(e=_e(io))&&(j(),t=nt(),r=function(){var s,u=[];if(j(),Y.charCodeAt(x)===40){for(x++,j();s=_e(Ji);){if(j(),Y.charCodeAt(x++)!==58)throw te("VariableDefinition");var l=Hi(),f=void 0;if(Y.charCodeAt(x)===61&&(x++,j(),!(f=Mr(!0))))throw te("VariableDefinition");j(),u.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:l,defaultValue:f,directives:Gt(!0)})}if(Y.charCodeAt(x++)!==41)throw te("VariableDefinition");j()}return u}(),n=Gt(!1));var i=Lr();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:r,directives:n,selectionSet:i}}function oo(e,t){return Y=typeof e.body=="string"?e.body:e,x=0,function(){var n;j();for(var i=[];n=no()||ao();)i.push(n);return{kind:"Document",definitions:i}}()}function so(e){return JSON.stringify(e)}function uo(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var je=e=>!(!e||!e.length),ye={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!je(e.variableDefinitions)&&!je(e.directives))return ye.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),je(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(ye.VariableDefinition).join(", ")+")"),je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),t+" "+ye.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=ye.Variable(e.variable)+": "+Fe(e.type);return e.defaultValue&&(t+=" = "+Fe(e.defaultValue)),je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(je(e.arguments)){var r=e.arguments.map(ye.Argument),n=t+"("+r.join(", ")+")";t=n.length>80?t+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),e.selectionSet?t+" "+ye.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?uo(e.value):so(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Fe).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(ye.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Fe(e.value),Document:e=>je(e.definitions)?e.definitions.map(Fe).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Fe).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Fe(e.value),FragmentSpread(e){var t="..."+e.name.value;return je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),t+" "+Fe(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,je(e.directives)&&(t+=" "+e.directives.map(ye.Directive).join(" ")),t+" "+Fe(e.selectionSet)},Directive(e){var t="@"+e.name.value;return je(e.arguments)&&(t+="("+e.arguments.map(ye.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Fe(e.type)+"]",NonNullType:e=>Fe(e.type)+"!"};function Fe(e){return ye[e.kind]?ye[e.kind](e):""}var lo=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new wr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new wr(e);class Ar extends Error{constructor(t){var r=(t.graphQLErrors||[]).map(lo),n=((i,o)=>{var s="";if(i)return`[Network] ${i.message}`;if(o)for(var u of o)s&&(s+=`
`),s+=`[GraphQL] ${u.message}`;return s})(t.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var An=(e,t)=>{for(var r=0|(t||5381),n=0,i=0|e.length;n<i;n++)r=(r<<5)+r+e.charCodeAt(n);return r},xt=new Set,yi=new WeakMap,$t=e=>{if(e===null||xt.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return $t(e.toJSON());if(Array.isArray(e)){var t="[";for(var r of e)t.length>1&&(t+=","),t+=$t(r)||"null";return t+="]"}else if(qr!==Lt&&e instanceof qr||Br!==Lt&&e instanceof Br)return"null";var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var i=yi.get(e)||Math.random().toString(36).slice(2);return yi.set(e,i),$t({__key:i})}xt.add(e);var o="{";for(var s of n){var u=$t(e[s]);u&&(o.length>1&&(o+=","),o+=$t(s)+":"+u)}return xt.delete(e),o+="}"},En=(e,t,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||xt.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)En(e,`${t}.${n}`,r[n]);else if(r instanceof qr||r instanceof Br)e.set(t,r);else{xt.add(r);for(var o of Object.keys(r))En(e,`${t}.${o}`,r[o])}},$r=e=>(xt.clear(),$t(e));class Lt{}var qr=typeof File<"u"?File:Lt,Br=typeof Blob<"u"?Blob:Lt,co=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,fo=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,po=(e,t)=>t%2==0?e.replace(fo,`
`):e,hi=e=>e.split(co).map(po).join("").trim(),mi=new Map,Rr=new Map,Kn=e=>{var t;return typeof e=="string"?t=hi(e):e.loc&&Rr.get(e.__key)===e?t=e.loc.source.body:(t=mi.get(e)||hi(Fe(e)),mi.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},bi=e=>{var t=An(Kn(e));if(e.definitions){var r=ea(e);r&&(t=An(`
# ${r}`,t))}return t},Zi=e=>{var t,r;return typeof e=="string"?(t=bi(e),r=Rr.get(t)||oo(e)):(t=e.__key||bi(e),r=Rr.get(t)||e),r.loc||Kn(r),r.__key=t,Rr.set(t,r),r},hr=(e,t,r)=>{var n=t||{},i=Zi(e),o=$r(n),s=i.__key;return o!=="{}"&&(s=An(o,s)),{key:s,query:i,variables:n,extensions:r}},ea=e=>{for(var t of e.definitions)if(t.kind===Bt.OPERATION_DEFINITION)return t.name?t.name.value:void 0},yo=e=>{for(var t of e.definitions)if(t.kind===Bt.OPERATION_DEFINITION)return t.operation},Nn=(e,t,r)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new Ar({graphQLErrors:t.errors,response:r}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?n:t.hasNext,stale:!1}},Pn=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var r of Object.keys(t))e[r]=Pn(e[r],t[r]);return e}return t},Tn=(e,t,r)=>{var n=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},s=t.incremental;"path"in t&&(s=[t]);var u={data:e.data};if(s)for(var l of s){Array.isArray(l.errors)&&n.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var f="data",d=u,y=0,h=l.path.length;y<h;f=l.path[y++])d=d[f]=Array.isArray(d[f])?[...d[f]]:{...d[f]};if(l.items)for(var m=+f>=0?f:0,v=0,E=l.items.length;v<E;v++)d[m+v]=Pn(d[m+v],l.items[v]);else l.data!==void 0&&(d[f]=Pn(d[f],l.data))}else u.data=t.data||e.data,n=t.errors||n;return{operation:e.operation,data:u.data,error:n.length?new Ar({graphQLErrors:n,response:r}):void 0,extensions:i?o:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},ta=(e,t,r)=>({operation:e,data:void 0,error:new Ar({networkError:t,response:r}),extensions:void 0,hasNext:!1,stale:!1});function ra(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:Kn(e.query),operationName:ea(e.query),variables:e.variables||void 0,extensions:e.extensions}}var ho=(e,t)=>{var r=e.kind==="query"&&e.context.preferGetMethod;if(!r||!t)return e.context.url;var n=new URL(e.context.url);for(var i in t){var o=t[i];o&&n.searchParams.set(i,typeof o=="object"?$r(o):o)}var s=n.toString();return s.length>2047&&r!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},mo=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var r=$r(t),n=(u=>{var l=new Map;return(qr!==Lt||Br!==Lt)&&(xt.clear(),En(l,"variables",u)),l})(t.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",$r({...[...n.keys()].map(u=>[u])}));var o=0;for(var s of n.values())i.append(""+o++,s);return i}return r}},bo=(e,t)=>{var r={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var o=mo(e,t);return typeof o=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:o?"POST":"GET",body:o,headers:r}},go=typeof TextDecoder<"u"?new TextDecoder:null,vo=/boundary="?([^=";]+)"?/i,So=/data: ?([^\n]+)/,gi=e=>e.constructor.name==="Buffer"?e.toString():go.decode(e);async function*vi(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield gi(t);else{var r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield gi(n.value)}finally{r.cancel()}}}async function*Si(e,t){var r="",n;for await(var i of e)for(r+=i;(n=r.indexOf(t))>-1;)yield r.slice(0,n),r=r.slice(n+t.length)}async function*wo(e,t,r){var n=!0,i=null,o;try{yield await Promise.resolve();var s=(o=await(e.context.fetch||fetch)(t,r)).headers.get("Content-Type")||"",u;if(/multipart\/mixed/i.test(s))u=async function*(d,y){var h=d.match(vo),m="--"+(h?h[1]:"-"),v=!0,E;for await(var F of Si(vi(y),`\r
`+m)){if(v){v=!1;var R=F.indexOf(m);if(R>-1)F=F.slice(R+m.length);else continue}try{yield E=JSON.parse(F.slice(F.indexOf(`\r
\r
`)+4))}catch(I){if(!E)throw I}if(E&&E.hasNext===!1)break}E&&E.hasNext!==!1&&(yield{hasNext:!1})}(s,o);else if(/text\/event-stream/i.test(s))u=async function*(d){var y;for await(var h of Si(vi(d),`

`)){var m=h.match(So);if(m){var v=m[1];try{yield y=JSON.parse(v)}catch(E){if(!y)throw E}if(y&&y.hasNext===!1)break}}y&&y.hasNext!==!1&&(yield{hasNext:!1})}(o);else if(!/text\//i.test(s))u=async function*(d){yield JSON.parse(await d.text())}(o);else throw new Error(await o.text());for await(var l of u)i=i?Tn(i,l,o):Nn(e,l,o),n=!1,yield i,n=!0;i||(yield i=Nn(e,{},o))}catch(f){if(!n)throw f;yield ta(e,o&&(o.status<200||o.status>=300)&&o.statusText?new Error(o.statusText):f,o)}}function Io(e,t,r){var n;return typeof AbortController<"u"&&(r.signal=(n=new AbortController).signal),Gn(()=>{n&&n.abort()})(ee(i=>!!i)(Ki(wo(e,t,r))))}var Cn=(e,t)=>{if(Array.isArray(e))for(var r of e)Cn(r,t);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?t.add(e[n]):Cn(e[n],t);return t},_n=e=>{var t=!1;if("definitions"in e){var r=[];for(var n of e.definitions){var i=_n(n);t=t||i!==n,r.push(i)}if(t)return{...e,definitions:r}}else if("selectionSet"in e){var o=[],s=e.kind===Bt.OPERATION_DEFINITION;if(e.selectionSet){for(var u of e.selectionSet.selections||[]){s=s||u.kind===Bt.FIELD&&u.name.value==="__typename"&&!u.alias;var l=_n(u);t=t||l!==u,o.push(l)}if(s||(t=!0,o.push({kind:Bt.FIELD,name:{kind:Bt.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:o}}}}return e},wi=new Map,ko=e=>{var t=Zi(e),r=wi.get(t.__key);return r||(wi.set(t.__key,r=_n(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},Rn=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Rn(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var r={};for(var n in e)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=Rn(e[n]);return r}else return e};function Ii(e){var t=r=>e(r);return t.toPromise=()=>Gr(Or(1)(ee(r=>!r.stale&&!r.hasNext)(t))),t.then=(r,n)=>t.toPromise().then(r,n),t.subscribe=r=>jt(r)(t),t}function Wt(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var ki=(e,t)=>Wt(e.kind,e,{meta:{...e.context.meta,...t}}),Oo=()=>{},vn=({kind:e})=>e!=="mutation"&&e!=="query",Ao=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,i=new Map,o=u=>{var l=Wt(u.kind,u);return l.query=ko(u.query),l},s=u=>u.kind==="query"&&u.context.requestPolicy!=="network-only"&&(u.context.requestPolicy==="cache-only"||n.has(u.key));return u=>{var l=Ut(d=>{var y=n.get(d.key);process.env.NODE_ENV!=="production"&&r({operation:d,...y?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var h=y;return process.env.NODE_ENV!=="production"&&(h={...h,operation:process.env.NODE_ENV!=="production"?ki(d,{cacheOutcome:y?"hit":"miss"}):d}),d.context.requestPolicy==="cache-and-network"&&(h.stale=!0,Oi(t,d)),h})(ee(d=>!vn(d)&&s(d))(u)),f=Dt(d=>{var{operation:y}=d;if(y){var h=y.context.additionalTypenames||[];if(d.operation.kind!=="subscription"&&(h=(S=>[...Cn(S,new Set)])(d.data).concat(h)),d.operation.kind==="mutation"||d.operation.kind==="subscription"){var m=new Set;process.env.NODE_ENV!=="production"&&r({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${h}`,operation:y,data:{typenames:h,response:d},source:"cacheExchange"});for(var v=0;v<h.length;v++){var E=h[v],F=i.get(E);F||i.set(E,F=new Set);for(var R of F.values())m.add(R);F.clear()}for(var I of m.values())n.has(I)&&(y=n.get(I).operation,n.delete(I),Oi(t,y))}else if(y.kind==="query"&&d.data){n.set(y.key,d);for(var U=0;U<h.length;U++){var b=h[U],P=i.get(b);P||i.set(b,P=new Set),P.add(y.key)}}}})(e(ee(d=>d.kind!=="query"||d.context.requestPolicy!=="cache-only")(Ut(d=>process.env.NODE_ENV!=="production"?ki(d,{cacheOutcome:"miss"}):d)(Vt([Ut(o)(ee(d=>!vn(d)&&!s(d))(u)),ee(d=>vn(d))(u)])))));return Vt([l,f])}},Oi=(e,t)=>e.reexecuteOperation(Wt(t.kind,t,{requestPolicy:"network-only"})),Sn=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:i})=>{var o=r||(s=>s.kind==="subscription"||!!t&&(s.kind==="query"||s.kind==="mutation"));return s=>{var u=vr(f=>{var{key:d}=f,y=ee(h=>h.kind==="teardown"&&h.key===d)(s);return Ln(y)((h=>{var m=e(ra(h),h);return Wn(({next:v,complete:E})=>{var F=!1,R,I;return Promise.resolve().then(()=>{F||(R=m.subscribe({next(U){v(I=I?Tn(I,U):Nn(h,U))},error(U){v(ta(h,U))},complete(){F||(F=!0,h.kind==="subscription"&&n.reexecuteOperation(Wt("teardown",h,h.context)),I&&I.hasNext&&v(Tn(I,{hasNext:!1})),E())}}))}),()=>{F=!0,R&&R.unsubscribe()}})})(f))})(ee(f=>f.kind!=="teardown"&&o(f))(s)),l=i(ee(f=>f.kind==="teardown"||!o(f))(s));return Vt([u,l])}},Eo=({forward:e,dispatchDebug:t})=>r=>{var n=vr(o=>{var s=ra(o),u=ho(o,s),l=bo(o,s);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:o,data:{url:u,fetchOptions:l},source:"fetchExchange"});var f=Ln(ee(d=>d.kind==="teardown"&&d.key===o.key)(r))(Io(o,u,l));return process.env.NODE_ENV!=="production"?Dt(d=>{var y=d.data?void 0:d.error;process.env.NODE_ENV!=="production"&&t({type:y?"fetchError":"fetchSuccess",message:`A ${y?"failed":"successful"} fetch response has been returned.`,operation:o,data:{url:u,fetchOptions:l,value:y||d},source:"fetchExchange"})})(f):f})(ee(o=>o.kind!=="teardown"&&(o.kind!=="subscription"||!!o.context.fetchSubscriptions))(r)),i=e(ee(o=>o.kind==="teardown"||o.kind==="subscription"&&!o.context.fetchSubscriptions)(r));return Vt([n,i])},No=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((i,o)=>{var s=!1;return o({client:t,forward(u){if(process.env.NODE_ENV!=="production"){if(s)throw new Error("forward() must only be called once in each Exchange.");s=!0}return Sr(i(Sr(u)))},dispatchDebug(u){process.env.NODE_ENV!=="production"&&n({timestamp:Date.now(),source:o.name,...u})}})},r),na=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>vr(o=>{r&&o.error&&r(o.error,o.operation);var s=t&&t(o)||o;return"then"in s?pi(s):yr(s)})(n(vr(o=>{var s=e&&e(o)||o;return"then"in s?pi(s):yr(s)})(i))),Po=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=Dt(r=>{if(r.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var n=`No exchange has handled operations of kind "${r.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:n,operation:r,source:"fallbackExchange"}),console.warn(n)}})(t)),ee(r=>!1)(t)),Ai=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var r=0,n=new Map,i=new Map,o=new Set,s=[],u={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=fi();function f(b){(b.kind==="mutation"||b.kind==="teardown"||!o.has(b.key))&&(b.kind==="teardown"?o.delete(b.key):b.kind!=="mutation"&&o.add(b.key),l.next(b))}var d=!1;function y(b){if(b&&f(b),!d){for(d=!0;d&&(b=s.shift());)f(b);d=!1}}var h=b=>{var P=Ln(ee(S=>S.kind==="teardown"&&S.key===b.key)(l.source))(ee(S=>S.operation.kind===b.kind&&S.operation.key===b.key&&(!S.operation.context._instance||S.operation.context._instance===b.context._instance))(U));return b.kind!=="query"?P=zi(S=>!!S.hasNext,!0)(P):P=di(S=>{var V=yr(S);return S.stale||S.hasNext?V:Vt([V,Ut(()=>(S.stale=!0,S))(Or(1)(ee(Ae=>Ae.key===b.key)(l.source)))])})(P),b.kind!=="mutation"?P=Gn(()=>{o.delete(b.key),n.delete(b.key),i.delete(b.key),d=!1;for(var S=s.length-1;S>=0;S--)s[S].key===b.key&&s.splice(S,1);f(Wt("teardown",b,b.context))})(Dt(S=>{if(S.stale){for(var V of s)if(V.key===S.operation.key){o.delete(V.key);break}}else S.hasNext||o.delete(b.key);n.set(b.key,S)})(P)):P=ci(()=>{f(b)})(P),t.maskTypename&&(P=Ut(S=>({...S,data:Rn(S.data,!0)}))(P)),Sr(P)},m=this instanceof e?this:Object.create(e.prototype),v=Object.assign(m,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(b){b.kind==="teardown"?y(b):(b.kind==="mutation"||i.has(b.key))&&(s.push(b),Promise.resolve().then(y))},createRequestOperation(b,P,S){S||(S={});var V;if(process.env.NODE_ENV!=="production"&&b!=="teardown"&&(V=yo(P.query))!==b)throw new Error(`Expected operation of type "${b}" but found "${V}"`);return Wt(b,P,{_instance:b==="mutation"?r=r+1|0:void 0,...u,...S,requestPolicy:S.requestPolicy||u.requestPolicy,suspense:S.suspense||S.suspense!==!1&&v.suspense})},executeRequestOperation(b){return b.kind==="mutation"?Ii(h(b)):Ii(Ba(()=>{var P=i.get(b.key);P||i.set(b.key,P=h(b)),P=ci(()=>{y(b)})(P);var S=n.get(b.key);return b.kind==="query"&&S&&(S.stale||S.hasNext)?di(yr)(Vt([P,ee(V=>V===n.get(b.key))(yr(S))])):P}))},executeQuery(b,P){var S=v.createRequestOperation("query",b,P);return v.executeRequestOperation(S)},executeSubscription(b,P){var S=v.createRequestOperation("subscription",b,P);return v.executeRequestOperation(S)},executeMutation(b,P){var S=v.createRequestOperation("mutation",b,P);return v.executeRequestOperation(S)},readQuery(b,P,S){var V=null;return jt(Ae=>{V=Ae})(v.query(b,P,S)).unsubscribe(),V},query:(b,P,S)=>v.executeQuery(hr(b,P),S),subscription:(b,P,S)=>v.executeSubscription(hr(b,P),S),mutation:(b,P,S)=>v.executeMutation(hr(b,P),S)}),E=Oo;if(process.env.NODE_ENV!=="production"){var{next:F,source:R}=fi();v.subscribeToDebugTarget=b=>jt(b)(R),E=F}var I=No(t.exchanges),U=Sr(I({client:v,dispatchDebug:E,forward:Po({dispatchDebug:E})})(l.source));return Ga(U),v};const xn=e=>Object.entries(e).flatMap(([t,r])=>{if(typeof r=="boolean")return r?t:!1;if(r instanceof Yn){let n="";const i=Object.entries(r.args).filter(([o,s])=>s!=null).map(([o,s])=>{var u;return`${o}: ${s instanceof Jn?`$${(u=s.name)!==null&&u!==void 0?u:o}`:JSON.stringify(s)}`});return i.length>0&&(n=`(${i.join(", ")})`),r.subselection?[`${t}${n} {`,...xn(r.subselection),"}"]:`${t}${n}`}else return[`${t} {`,...xn(r),"}"]}).filter(t=>!!t).map(t=>"  "+t),Ur=e=>{const t={},r=n=>{let i=1;if(t[n]){for(;t[`${n}${i}`];)i++;return`${n}${i}`}return n};return Object.entries(e).forEach(([n,i])=>{i instanceof Yn?(Object.entries(i.args).forEach(([o,s])=>{var u;s instanceof Jn&&(t[(u=s.name)!==null&&u!==void 0?u:r(o)]=s)}),i.subselection&&Object.assign(t,Ur(i.subselection))):typeof i=="object"&&i!==null&&Object.assign(t,Ur(i))}),t},To=e=>{const t=Ur(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([n,i])=>`$${n}: ${i.type}`).join(", ")})`};class Yn{constructor(t,r){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Jn{constructor(t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:n})}present(){return this.value!=null}}const be=(e,t)=>new Yn(e,t),G=e=>new Jn(e.type+(e.required?"!":""),e.name,e.value),Co=e=>{var t;const r=To(e),n=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${r}${n} {
${xn(e.fields).join(`
`)}
}`},Oe=e=>{const t=Ur(e.fields);return{query:Co(e),variables:Object.entries(t??{}).reduce((r,[n,i])=>(typeof i.value<"u"&&(r[n]=i.value),r),{})}},_o={DateTime(e){return new Date(e)}};class Ro{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(r=>this.hydrateObject(r)):this.hydrateObject(t)}hydrateObject(t){const r={...t};for(const[n,i]of Object.entries(this.plan)){const o=r[n];o!=null&&(r[n]=_o[i](o))}return r}}function we(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=we(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:we(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=we(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=we(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(we(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(we(o),we(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(we(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}var ia,aa,oa,sa,ua,la,he;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(he||(he={}));const ue=Symbol.for("g/fields"),ht=Symbol.for("g/instantiatedFields"),mt=Symbol.for("g/persistedFields"),tt=Symbol.for("g/fieldKeys"),xr=Symbol.for("g/fieldKeysTracker"),fr=Symbol.for("g/touched");class xo{constructor(t){Object.defineProperty(this,ia,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,aa,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,oa,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,sa,{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,ua,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,la,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this[ht]=we(t),this[mt]=we(t),Object.assign(this[ue],t),!t||Object.keys(t).length===0?this.empty=!0:(this[tt]=Object.keys(this[ue]),this[tt].forEach(n=>this[xr][n]=!0));const r={get:(n,i)=>{if(i in this)return this[i];if(i in n)return n[i]},set:(n,i,o)=>(this.trackKey(i),n[i.toString()]=o,!0)};return new Proxy(this[ue],r)}trackKey(t){const r=t.toString();this[xr][r]||(this[xr][r]=!0,this[tt].push(r))}hasChanges(t=he.SinceLoaded){if(this[fr])return!0;const r=t==he.SinceLoaded?this[ht]:this[mt];return this[tt].some(n=>!Pr(r[n],this[ue][n]))}isEmpty(){return this.empty}getField(t){return this[ue][t]}setField(t,r){return this.trackKey(t),this[ue][t]=r}changes(t,r=he.SinceLoaded){const i=(typeof t=="string"?r:t||r)==he.SinceLoaded?this[ht]:this[mt];if(t&&typeof t=="string"){const o=i[t],s=this[ue][t],u=!Pr(s,o);return u?{changed:u,current:s,previous:o}:{changed:u}}else{const o={};for(let s=0;s<this[tt].length;s++){const u=this[tt][s];Pr(i[u],this[ue][u])||(o[u]={current:this[ue][u],previous:i[u]})}return o}}toChangedJSON(t=he.SinceLoaded){const r=t==he.SinceLoaded?this[ht]:this[mt],n={};for(let i=0;i<this[tt].length;i++){const o=this[tt][i];Pr(r[o],this[ue][o])||(n[o]=this[ue][o])}return n}changed(t,r=he.SinceLoaded){return t&&typeof t=="string"?this.changes(t,r).changed:this.hasChanges(t===void 0?r:t)}flushChanges(t=he.SinceLoaded){t==he.SinceLoaded?this[ht]=we(this[ue]):t==he.SinceLastPersisted&&(this[mt]=we(this[ue])),this[fr]=!1}revertChanges(t=he.SinceLoaded){let r;t==he.SinceLoaded?r=Object.keys(this[ht]):r=Object.keys(this[mt]);for(const n of this[tt])r.includes(n)||delete this[ue][n];t==he.SinceLoaded?Object.assign(this[ue],we(this[ht])):Object.assign(this[ue],we(this[mt])),this[fr]=!1}toJSON(){return Mn({...this[ue]})}touch(){this[fr]=!0}}ia=ue,aa=ht,oa=mt,sa=tt,ua=xr,la=fr;const ca=xo;class da extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Dn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class Wr extends Error{constructor(t,r){super(t.startsWith("GGT_")?t:`${r}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Ei extends Error{constructor(t){let r;Fn(t)?r=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:r="GraphQL websocket closed unexpectedly by the server",super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class Do extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class jo extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Fo extends Error{constructor(t,r,n,i){const o=r.slice(0,3),s=r.length>3?`, and ${r.length-3} more error${r.length>4?"s":""} need${r.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${n??"Record"} is invalid and can't be saved. ${o.map(({apiIdentifier:u,message:l})=>`${u} ${l}`).join(", ")}${s}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=r,this.modelApiIdentifier=n,this.record=i}}class fa extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Qn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Mo extends Error{constructor(t,r){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var r;return(r=t.code)!==null&&r!==void 0?r:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var r;return(r=t.statusCode)!==null&&r!==void 0?r:500}))}}function jn(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const zt=(e,t)=>{const r=t.length;let n=0;for(;e!=null&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0},Fn=e=>(e==null?void 0:e.type)=="close",We=(e,t)=>typeof e!="string"?"":Er(e,t),Ni=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},Er=(e,t=!0)=>{let r=""+e;return t?r=r.replace(/^[a-z\d]*/,n=>Ni(n)):r=r.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),n=>n.toLowerCase()),r=r.replace(/(?:_|(\/))([a-z\d]*)/gi,(n,i,o,s,u)=>(i||(i=""),""+i+Ni(o))),r},Hn=(e,t)=>[...Array.isArray(t)?t:t?[t]:[],e].map(i=>Er(i)).join(""),pa=(e,t)=>`${Hn(e,t)}Sort`,Xn=(e,t)=>`${Hn(e,t)}Filter`,$o=(e,t,r)=>new fa(`More than one record found for ${e}.${t} = ${r}. Please confirm your unique validation is not reporting an error.`),qo=(e,t)=>{if(e.fetching)return;const r=zt(e.data,t);if(r===void 0)return new da(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(r===null)return new Qn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},rt=(e,t,r=!1)=>{var n;if(e.error)throw e.error instanceof Ar&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(u=>"[Network] "+u.message).join(`
`)),e.error;const i=zt(e.data,t),o=zt(i,["edges"]),s=o??i;if(i===void 0)throw new da(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||r&&Array.isArray(s)&&s.length===0)throw new Qn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},mr=(e,t)=>{var r;if(e.error)throw e.error instanceof Ar&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const n=zt(e.data,t);return n??null},Zn=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new Fo(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new fa(e.message):new Wr(e.message,e.code)},bt=(e,t)=>{const r=rt(e,t);return ya(r)},ya=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?Zn(t):new Wr("Gadget API operation not successful.","GGT_UNKNOWN")}return e},ha=e=>{var t,r,n,i;if(!((r=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||r===void 0)&&r.hydrations)return new Ro((i=(n=e.data)===null||n===void 0?void 0:n.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},br=(e,t)=>{const r=ha(e);return r&&(t=r.apply(t)),new ca(t)},ei=(e,t)=>{const r=ha(e);return r&&(t=r.apply(t)),t==null?void 0:t.map(n=>new ca(n))},Ir=(e,t)=>{const r=t.edges.map(n=>n.node);return ei(e,r)},Mn=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t[r]=n===void 0?null:Mn(n)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)==="[object Object]"){const t={};for(const r of Object.keys(e)){const n=Mn(e[r]);n!==void 0&&(t[r]=n)}return t}}}},wn="gstk",Pi=e=>{try{const t=window[e];return t.setItem(wn,wn),t.removeItem(wn),!0}catch{return!1}},Ti=Object.prototype.toString,Ci=Object.getPrototypeOf,_i=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,pr=(e,t,r)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(r.indexOf(e)>-1&&r.indexOf(t)>-1)return!0;const n=Ti.call(e),i=Ti.call(t);let o,s,u;if(r.push(e,t),n!=i||(o=_i(e),s=_i(t),o.length!=s.length||o.some(function(l){return!pr(e[l],t[l],r)})))return!1;switch(n.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{o=e.entries(),s=t.entries();do if(u=o.next(),!pr(u.value,s.next().value,r))return!1;while(!u.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(u=0;u<e.length;u++)if(!(!(u in e)&&!(u in t))&&(u in e!=u in t||!pr(e[u],t[u],r)))return!1;return!0;case"Object":return pr(Ci(e),Ci(t),r);default:return!1}},Pr=(e,t)=>pr(e,t,[]),ma=(e,t)=>{var r,n;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(o=>{var s;return o!=="id"&&!(!((s=e.paramOnlyVariables)===null||s===void 0)&&s.includes(o))&&o!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((r=e.acceptsModelInput)!==null&&r!==void 0?r:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[o,s]of Object.entries(t))!((n=e.paramOnlyVariables)===null||n===void 0)&&n.includes(o)?i[o]=s:o=="id"?i.id=s:i[e.modelApiIdentifier][o]=s}else i=t;return i},Bo=(e,t={})=>{var r;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((r=Array.isArray(t)?t:t.inputs)!==null&&r!==void 0?r:[]).map(i=>ma(e,i))}},Uo=(e,t)=>{const r={};for(const[n,i]of Object.entries(e))r[n]={...i,value:t[n]};return r},vt=(e,t)=>(t&&e.unshift(...Array.isArray(t)?t:[t]),e),ct=(e,t)=>{const r=t?[...Array.isArray(t)?t:[t],e].join("."):e;return{gadgetMeta:{hydrations:be({modelName:r})}}};function Re(e,t){if(!e)return t;if(Array.isArray(e)||(e=[e]),e)for(let r=e.length-1;r>=0;r--)t={[e[r]]:t};return t}const Ft={errors:{message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}}};class Kt extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,r,n){const i=new Kt;return i.push(...r),i.modelManager=t,i.pagination=n,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new Wr("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new Dn("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:r,last:n,before:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,after:this.pagination.pageInfo.endCursor,first:r||n})}async previousPage(){var t;if(!this.hasPreviousPage)throw new Dn("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:r,last:n,after:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,before:this.pagination.pageInfo.startCursor,last:n||r})}}const ti=(e,t=!1)=>{const r={...e};return t&&(r.__typename=!0),r},zr=e=>{if(e!=null&&e.live)return["@live"]},Vo=(e,t,r,n,i,o)=>{const s={};typeof t<"u"&&(s.id=G({type:"GadgetID!",value:t}));let u={[e]:be(s,ti((i==null?void 0:i.select)||r,!0))};return u=Re(o,u),Oe({type:"query",name:e,fields:{...u,...ct(n,o)},directives:zr(i)})},Go=(e,t,r,n,i,o,s)=>ri(e,n,i,{...o,first:2,filter:{[t]:{equals:r}}},s),ri=(e,t,r,n,i)=>{let o={[e]:be({after:G({value:n==null?void 0:n.after,type:"String"}),first:G({value:n==null?void 0:n.first,type:"Int"}),before:G({value:n==null?void 0:n.before,type:"String"}),last:G({value:n==null?void 0:n.last,type:"Int"}),sort:n!=null&&n.sort?G({value:n.sort,type:`[${pa(r,i)}!]`}):void 0,filter:n!=null&&n.filter?G({value:n.filter,type:`[${Xn(r,i)}!]`}):void 0,search:n!=null&&n.search?G({value:n.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:ti((n==null?void 0:n.select)||t,!0)}})};return i&&(o=Re(i,o)),Oe({type:"query",name:e,fields:{...o,...ct(r,i)},directives:zr(n)})},ni=e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,G(r)])),ba=(e,t,r)=>({success:!0,...Ft,[e]:t&&!r?ti(t,!0):!1,result:!!r}),Lo=(e,t,r,n,i,o,s,u,l)=>{const f=(o==null?void 0:o.select)||t;let d={[e]:be(ni(i),ba(n,f,l))};d=Re(s,d);const y={type:"mutation",name:e,fields:{...d,...ct(r,s)},directives:zr(o)};return Oe(y)},Wo=(e,t,r)=>{let n={},i=t.operationName,o;switch(t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),t.operationReturnType?o=`${t.operationReturnType}Result`:o=`${Er(i)}Result`,t.type){case"action":{const u=(r==null?void 0:r.select)||t.defaultSelection;n={[`... on ${o}`]:ba(t.modelApiIdentifier,u,t.hasReturnType)};break}case"globalAction":n={[`... on ${o}`]:ga()}}const s={type:"subscription",name:We(i)+"BackgroundResult",fields:{backgroundAction:be({id:G({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...n}})}};return Oe(s)},ga=()=>({success:!0,...Ft,result:!0}),zo=(e,t,r,n)=>{let i={[e]:be(ni(t),ga())};return i=Re(r,i),Oe({type:"mutation",name:e,fields:i,directives:zr(n)})},Ko=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const r of Object.keys(t))["id","retries","queue","priority","startAt"].includes(r)||delete t[r];return t},Yo=(e,t,r,n,i)=>{let o={[e]:be({...ni(t),backgroundOptions:G({type:"EnqueueBackgroundActionOptions",value:Ko(n)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})};return o=Re(r,o),Oe({type:"mutation",name:"enqueue"+Er(e),fields:{background:o}})},Jo=(e,t)=>({[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator]();return{async next(){const{done:n,value:i}=await r.next();return{done:n,value:typeof i<"u"?t(i):void 0}},async return(n){var i;return await((i=r.return)===null||i===void 0?void 0:i.call(r,n))}}}});function ii(e,t,r){return r!=null&&r.live?Jo(La(e),t):zn(e,ee(i=>!i.stale&&!i.hasNext),Or(1),Gr).then(i=>t(i))}const Ri=(e,t,r,n,i,o,s=!0,u)=>{const l=Vo(t,r,n,i,o,u),f=e.connection.currentClient.query(l.query,l.variables);return ii(f,d=>{const y=s?rt:mr,h=vt([t],u),m=y(d,h);return br(d,m)},o)},Qo=(e,t,r,n,i,o,s,u=!0,l)=>{const f=Go(t,r,n,i,o,s),d=vt([t],l),y=e.connection.currentClient.query(f.query,f.variables);return ii(y,h=>{const m=rt(h,d),v=Ir(h,m);if(v.length>1)throw $o(o,r,n);const E=v[0];if(!E&&u)throw new Qn(`${o} record with ${r}=${n} not found`);return E??null},s)},xi=(e,t,r,n,i,o,s)=>{const u=ri(t,r,n,i,s),l=e.connection.currentClient.query(u.query,u.variables),f=vt([t],s);return ii(l,d=>{let y;o===!1?y=mr(d,f):y=rt(d,f,o);const h=Ir(d,y);return Kt.boot(e,h,{options:i,pageInfo:y.pageInfo})},i)},Di=async(e,t,r,n,i,o,s,u,l,f)=>{const d=Lo(t,r,n,i,s,u,l,o,f),y=await e.connection.currentClient.mutation(d.query,d.variables).toPromise(),h=vt([t],l);if(o){const m=zt(y.data,h),v=m[i]&&r?ei(y,m[i]):void 0;if(m.errors){const E=m.errors.map(F=>Zn(F));throw new Mo(E,v)}return v}else{const m=bt(y,h);return va(r,y,m,i,f)}},va=(e,t,r,n,i)=>{if(e!=null)return i?r.result:br(t,r[n])},ji=async(e,t,r,n)=>{const i=zo(t,r,n),o=await e.currentClient.mutation(i.query,i.variables).toPromise(),s=vt([t],n);return bt(o,s).result};async function Ho(e,t,r,n={}){const i=t.isBulk?Bo(t,r):ma(t,r),o=Uo(t.variables,i),s=Yo(t.operationName,o,t.namespace,n,t.isBulk),u=await e.currentClient.mutation(s.query,s.variables,n).toPromise(),l=["background",...vt([t.operationName],t.namespace)];try{const f=bt(u,l);return t.isBulk?f.backgroundActions.map(d=>new Dr(e,t,d.id)):new Dr(e,t,f.backgroundAction.id)}catch(f){if("code"in f&&f.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(n!=null&&n.id)&&n.onDuplicateID=="ignore")return new Dr(e,t,n.id);throw f}}const Xo=async(e,t,r,n)=>{const i=Wo(t,r,n),o=e.currentClient.subscription(i.query,i.variables),s=await zn(o,ee(l=>{var f,d;return l.error||((d=(f=l.data)===null||f===void 0?void 0:f.backgroundAction)===null||d===void 0?void 0:d.outcome)}),Or(1),Gr),u=rt(s,["backgroundAction"]);switch(ya(u.result),r.type){case"action":{u.result=va(r.defaultSelection,s.data,u.result,r.isBulk?r.modelApiIdentifier:r.modelSelectionField,r.hasReturnType);break}case"globalAction":{u.result=u.result.result;break}}return u};class Dr{constructor(t,r,n){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n})}async result(t){return(await Xo(this.connection,this.id,this.action,t)).result}}var gr;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(gr||(gr={}));function Se(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function _t(e){return Se(e)==="object"}function Zo(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function Fi(e,t){return e.length<124?e:t}const es="graphql-transport-ws";var me;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(me||(me={}));var X;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(X||(X={}));function Sa(e){if(!_t(e))throw new Error(`Message is expected to be an object, but got ${Se(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Se(e.type)}`);switch(e.type){case X.ConnectionInit:case X.ConnectionAck:case X.Ping:case X.Pong:{if(e.payload!=null&&!_t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case X.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Se(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!_t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Se(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Se(e.payload.query)}`);if(e.payload.variables!=null&&!_t(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Se(e.payload.variables)}`);if(e.payload.operationName!=null&&Se(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Se(e.payload.operationName)}`);if(e.payload.extensions!=null&&!_t(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Se(e.payload.extensions)}`);break}case X.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Se(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!_t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Se(e.payload)}`);break}case X.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Se(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Zo(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case X.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Se(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function ts(e,t){return Sa(typeof e=="string"?JSON.parse(e,t):e)}function cr(e,t){return Sa(e),JSON.stringify(e,t)}function rs(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:s=0,disablePong:u,connectionAckWaitTimeout:l=0,retryAttempts:f=5,retryWait:d=async function(M){let $=1e3;for(let D=0;D<M;D++)$*=2;await new Promise(D=>setTimeout(D,$+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:y=Tr,isFatalConnectionProblem:h,on:m,webSocketImpl:v,generateID:E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,M=>{const $=Math.random()*16|0;return(M=="x"?$:$&3|8).toString(16)})},jsonMessageReplacer:F,jsonMessageReviver:R}=e;let I;if(v){if(!is(v))throw new Error("Invalid WebSocket implementation provided");I=v}else typeof WebSocket<"u"?I=WebSocket:typeof global<"u"?I=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(I=window.WebSocket||window.MozWebSocket);if(!I)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const U=I,b=(()=>{const N=(()=>{const $={};return{on(D,L){return $[D]=L,()=>{delete $[D]}},emit(D){var L;"id"in D&&((L=$[D.id])===null||L===void 0||L.call($,D))}}})(),M={connecting:m!=null&&m.connecting?[m.connecting]:[],opened:m!=null&&m.opened?[m.opened]:[],connected:m!=null&&m.connected?[m.connected]:[],ping:m!=null&&m.ping?[m.ping]:[],pong:m!=null&&m.pong?[m.pong]:[],message:m!=null&&m.message?[N.emit,m.message]:[N.emit],closed:m!=null&&m.closed?[m.closed]:[],error:m!=null&&m.error?[m.error]:[]};return{onMessage:N.on,on($,D){const L=M[$];return L.push(D),()=>{L.splice(L.indexOf(D),1)}},emit($,...D){for(const L of[...M[$]])L(...D)}}})();function P(N){const M=[b.on("error",$=>{M.forEach(D=>D()),N($)}),b.on("closed",$=>{M.forEach(D=>D()),N($)})]}let S,V=0,Ae,xe=!1,$e=0,re=!1;async function Z(){clearTimeout(Ae);const[N,M]=await(S??(S=new Promise((L,Ee)=>(async()=>{if(xe){if(await d($e),!V)return S=void 0,Ee({code:1e3,reason:"All Subscriptions Gone"});$e++}b.emit("connecting");const q=new U(typeof t=="function"?await t():t,es);let De,qe;function Ke(){isFinite(s)&&s>0&&(clearTimeout(qe),qe=setTimeout(()=>{q.readyState===U.OPEN&&(q.send(cr({type:X.Ping})),b.emit("ping",!1,void 0))},s))}P(Q=>{S=void 0,clearTimeout(De),clearTimeout(qe),Ee(Q),Tr(Q)&&Q.code===4499&&(q.close(4499,"Terminated"),q.onerror=null,q.onclose=null)}),q.onerror=Q=>b.emit("error",Q),q.onclose=Q=>b.emit("closed",Q),q.onopen=async()=>{try{b.emit("opened",q);const Q=typeof r=="function"?await r():r;if(q.readyState!==U.OPEN)return;q.send(cr(Q?{type:X.ConnectionInit,payload:Q}:{type:X.ConnectionInit},F)),isFinite(l)&&l>0&&(De=setTimeout(()=>{q.close(me.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Ke()}catch(Q){b.emit("error",Q),q.close(me.InternalClientError,Fi(Q instanceof Error?Q.message:new Error(Q).message,"Internal client error"))}};let Ye=!1;q.onmessage=({data:Q})=>{try{const z=ts(Q,R);if(b.emit("message",z),z.type==="ping"||z.type==="pong"){b.emit(z.type,!0,z.payload),z.type==="pong"?Ke():u||(q.send(cr(z.payload?{type:X.Pong,payload:z.payload}:{type:X.Pong})),b.emit("pong",!1,z.payload));return}if(Ye)return;if(z.type!==X.ConnectionAck)throw new Error(`First message cannot be of type ${z.type}`);clearTimeout(De),Ye=!0,b.emit("connected",q,z.payload),xe=!1,$e=0,L([q,new Promise((dt,Be)=>P(Be))])}catch(z){q.onmessage=null,b.emit("error",z),q.close(me.BadResponse,Fi(z instanceof Error?z.message:new Error(z).message,"Bad response"))}}})())));N.readyState===U.CLOSING&&await M;let $=()=>{};const D=new Promise(L=>$=L);return[N,$,Promise.race([D.then(()=>{if(!V){const L=()=>N.close(1e3,"Normal Closure");isFinite(o)&&o>0?Ae=setTimeout(()=>{N.readyState===U.OPEN&&L()},o):L()}}),M])]}function W(N){if(Tr(N)&&(ns(N.code)||[me.InternalServerError,me.InternalClientError,me.BadRequest,me.BadResponse,me.Unauthorized,me.SubprotocolNotAcceptable,me.SubscriberAlreadyExists,me.TooManyInitialisationRequests].includes(N.code)))throw N;if(re)return!1;if(Tr(N)&&N.code===1e3)return V>0;if(!f||$e>=f||!y(N)||h!=null&&h(N))throw N;return xe=!0}return n||(async()=>{for(V++;;)try{const[,,N]=await Z();await N}catch(N){try{if(!W(N))return}catch(M){return i==null?void 0:i(M)}}})(),{on:b.on,subscribe(N,M){const $=E(N);let D=!1,L=!1,Ee=()=>{V--,D=!0};return(async()=>{for(V++;;)try{const[q,De,qe]=await Z();if(D)return De();const Ke=b.onMessage($,Ye=>{switch(Ye.type){case X.Next:{M.next(Ye.payload);return}case X.Error:{L=!0,D=!0,M.error(Ye.payload),Ee();return}case X.Complete:{D=!0,Ee();return}}});q.send(cr({id:$,type:X.Subscribe,payload:N},F)),Ee=()=>{!D&&q.readyState===U.OPEN&&q.send(cr({id:$,type:X.Complete},F)),V--,D=!0,De()},await qe.finally(Ke);return}catch(q){if(!W(q))return}})().then(()=>{L||M.complete()}).catch(q=>{M.error(q)}),()=>{D||Ee()}},async dispose(){if(re=!0,S){const[N]=await S;N.close(1e3,"Normal Closure")}},terminate(){S&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Tr(e){return _t(e)&&"code"in e&&"reason"in e}function ns(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function is(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var qt=null;typeof WebSocket<"u"?qt=WebSocket:typeof MozWebSocket<"u"?qt=MozWebSocket:typeof global<"u"?qt=global.WebSocket||global.MozWebSocket:typeof window<"u"?qt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(qt=self.WebSocket||self.MozWebSocket);const as=qt;class wa extends Error{}class os{constructor(t,r){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw rt(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new wa("Transaction rolled back.")}async start(){rt(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){rt(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class ss{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,r){this.values[t]=r}}const us=e=>{const t=[...e.definitions].reverse().find(r=>r.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(n=>n.kind=="Field").name.value},Mi=na({onOperation:e=>{var t,r;(t=(r=e.context).operationName)!==null&&t!==void 0||(r.operationName=us(e.query)||"unknown")}}),ls=na({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,r]=e.context.url.split("?"),n=new URLSearchParams(r);n.set("operation",e.context.operationName),e.context.url=`${t}?${n.toString()}`}catch{}}});var $n;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})($n||($n={}));const cs=2,ds=4800,fs=1e4,ps=[me.ConnectionAcknowledgementTimeout,me.ConnectionInitialisationTimeout],$i=Symbol.for("gadget/connection"),ys="token",hs=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var ie;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(ie||(ie={}));const Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class Ia{constructor(t){var r,n,i,o,s;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:ie.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l)=>{let f,d;if(l?(f=l,d=u):(f=u,d={}),this.currentTransaction)return await f(this.currentTransaction);let y=null,h;try{y=await this.waitForOpenedConnection({isFatalConnectionProblem(E){return console.warn("Transport error encountered during transaction processing",E),!0},connectionAckWaitTimeout:ds,...d,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const m=new Ai({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,Mi,...this.exchanges.beforeAsync,Sn({forwardSubscription(E){const F={...E,query:E.query||""};return{subscribe:R=>({unsubscribe:y.subscribe(F,R)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});m[$i]=this,h=new os(m,y),this.currentTransaction=h,await h.start();const v=await f(h);return await h.commit(),v}catch(m){try{h!=null&&h.open&&await h.rollback()}catch(v){v instanceof wa||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",v)}throw Fn(m)?new Ei(m):m}finally{await(y==null?void 0:y.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l={})=>{var f;u=ms(u,(f=this.options.baseRouteURL)!==null&&f!==void 0?f:this.options.endpoint),this.isGadgetRequest(u)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==ie.Custom&&await this.options.authenticationMode.custom.processFetch(u,l));const d=await this._fetchImplementation(u,l);if(this.authenticationMode==ie.BrowserSession){const y=d.headers.get("x-set-authorization"),h=y!=null&&y.startsWith("Session ")?y.replace("Session ",""):null;h&&this.sessionTokenStore.setItem(this.sessionStorageKey,h)}return d}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof Cr<"u"&&Cr.fetch?this._fetchImplementation=Cr.fetch.bind(Cr):this._fetchImplementation=async(...u)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-b1d70dd6.cjs")).then(f=>f.browserPonyfill);return l.default&&(l=l.default),await l(...u)},this.websocketImplementation=(n=(r=t.websocketImplementation)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.WebSocket)!==null&&n!==void 0?n:as,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(o=t.environment)!==null&&o!==void 0?o:"Development",this.requestPolicy=(s=t.requestPolicy)!==null&&s!==void 0?s:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${ys}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var r;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=ie.InternalAuthToken:t.apiKey?this.authenticationMode=ie.APIKey:t.custom&&(this.authenticationMode=ie.Custom),this.options.authenticationMode=t),(r=this.authenticationMode)!==null&&r!==void 0||(this.authenticationMode=ie.Anonymous)}enableSessionMode(t){this.authenticationMode=ie.BrowserSession;const r=!t||typeof t=="boolean"?gr.Durable:t.storageType;let n;r==gr.Durable&&Pi("localStorage")?n=window.localStorage:r==gr.Session&&Pi("sessionStorage")?n=window.sessionStorage:n=new ss,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&n.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=n,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let r;if(typeof t=="string"?r=t:typeof t=="object"&&"url"in t?r=t.url:r=String(t),qn(this.options.endpoint))return!!qn(r);const n=new URL(this.options.endpoint).host;return r.includes(n)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,Mi,ls];typeof window<"u"&&t.push(Ao),t.push(...this.exchanges.beforeAsync,Sn({forwardSubscription:n=>({subscribe:i=>{const o={...n,query:n.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(o,i)}}})}),Sn({isSubscriptionOperation:n=>n.query.definitions.some(i=>gs(i)),forwardSubscription:n=>({subscribe:i=>{let o;const s=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:u,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:f})=>{const d={...n,query:n.query||""};return o=u(l(f(y=>this.getBaseSubscriptionClient().subscribe(d,y))),i),o}).catch(u=>i.error(u));return{unsubscribe:()=>{o?o():s.then(u=>{u&&u()})}}}})}),Eo,...this.exchanges.afterAll);const r=new Ai({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return r[$i]=this,r}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let r=this.websocketsEndpoint;if(t!=null&&t.urlParams){const n=new URLSearchParams;for(const[i,o]of Object.entries(t.urlParams))o&&n.set(i,o);r+="?"+n.toString()}return rs({url:r,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var n,i;const o={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==ie.APIKey?o.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==ie.InternalAuthToken?o.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==ie.BrowserSession?o.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==ie.Custom&&await((i=(n=this.options.authenticationMode)===null||n===void 0?void 0:n.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(o)),o},onNonLazyError:()=>{},on:{connected:(n,i)=>{var o,s,u,l,f,d;if(this.authenticationMode==ie.BrowserSession&&(i!=null&&i.sessionToken)){const y=(o=this.options.authenticationMode)===null||o===void 0?void 0:o.browserSession;(y!==null&&typeof y=="object"?y.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(u=(s=this.subscriptionClientOptions)===null||s===void 0?void 0:s.on)===null||u===void 0?void 0:u.connected)===null||l===void 0||l.call(u,n,i),(d=(f=t==null?void 0:t.on)===null||f===void 0?void 0:f.connected)===null||d===void 0||d.call(f,n,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const r={};if(this.authenticationMode==ie.InternalAuthToken)r.authorization="Basic "+hs("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==ie.APIKey)r.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==ie.BrowserSession){const n=this.sessionTokenStore.getItem(this.sessionStorageKey);n&&(r.authorization=`Session ${n}`)}return r["x-gadget-environment"]=this.environment,r}async waitForOpenedConnection(t){let r=this.newSubscriptionClient(t),n=[],i=t.connectionAttempts||cs;const o=t.connectionGlobalTimeoutMs||fs,s=()=>{n.forEach(u=>u()),n=[]};return await new Promise((u,l)=>{const f=setTimeout(()=>{this.disposeClient(r),y(new Do("Timeout opening websocket connection to Gadget API"))},o),d=v=>{if(Fn(v)){if(v.code==$n.TooManyRequests)return s(),y(new jo(v.reason));if(ps.includes(v.code)&&i>0){i-=1,this.disposeClient(r),r=this.newSubscriptionClient(t),m();return}}clearTimeout(f),l(new Ei(v))},y=v=>{clearTimeout(f),l(v)},h=()=>{clearTimeout(f),u(r)},m=()=>{s(),n.push(r.on("connected",h)),n.push(r.on("closed",d)),n.push(r.on("error",y))};m()}).finally(s)}disposeClient(t){const r=t.dispose();r&&r.catch(n=>console.error(`Error closing SubscriptionClient: ${n.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(Ia,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.24"});function ms(e,t){if(typeof e!="string")return e;if(qn(e))try{return String(new URL(e,t))}catch{return e}return e}function qn(e){return e.startsWith("/")&&!e.startsWith("//")}const bs=e=>{var t;return e.kind!=="OperationDefinition"||e.operation!=="query"?null:(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live")},gs=e=>!!bs(e),vs=(e,t,r,n)=>{const i=We(e);return Oe({type:"query",name:`InternalFind${i}`,fields:{internal:Re(r,{[e]:be({id:G({value:t,type:"GadgetID!"}),select:G({value:oi(n),type:"[String!]"})})}),...ct(e,r)}})},ka=(e,t,r)=>({search:r!=null&&r.search?G({value:r==null?void 0:r.search,type:"String"}):void 0,sort:r!=null&&r.sort?G({value:r==null?void 0:r.sort,type:`[${pa(e,t)}!]`}):void 0,filter:r!=null&&r.filter?G({value:r==null?void 0:r.filter,type:`[${Xn(e,t)}!]`}):void 0,select:r!=null&&r.select?G({value:oi(r==null?void 0:r.select),type:"[String!]"}):void 0}),Ss=(e,t,r)=>{const n=We(e),i=ka(n,t,r);return Oe({type:"query",name:`InternalFindFirst${n}`,fields:{internal:Re(t,{[`list${n}`]:be({...i,first:G({value:1,type:"Int"})},{edges:{node:!0}})}),...ct(e,t)}})},ws=(e,t,r)=>{const n=We(e),i=ka(n,t,r);return Oe({type:"query",name:`InternalFindMany${n}`,fields:{internal:Re(t,{[`list${n}`]:be({...i,after:G({value:r==null?void 0:r.after,type:"String"}),before:G({value:r==null?void 0:r.before,type:"String"}),first:G({value:r==null?void 0:r.first,type:"Int"}),last:G({value:r==null?void 0:r.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}),...ct(e,t)}})},ai=(e,t)=>`Internal${Hn(e,t)}Input`,Is=(e,t,r)=>{const n=We(e);return Oe({type:"mutation",name:`InternalCreate${n}`,fields:{internal:Re(t,{[`create${n}`]:be({[e]:G({value:r,type:ai(e,t)})},{success:!0,...Ft,[e]:!0})}),...ct(e,t)}})},ks=(e,t,r,n)=>{We(e);const i=We(t);return Oe({type:"mutation",name:`InternalBulkCreate${i}`,fields:{internal:Re(r,{[`bulkCreate${i}`]:be({[t]:G({value:n,type:`[${ai(e,r)}]!`})},{success:!0,...Ft,[t]:!0})}),...ct(e,r)}})},Os=(e,t,r,n)=>{const i=We(e);return Oe({type:"mutation",name:`InternalUpdate${i}`,fields:{internal:Re(t,{[`update${i}`]:be({id:G({value:r,type:"GadgetID!"}),[e]:G({value:n,type:ai(e,t)})},{success:!0,...Ft,[e]:!0})}),...ct(e,t)}})},As=(e,t,r)=>{const n=We(e);return Oe({type:"mutation",name:`InternalDelete${n}`,fields:{internal:Re(t,{[`delete${n}`]:be({id:G({value:r,type:"GadgetID!"})},{success:!0,...Ft})})}})},Es=(e,t,r)=>{const n=We(e);return Oe({type:"mutation",name:`InternalDeleteMany${n}`,fields:{internal:Re(t,{[`deleteMany${n}`]:be({search:G({value:r==null?void 0:r.search,type:"String"}),filter:G({value:r==null?void 0:r.filter,type:`[${Xn(e,t)}!]`})},{success:!0,...Ft})})}})};class Ve{constructor(t,r,n){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=Er(t),this.namespace=(n==null?void 0:n.namespace)||[]}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(n=>n===this.apiIdentifier)}getRecordFromData(t,r){let n=t;if(!this.validateRecord(t))throw new Wr(`Invalid arguments found in variables. Did you mean to use ${r}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(n=n[this.apiIdentifier]),n}async findOne(t,r,n=!0){const i=vs(this.apiIdentifier,t,this.namespace,oi(r==null?void 0:r.select)),o=await this.connection.currentClient.query(i.query,i.variables).toPromise(),u=(n?rt:mr)(o,this.dataPath(this.apiIdentifier));return br(o,u)}async maybeFindOne(t,r){const n=await this.findOne(t,r,!1);return n.isEmpty()?null:n}async findMany(t){const r=ws(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.query(r.query,r.variables).toPromise(),i=mr(n,this.dataPath(`list${this.capitalizedApiIdentifier}`)),o=Ir(n,i);return Kt.boot(this,o,{options:t,pageInfo:i.pageInfo})}async findFirst(t,r=!0){const n=Ss(this.apiIdentifier,this.namespace,t),i=await this.connection.currentClient.query(n.query,n.variables).toPromise(),o=this.dataPath(`list${this.capitalizedApiIdentifier}`);let s;r===!1?s=mr(i,o):s=rt(i,o,r);const u=Ir(i,s);return Kt.boot(this,u,{options:t,pageInfo:s.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const r=Is(this.apiIdentifier,this.namespace,this.getRecordFromData(t,"create")),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise(),i=bt(n,this.dataPath(`create${this.capitalizedApiIdentifier}`));return br(n,i[this.apiIdentifier])}async bulkCreate(t){var r;if(!(!((r=this.options)===null||r===void 0)&&r.pluralApiIdentifier))throw new Dn("Cannot perform bulkCreate without a pluralApiIdentifier");const n=We(this.options.pluralApiIdentifier),i=ks(this.apiIdentifier,this.options.pluralApiIdentifier,this.namespace,t),o=await this.connection.currentClient.mutation(i.query,i.variables).toPromise(),s=bt(o,this.dataPath(`bulkCreate${n}`));return ei(o,s[this.options.pluralApiIdentifier])}async update(t,r){jn(t,"Can't update a record without an ID passed");const n=Os(this.apiIdentifier,this.namespace,t,this.getRecordFromData(r,"update")),i=await this.connection.currentClient.mutation(n.query,n.variables).toPromise(),o=bt(i,this.dataPath(`update${this.capitalizedApiIdentifier}`));return br(i,o[this.apiIdentifier])}async delete(t){jn(t,"Can't delete a record without an ID");const r=As(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();bt(n,this.dataPath(`delete${this.capitalizedApiIdentifier}`))}async deleteMany(t){const r=Es(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();bt(n,this.dataPath(`deleteMany${this.capitalizedApiIdentifier}`))}dataPath(t){return["internal",...vt([t],this.namespace)]}}function oi(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[r,n]of Object.entries(e))n&&t.push(r);return t}const Me=(e,t,r,n)=>{const i=class{constructor(o){this.connection=o}};for(const o of n)switch(o.type){case"maybeFindOne":case"findOne":{"functionName"in o?i.prototype[o.functionName]=Object.assign(async function(s,u){return await Qo(this,o.operationName,o.findByField,s,r,e,u)},o):i.prototype[o.type]=Object.assign(async function(s,u){const l=await Ri(this,e,s,r,e,u,o.type!="maybeFindOne");return l.isEmpty()?null:l},o);break}case"findMany":{i.prototype.findMany=Object.assign(async function(s){return await xi(this,t,r,e,s)},o);break}case"maybeFindFirst":case"findFirst":{i.prototype[o.type]=Object.assign(async function(s){const u=await xi(this,t,r,e,{...s,first:1,last:void 0,before:void 0,after:void 0},o.type!="maybeFindFirst");return(u==null?void 0:u[0])??null},o);break}case"get":{i.prototype.get=Object.assign(async function(s){return await Ri(this,o.operationName,void 0,r,e,s)},o);break}case"action":{if(o.isBulk){const s=!!o.variables.ids;i.prototype[o.functionName]=Object.assign(async function(u,l){let f;return s?f={ids:{...o.variables.ids,value:u}}:f={inputs:{...o.variables.inputs,value:u.map(d=>Oa(this[o.singleActionFunctionName],void 0,d))}},await Di(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!0,f,l,o.namespace,o.hasReturnType)},o)}else{const s=!!o.variables.id,u=Object.keys(o.variables).filter(l=>l!="id").length>0;i.prototype[o.functionName]=Object.assign(async function(...l){const[f,d]=Ns(o,s,u,l);return await Di(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!1,f,d,o.namespace,o.hasReturnType)},o)}break}}return i};function Oa(e,t,r={}){var o;if(e.hasAmbiguousIdentifier&&Object.keys(r).some(s=>{var u;return!((u=e.paramOnlyVariables)!=null&&u.includes(s))&&s!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let n;const i=Object.entries(e.variables).find(([s,u])=>s==="id"&&u.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in r&&typeof r[e.modelApiIdentifier]=="object"&&r[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])n=r;else{n={[e.modelApiIdentifier]:{}};for(const[s,u]of Object.entries(r))(o=e.paramOnlyVariables)!=null&&o.includes(s)?n[s]=u:i&&s===i[0]?n.id=u:n[e.modelApiIdentifier][s]=u}else n=r;return n.id??(n.id=t),n}function Ns(e,t,r,n){let i,o;t&&(i=n.shift()),r&&(o=n.shift());const s=n.shift();let u=o;(i||o)&&(u=Oa(e,i,o));const l={};for(const[f,d]of Object.entries(e.variables))l[f]={value:f=="id"?i:u==null?void 0:u[f],...d};return[l,s]}const Te={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},H="user",ut="users",Ps=Me(H,ut,Te,[{type:"findOne",operationName:H,modelApiIdentifier:H,findByVariableName:"id",defaultSelection:Te},{type:"maybeFindOne",operationName:H,modelApiIdentifier:H,findByVariableName:"id",defaultSelection:Te},{type:"findMany",operationName:ut,modelApiIdentifier:H,defaultSelection:Te},{type:"findFirst",operationName:ut,modelApiIdentifier:H,defaultSelection:Te},{type:"maybeFindFirst",operationName:ut,modelApiIdentifier:H,defaultSelection:Te},{type:"findOne",operationName:ut,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:H,defaultSelection:Te},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Te},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:H,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:Te},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Te},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:H,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:Te},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:H,modelSelectionField:ut,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Te},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:H,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:Te}]),Je={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},ge="session",Mt="sessions",Ts=Me(ge,Mt,Je,[{type:"findOne",operationName:ge,modelApiIdentifier:ge,findByVariableName:"id",defaultSelection:Je},{type:"maybeFindOne",operationName:ge,modelApiIdentifier:ge,findByVariableName:"id",defaultSelection:Je},{type:"findMany",operationName:Mt,modelApiIdentifier:ge,defaultSelection:Je},{type:"findFirst",operationName:Mt,modelApiIdentifier:ge,defaultSelection:Je},{type:"maybeFindFirst",operationName:Mt,modelApiIdentifier:ge,defaultSelection:Je},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:ge,modelSelectionField:ge,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Je},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:ge,modelSelectionField:Mt,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:Je},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:ge,modelSelectionField:ge,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Je},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:ge,modelSelectionField:Mt,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:Je}]),Qe={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},le="shopifyProduct",Et="shopifyProducts",Cs=Me(le,Et,Qe,[{type:"findOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Qe},{type:"maybeFindOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Qe},{type:"findMany",operationName:Et,modelApiIdentifier:le,defaultSelection:Qe},{type:"findFirst",operationName:Et,modelApiIdentifier:le,defaultSelection:Qe},{type:"maybeFindFirst",operationName:Et,modelApiIdentifier:le,defaultSelection:Qe},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:le,modelSelectionField:Et,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:Qe},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:le,modelSelectionField:Et,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:Qe},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:le,modelSelectionField:Et,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),He={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},ce="shopifyProductImage",Nt="shopifyProductImages",_s=Me(ce,Nt,He,[{type:"findOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"maybeFindOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"findMany",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"findFirst",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"maybeFindFirst",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:He},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:He},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Xe={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},de="shopifyProductOption",Pt="shopifyProductOptions",Rs=Me(de,Pt,Xe,[{type:"findOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"maybeFindOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"findMany",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"findFirst",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"maybeFindFirst",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:Xe},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:Xe},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ze={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},fe="shopifyProductVariant",Tt="shopifyProductVariants",xs=Me(fe,Tt,Ze,[{type:"findOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"maybeFindOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"findMany",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"findFirst",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"maybeFindFirst",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),ve={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},J="shopifyShop",lt="shopifyShops",Ds=Me(J,lt,ve,[{type:"findOne",operationName:J,modelApiIdentifier:J,findByVariableName:"id",defaultSelection:ve},{type:"maybeFindOne",operationName:J,modelApiIdentifier:J,findByVariableName:"id",defaultSelection:ve},{type:"findMany",operationName:lt,modelApiIdentifier:J,defaultSelection:ve},{type:"findFirst",operationName:lt,modelApiIdentifier:J,defaultSelection:ve},{type:"maybeFindFirst",operationName:lt,modelApiIdentifier:J,defaultSelection:ve},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ve},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:J,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:ve},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ve},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:J,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:ve},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:J,modelSelectionField:lt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ve},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:J,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:ve},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ve},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:J,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:ve}]),et={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},pe="productPairing",Ct="productPairings",js=Me(pe,Ct,et,[{type:"findOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:et},{type:"maybeFindOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:et},{type:"findMany",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"findFirst",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"maybeFindFirst",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:et},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:et},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:et},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:et},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ce={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},ae="shopifySync",ft="shopifySyncs",Fs=Me(ae,ft,Ce,[{type:"findOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:Ce},{type:"maybeFindOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:Ce},{type:"findMany",operationName:ft,modelApiIdentifier:ae,defaultSelection:Ce},{type:"findFirst",operationName:ft,modelApiIdentifier:ae,defaultSelection:Ce},{type:"maybeFindFirst",operationName:ft,modelApiIdentifier:ae,defaultSelection:Ce},{type:"findOne",operationName:ft,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ae,defaultSelection:Ce},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:ae,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:Ce},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:ae,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:Ce},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:ae,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:Ce}]),Ge={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},oe="ambiguous",pt="ambiguouss",Ms=Me(oe,pt,Ge,[{type:"findOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:Ge},{type:"maybeFindOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:Ge},{type:"findMany",operationName:pt,modelApiIdentifier:oe,defaultSelection:Ge},{type:"findFirst",operationName:pt,modelApiIdentifier:oe,defaultSelection:Ge},{type:"maybeFindFirst",operationName:pt,modelApiIdentifier:oe,defaultSelection:Ge},{type:"findOne",operationName:pt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:oe,defaultSelection:Ge},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ge},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:oe,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:Ge},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ge},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:oe,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:Ge},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:oe,modelSelectionField:pt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Le={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},se="unambiguous",yt="unambiguouss",$s=Me(se,yt,Le,[{type:"findOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Le},{type:"maybeFindOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Le},{type:"findMany",operationName:yt,modelApiIdentifier:se,defaultSelection:Le},{type:"findFirst",operationName:yt,modelApiIdentifier:se,defaultSelection:Le},{type:"maybeFindFirst",operationName:yt,modelApiIdentifier:se,defaultSelection:Le},{type:"findOne",operationName:yt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:se,defaultSelection:Le},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Le},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:se,modelSelectionField:yt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:Le},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Le},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:se,modelSelectionField:yt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:Le},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:se,modelSelectionField:yt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),qi={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},Bi="session",qs="sessions",Bs=Me(Bi,qs,qi,[{type:"get",operationName:"currentSession",defaultSelection:qi,modelApiIdentifier:Bi}]);var Aa;const Ui="production",Us="development",Vs=Symbol.for("gadget/modelRelationships"),Gs=()=>{try{return process.env.GADGET_ENV}catch{return}};class Ls{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[Aa]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async o=>await ji(this.connection,"globalShopifySync",{apiKeys:{value:o.apiKeys,required:!1,type:"[String!]"},syncSince:{value:o.syncSince,required:!1,type:"DateTime"},models:{value:o.models,required:!1,type:"[String!]"},force:{value:o.force,required:!1,type:"Boolean"},startReason:{value:o.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await ji(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async o=>await this.connection.transaction(o),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??Gs()??Us).toLocaleLowerCase();let r;this.apiRoots[this.environment]?r=this.apiRoots[this.environment]:r=`https://related-products-example${this.environment==Ui?"":`--${this.environment}`}.gadget.app`;const n={...t==null?void 0:t.exchanges};if(this.environment!==Ui){const o=({forward:s})=>u=>{const l=s(u);return zn(l,Ut(f=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const d=new CustomEvent("gadget:devharness:graphqlresult",{detail:f});window.dispatchEvent(d)}}catch(d){console.warn("[gadget] error dispatching gadget dev harness event",d)}return f}))};n.beforeAll=[o,...n.beforeAll??[]]}if(this.connection=new Ia({endpoint:new URL("api/graphql",r).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:n,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==ie.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new Ps(this.connection),this.session=new Ts(this.connection),this.shopifyProduct=new Cs(this.connection),this.shopifyProductImage=new _s(this.connection),this.shopifyProductOption=new Rs(this.connection),this.shopifyProductVariant=new xs(this.connection),this.shopifyShop=new Ds(this.connection),this.productPairing=new js(this.connection),this.shopifySync=new Fs(this.connection),this.ambiguous=new Ms(this.connection),this.unambiguous=new $s(this.connection),this.currentSession=new Bs(this.connection),this.internal={user:new Ve("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new Ve("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new Ve("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new Ve("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new Ve("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new Ve("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new Ve("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new Ve("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new Ve("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new Ve("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new Ve("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,r,n){const{data:i,error:o}=await this.connection.currentClient.query(t,r,n).toPromise();if(o)throw o;return i}async mutate(t,r,n){const{data:i,error:o}=await this.connection.currentClient.mutation(t,r,n).toPromise();if(o)throw o;return i}async fetch(t,r={}){return await this.connection.fetch(t,r)}async enqueue(t,r,n){jn(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,o;return typeof n<"u"?(i=r,o=n):!t.variables||Object.keys(t.variables).length==0?(i={},o=r):(typeof r=="string"?i={id:r}:i=r,o={}),await Ho(this.connection,t,i,o)}handle(t,r){return new Dr(this.connection,t,r)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}Aa=Vs;var Ea={},Kr=Ie.createContext(Ea),Ws=Kr.Provider;Kr.Consumer;Kr.displayName="UrqlContext";var Na=()=>{var e=Ie.useContext(Kr);if(e===Ea&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},Bn={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},zs=(e,t)=>e===t||!(!e||!t||e.key!==t.key),In=(e,t)=>{var r={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((n,i)=>{for(var o in n)if(!(o in i))return!0;for(var s in i)if(s==="operation"?!zs(n[s],i[s]):n[s]!==i[s])return!0;return!1})(e,r)?r:e},Ks=(e,t)=>{for(var r=0,n=t.length;r<n;r++)if(e[r]!==t[r])return!0;return!1},kn=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Vr(e,t){process.env.NODE_ENV!=="production"&&kn&&kn.ReactCurrentOwner&&kn.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function Ys(e){var t=Ie.useRef(!0),r=Na(),[n,i]=Ie.useState(Bn),o=Ie.useCallback((s,u)=>(Vr(i,{...Bn,fetching:!0}),Gr(Or(1)(ee(l=>!l.hasNext)(Dt(l=>{t.current&&Vr(i,{fetching:!1,stale:l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation})})(r.executeMutation(hr(e,s),u||{})))))),[r,e,i]);return Ie.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),[n,o]}function Js(e,t){var r=Ie.useRef(void 0);return Ie.useMemo(()=>{var n=hr(e,t);return r.current!==void 0&&r.current.key===n.key?r.current:(r.current=n,n)},[e,t])}var Qs=e=>{if(!e._react){var t=new Set,r=new Map;e.operations$&&jt(n=>{n.kind==="teardown"&&t.has(n.key)&&(t.delete(n.key),r.delete(n.key))})(e.operations$),e._react={get:n=>r.get(n),set(n,i){t.delete(n),r.set(n,i)},dispose(n){t.add(n)}}}return e._react},Hs=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function Xs(e){var t=Na(),r=Qs(t),n=Hs(t,e.context),i=Js(e.query,e.variables),o=Ie.useMemo(()=>{if(e.pause)return null;var h=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return n?Dt(m=>{r.set(i.key,m)})(h):h},[r,t,i,n,e.pause,e.requestPolicy,e.context]),s=Ie.useCallback((h,m)=>{if(!h)return{fetching:!1};var v=r.get(i.key);if(v){if(m&&v!=null&&"then"in v)throw v}else{var E,F=jt(I=>{v=I,E&&E(v)})(zi(()=>m&&!E||!v)(h));if(v==null&&m){var R=new Promise(I=>{E=I});throw r.set(i.key,R),R}else F.unsubscribe()}return v||{fetching:!0}},[r,i]),u=[t,i,e.requestPolicy,e.context,e.pause],[l,f]=Ie.useState(()=>[o,In(Bn,s(o,n)),u]),d=l[1];o!==l[0]&&Ks(l[2],u)&&f([o,d=In(l[1],s(o,n)),u]),Ie.useEffect(()=>{var h=l[0],m=l[2][1],v=!1,E=R=>{v=!0,Vr(f,I=>{var U=In(I[1],R);return I[1]!==U?[I[0],U,I[2]]:I})};if(h){var F=jt(E)(Gn(()=>{E({fetching:!1})})(h));return v||E({fetching:!0}),()=>{r.dispose(m.key),F.unsubscribe()}}else E({fetching:!1})},[r,l[0],l[2][1]]);var y=Ie.useCallback(h=>{var m={requestPolicy:e.requestPolicy,...e.context,...h};Vr(f,v=>[n?Dt(E=>{r.set(i.key,E)})(t.executeQuery(i,m)):t.executeQuery(i,m),v[1],u])},[t,r,i,n,s,e.requestPolicy,e.context]);return[d,y]}const si=T.createContext(void 0),Zs=T.createContext(void 0),eu="/",tu="signOut",ru="/";function nu(e){let t,r;if("api"in e){if(!Ma(e.api))throw new Error("Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");t=e.api,r=e.api.connection.currentClient}else if(e.value)r=e.value;else throw new Error("No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");r.suspense=!0;let n=eu,i=tu,o=ru;if("auth"in e){const{auth:s}=e;s!=null&&s.signInPath&&(n=s.signInPath),s!=null&&s.signOutActionApiIdentifier&&(i=s.signOutActionApiIdentifier),s!=null&&s.redirectOnSuccessfulSignInPath&&(o=s.redirectOnSuccessfulSignInPath)}return T.createElement(si.Provider,{value:r},T.createElement(Zs.Provider,{value:{api:t,navigate:e.navigate,auth:{signInPath:n,signOutActionApiIdentifier:i,redirectOnSuccessfulSignInPath:o}}},T.createElement(Ws,{value:r},e.children)))}const Pa="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",iu=(e,t)=>{let r="";return e!==void 0?r=`[Network] ${e.message}`:t!==void 0?t.forEach(n=>{r+=`[GraphQL] ${n.message}
`}):r="Unknown error",r.trim()},au=e=>typeof e=="string"?new wr(e):e!=null&&e.message&&!e.code?new wr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class Rt extends Error{static forClientSideError(t,r){return new Rt({executionErrors:[t],response:r})}static forErrorsResponse(t,r){return new Rt({executionErrors:t.map(Zn),response:r})}static forMaybeCombinedError(t){if(t)return new Rt({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,r,n=!1){const i=qo(t,r);let o=Rt.forMaybeCombinedError(t.error);return!o&&i&&!n&&(o=Rt.forClientSideError(i)),o}constructor({networkError:t,executionErrors:r,response:n}){const i=(r||[]).map(au),o=iu(t,i);super(o),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=o,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=n}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(r=>r.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const ou=e=>{const{context:t,suspense:r,...n}=e??{},i=T.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...n,context:i}},su=(e,t)=>({query:e.query,variables:e.variables,...t}),uu=e=>{if(!T.useContext(si))throw new Error(Pa);const t=ou(e);return Xs(t)};var lu=typeof Element<"u",cu=typeof Map=="function",du=typeof Set=="function",fu=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function jr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!jr(e[n],t[n]))return!1;return!0}var o;if(cu&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!jr(n.value[1],t.get(n.value[0])))return!1;return!0}if(du&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(fu&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(lu&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!jr(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var pu=function(t,r){try{return jr(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const yu=Wi(pu),hu=e=>{const t=T.useRef();return e?(t.current===void 0||!yu(e,t.current))&&(t.current=e):t.current=void 0,t.current},mu=e=>{if(!T.useContext(si))throw new Error(Pa);return Ys(e)},bu=(e,t)=>{const r=hu(t),n=T.useMemo(()=>ri(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,r,e.findMany.namespace),[e,r]),[i,o]=uu(su(n,t));return[T.useMemo(()=>{const u=vt([e.findMany.operationName],e.findMany.namespace);let l=i.data;if(l){const d=zt(i.data,u);if(d){const y=Ir(i,d);l=Kt.boot(e,y,d)}}const f=Rt.errorIfDataAbsent(i,u,t==null?void 0:t.pause);return{...i,data:l,error:f}},[e,t==null?void 0:t.pause,i]),o]};var Un={exports:{}},dr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi;function gu(){if(Vi)return dr;Vi=1;var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return dr.Fragment=r,dr.jsx=s,dr.jsxs=s,dr}var _r={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi;function vu(){return Gi||(Gi=1,process.env.NODE_ENV!=="production"&&function(){var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function F(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];U("error",a,p)}}function U(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,V=!1,Ae=!1,xe;xe=Symbol.for("react.module.reference");function $e(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ae||a===i||a===f||a===d||V||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===xe||a.getModuleId!==void 0))}function re(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function Z(a){return a.displayName||"Context"}function W(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return Z(c)+".Consumer";case s:var p=a;return Z(p._context)+".Provider";case l:return re(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:W(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return W(k(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,D,L,Ee,q,De,qe;function Ke(){}Ke.__reactDisabledLog=!0;function Ye(){{if(M===0){$=console.log,D=console.info,L=console.warn,Ee=console.error,q=console.group,De=console.groupCollapsed,qe=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ke,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function Q(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:D}),warn:N({},a,{value:L}),error:N({},a,{value:Ee}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:De}),groupEnd:N({},a,{value:qe})})}M<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var z=R.ReactCurrentDispatcher,dt;function Be(a,c,p){{if(dt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);dt=g&&g[1]||""}return`
`+dt+a}}var St=!1,it;{var Yr=typeof WeakMap=="function"?WeakMap:Map;it=new Yr}function Yt(a,c){if(!a||St)return"";{var p=it.get(a);if(p!==void 0)return p}var g;St=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=z.current,z.current=null,Ye();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ne){g=ne}Reflect.construct(a,[],k)}else{try{k.call()}catch(ne){g=ne}a.call(k.prototype)}}else{try{throw Error()}catch(ne){g=ne}a()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),B=g.stack.split(`
`),C=w.length-1,_=B.length-1;C>=1&&_>=0&&w[C]!==B[_];)_--;for(;C>=1&&_>=0;C--,_--)if(w[C]!==B[_]){if(C!==1||_!==1)do if(C--,_--,_<0||w[C]!==B[_]){var K=`
`+w[C].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),typeof a=="function"&&it.set(a,K),K}while(C>=1&&_>=0);break}}}finally{St=!1,z.current=A,Q(),Error.prepareStackTrace=O}var Pe=a?a.displayName||a.name:"",sr=Pe?Be(Pe):"";return typeof a=="function"&&it.set(a,sr),sr}function Jr(a,c,p){return Yt(a,!1)}function Qr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function at(a,c,p){if(a==null)return"";if(typeof a=="function")return Yt(a,Qr(a));if(typeof a=="string")return Be(a);switch(a){case f:return Be("Suspense");case d:return Be("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Jr(a.render);case y:return at(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return at(A(O),c,p)}catch{}}}return""}var ot=Object.prototype.hasOwnProperty,Jt={},Qt=R.ReactDebugCurrentFrame;function st(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);Qt.setExtraStackFrame(p)}else Qt.setExtraStackFrame(null)}function Hr(a,c,p,g,O){{var A=Function.call.bind(ot);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var B=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(C){w=C}w&&!(w instanceof Error)&&(st(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),st(null)),w instanceof Error&&!(w.message in Jt)&&(Jt[w.message]=!0,st(O),I("Failed %s type: %s",p,w.message),st(null))}}}var Xr=Array.isArray;function wt(a){return Xr(a)}function Zr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function en(a){try{return Ht(a),!1}catch{return!0}}function Ht(a){return""+a}function Xt(a){if(en(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Zr(a)),Ht(a)}var Ue=R.ReactCurrentOwner,tn={key:!0,ref:!0,__self:!0,__source:!0},Zt,er,It;It={};function rn(a){if(ot.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function nn(a){if(ot.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function an(a,c){if(typeof a.ref=="string"&&Ue.current&&c&&Ue.current.stateNode!==c){var p=W(Ue.current.type);It[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(Ue.current.type),a.ref),It[p]=!0)}}function on(a,c){{var p=function(){Zt||(Zt=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function sn(a,c){{var p=function(){er||(er=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var un=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function ln(a,c,p,g,O){{var A,k={},w=null,B=null;p!==void 0&&(Xt(p),w=""+p),nn(c)&&(Xt(c.key),w=""+c.key),rn(c)&&(B=c.ref,an(c,O));for(A in c)ot.call(c,A)&&!tn.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var C=a.defaultProps;for(A in C)k[A]===void 0&&(k[A]=C[A])}if(w||B){var _=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&on(k,_),B&&sn(k,_)}return un(a,w,B,O,g,Ue.current,k)}}var kt=R.ReactCurrentOwner,tr=R.ReactDebugCurrentFrame;function Ne(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);tr.setExtraStackFrame(p)}else tr.setExtraStackFrame(null)}var Ot;Ot=!1;function At(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function rr(){{if(kt.current){var a=W(kt.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function cn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var nr={};function dn(a){{var c=rr();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function ir(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=dn(c);if(nr[p])return;nr[p]=!0;var g="";a&&a._owner&&a._owner!==kt.current&&(g=" It was passed a child from "+W(a._owner.type)+"."),Ne(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ne(null)}}function ar(a,c){{if(typeof a!="object")return;if(wt(a))for(var p=0;p<a.length;p++){var g=a[p];At(g)&&ir(g,c)}else if(At(a))a._store&&(a._store.validated=!0);else if(a){var O=F(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)At(k.value)&&ir(k.value,c)}}}function fn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=W(c);Hr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!Ot){Ot=!0;var O=W(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ne(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ne(null);break}}a.ref!==null&&(Ne(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ne(null))}}function or(a,c,p,g,O,A){{var k=$e(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=cn(O);B?w+=B:w+=rr();var C;a===null?C="null":wt(a)?C="array":a!==void 0&&a.$$typeof===t?(C="<"+(W(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):C=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",C,w)}var _=ln(a,c,p,O,A);if(_==null)return _;if(k){var K=c.children;if(K!==void 0)if(g)if(wt(K)){for(var Pe=0;Pe<K.length;Pe++)ar(K[Pe],a);Object.freeze&&Object.freeze(K)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ar(K,a)}return a===n?pn(_):fn(_),_}}function yn(a,c,p){return or(a,c,p,!0)}function hn(a,c,p){return or(a,c,p,!1)}var mn=hn,bn=yn;_r.Fragment=n,_r.jsx=mn,_r.jsxs=bn}()),_r}process.env.NODE_ENV==="production"?Un.exports=gu():Un.exports=vu();var Li=Un.exports;const Su=T.forwardRef(function({open:e,onShow:t,onHide:r,children:n,...i},o){const[s,u]=T.useState(),{titleBar:l,modalContent:f}=T.Children.toArray(n).reduce((y,h)=>{const m=typeof h=="object"&&"type"in h?h.type:void 0;return m==="ui-title-bar"||typeof m=="object"&&m.displayName==="ui-title-bar"?{...y,titleBar:h}:(y.modalContent.push(h),y)},{modalContent:[]}),d=s?Ra.createPortal(f,s.content):null;return T.useEffect(()=>{s&&(e?s.show():s.hide())},[s,e]),T.useEffect(()=>{if(!(!s||!t))return s.addEventListener("show",t),()=>{s.removeEventListener("show",t)}},[s,t]),T.useEffect(()=>{if(!(!s||!r))return s.addEventListener("hide",r),()=>{s.removeEventListener("hide",r)}},[s,r]),T.useEffect(()=>{if(s)return()=>{s.hide()}},[s]),Li.jsxs("ui-modal",{...i,ref:y=>{u(y),o&&(typeof o=="function"?o(y):o.current=y)},children:[l,Li.jsx("div",{children:d})]})});Su.displayName="ui-modal";const wu=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function Iu(){if(typeof window>"u")return wu;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}var gt;(function(e){e[e.Standalone=0]="Standalone",e[e.Embedded=1]="Embedded"})(gt||(gt={}));const ku=`
  mutation ShopifyFetchOrInstallShop($shopifySessionToken: String!) {
    shopifyConnection {
      fetchOrInstallShop(shopifySessionToken: $shopifySessionToken) {
        isAuthenticated
        redirectToOauth
        missingScopes
      }
    }
  }
`,Ou=T.memo(({children:e,gadgetAppUrl:t,originalQueryParams:r,api:n,type:i,host:o,isReady:s,isRootFrameRequest:u})=>{const l=Iu(),f=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),d=l.environment.embedded||l.environment.mobile,y=d&&i===gt.Embedded,h=s&&typeof o<"u"&&!y,[m,v]=T.useState({isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!0,appBridge:l,isRootFrameRequest:!1}),[E,F]=T.useState();T.useEffect(()=>{if(!l){console.debug("[gadget-rsab] no app bridge, skipping client auth setup");return}n.connection.setAuthenticationMode({custom:{async processFetch(re,Z){const W=new Headers(Z.headers),N=await l.idToken();W.append("Authorization",`ShopifySessionToken ${N}`),Z.headers??(Z.headers={}),W.forEach(function(M,$){Z.headers[$]=M})},async processTransactionConnectionParams(re){const Z=await l.idToken();re.auth.shopifySessionToken=Z}}}),console.debug("[gadget-rsab] set up client auth for session tokens")},[n.connection,l]);let R=!1,I=!1,U=T.useMemo(()=>[],[]);const b=T.useRef(!1),P=T.useRef(!1),[{data:S,fetching:V,error:Ae},xe]=mu(ku);S&&(console.debug({fetchOrInstallShopData:S},"[gadget-rsab] fetched or installed shop data"),R=S.shopifyConnection.fetchOrInstallShop.redirectToOauth,I=S.shopifyConnection.fetchOrInstallShop.isAuthenticated,U=S.shopifyConnection.fetchOrInstallShop.missingScopes??[]),T.useEffect(()=>{V&&(P.current=!0)},[V]),T.useEffect(()=>{b.current||l&&(b.current=!0,console.debug("[gadget-rsab] getting sessionToken to fetch or install shop"),l.idToken().then(re=>{console.debug("[gadget-rsab] fetching or installing shop"),xe({shopifySessionToken:re}).catch(Z=>{console.error({err:Z},"[gadget-rsab] error fetching or installing shop")})}).catch(F))},[l,xe]),T.useEffect(()=>{if(!R||u)return;const re=new URL("/api/connections/auth/shopify",t);re.search=(r==null?void 0:r.toString())??"";const Z=re.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process",{appType:i,isInstallRequest:f,isEmbedded:d,redirectURL:Z,gadgetAppUrl:t}),open(Z,"_top")},[t,u,r,R]);const $e=h||R||V||!P.current;return T.useEffect(()=>{const re={isAuthenticated:I,isEmbedded:d,canAuth:!!l,loading:$e,appBridge:l,error:Ae||E,isRootFrameRequest:u};return console.debug("[gadget-rsab] context changed",re),v(re)},[$e,d,l,I,Ae,E,u]),T.useEffect(()=>{if(U.length>0&&!R){const re=new CustomEvent("gadget:devharness:rsab.shopifyManagedInstallation.missingScopes",{detail:{missingScopes:U}});globalThis.dispatchEvent(re)}},[R,U]),T.createElement(Ta.Provider,{value:m},e)}),Au=({isRootFrameRequest:e,children:t,query:r,gadgetAppUrl:n,type:i})=>{const o=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),s=o;return T.useEffect(()=>{if(!s||e)return;const u=new URL("/api/connections/auth/shopify",n);u.search=(r==null?void 0:r.toString())??"";const l=u.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process in standalone mode or missing app bridge global",{appType:i,isInstallRequest:o,redirectURL:l,gadgetAppUrl:n}),window.location.assign(l)},[n,e,r,s]),T.createElement(Ta.Provider,{value:{isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!1,appBridge:null,isRootFrameRequest:e}},t)},Eu=({type:e,children:t,api:r})=>{const n=!!(globalThis&&globalThis.shopify),[i,o]=T.useState(null),s=!!i,{query:u}=i??{},l=(u==null?void 0:u.get("host"))??void 0,f=e??gt.Embedded,d=T.useMemo(()=>u,[s]),y=!(u!=null&&u.has("hmac"))&&!(u!=null&&u.has("shop"))&&e==gt.Embedded,h=new URL(r.connection.options.endpoint).origin;if(T.useEffect(()=>{o({asPath:`${window.location.pathname}${window.location.search}`,query:new URLSearchParams(window.location.search)})},[]),console.debug("[gadget-rsab] provider rendering",{host:l,location:i,coalescedType:f,isReady:s}),f==gt.Embedded&&!n&&globalThis.top&&globalThis.top!==globalThis.self){let m;try{const v=document.referrer;m=new URL(v)}catch{const E=new CustomEvent("gadget:devharness:rsab.invalidReferrer",{detail:{url:document.referrer}});globalThis.dispatchEvent(E)}if(m&&m.hostname==="admin.shopify.com")throw new Error("Expected app bridge to be defined in embedded context, but it was not. This is likely due to a missing script tag, see https://shopify.dev/docs/api/app-bridge-library")}if(f===gt.Embedded&&globalThis.top===globalThis.self){const m=new CustomEvent("gadget:devharness:rsab.embeddedInRootContext");globalThis.dispatchEvent(m)}return T.createElement(nu,{api:r},f===gt.Embedded&&n?T.createElement(Ou,{gadgetAppUrl:h,api:r,originalQueryParams:d,type:f,host:l,isReady:s,isRootFrameRequest:y},t):T.createElement(Au,{isRootFrameRequest:y,query:u,type:f,gadgetAppUrl:h},t))},Ta=T.createContext({loading:!0,isEmbedded:!1,isAuthenticated:!1,canAuth:!1,appBridge:null,isRootFrameRequest:!1}),Ca=new Ls,_a=()=>{const[{data:e}]=bu(Ca.shopifyProduct);return Fr.jsx(Fr.Fragment,{children:JSON.stringify(e)})},Nu=()=>Fr.jsx(Eu,{api:Ca,shopifyApiKey:"deadbeef",children:Fr.jsx(_a,{})});exports.App=Nu;exports.Reader=_a;exports.commonjsGlobal=Da;exports.getDefaultExportFromCjs=Wi;
