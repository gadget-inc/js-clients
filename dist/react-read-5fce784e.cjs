"use strict";const Ue=require("react");function Sa(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const $e=Sa(Ue);var wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dr={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn;function Ia(){if(xn)return jt;xn=1;var e=Ue,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,d){var c,f={},y=null,h=null;d!==void 0&&(y=""+d),l.key!==void 0&&(y=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)n.call(l,c)&&!a.hasOwnProperty(c)&&(f[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)f[c]===void 0&&(f[c]=l[c]);return{$$typeof:t,type:s,key:y,ref:h,props:f,_owner:i.current}}return jt.Fragment=r,jt.jsx=o,jt.jsxs=o,jt}var Mt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn;function Aa(){return Rn||(Rn=1,process.env.NODE_ENV!=="production"&&function(){var e=Ue,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),b=Symbol.iterator,w="@@iterator";function _(u){if(u===null||typeof u!="object")return null;var p=b&&u[b]||u[w];return typeof p=="function"?p:null}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function S(u){{for(var p=arguments.length,v=new Array(p>1?p-1:0),I=1;I<p;I++)v[I-1]=arguments[I];V("error",u,v)}}function V(u,p,v){{var I=M.ReactDebugCurrentFrame,x=I.getStackAddendum();x!==""&&(p+="%s",v=v.concat([x]));var j=v.map(function(C){return String(C)});j.unshift("Warning: "+p),Function.prototype.apply.call(console[u],console,j)}}var m=!1,A=!1,g=!1,U=!1,Je=!1,bt;bt=Symbol.for("react.module.reference");function vt(u){return!!(typeof u=="string"||typeof u=="function"||u===n||u===a||Je||u===i||u===d||u===c||U||u===h||m||A||g||typeof u=="object"&&u!==null&&(u.$$typeof===y||u.$$typeof===f||u.$$typeof===o||u.$$typeof===s||u.$$typeof===l||u.$$typeof===bt||u.getModuleId!==void 0))}function Zt(u,p,v){var I=u.displayName;if(I)return I;var x=p.displayName||p.name||"";return x!==""?v+"("+x+")":v}function Dt(u){return u.displayName||"Context"}function Ae(u){if(u==null)return null;if(typeof u.tag=="number"&&S("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case n:return"Fragment";case r:return"Portal";case a:return"Profiler";case i:return"StrictMode";case d:return"Suspense";case c:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case s:var p=u;return Dt(p)+".Consumer";case o:var v=u;return Dt(v._context)+".Provider";case l:return Zt(u,u.render,"ForwardRef");case f:var I=u.displayName||null;return I!==null?I:Ae(u.type)||"Memo";case y:{var x=u,j=x._payload,C=x._init;try{return Ae(C(j))}catch{return null}}}return null}var k=Object.assign,q=0,F,T,$,Re,R,Le,Ye;function ot(){}ot.__reactDisabledLog=!0;function He(){{if(q===0){F=console.log,T=console.info,$=console.warn,Re=console.error,R=console.group,Le=console.groupCollapsed,Ye=console.groupEnd;var u={configurable:!0,enumerable:!0,value:ot,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}q++}}function Y(){{if(q--,q===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},u,{value:F}),info:k({},u,{value:T}),warn:k({},u,{value:$}),error:k({},u,{value:Re}),group:k({},u,{value:R}),groupCollapsed:k({},u,{value:Le}),groupEnd:k({},u,{value:Ye})})}q<0&&S("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var L=M.ReactCurrentDispatcher,Xt;function gt(u,p,v){{if(Xt===void 0)try{throw Error()}catch(x){var I=x.stack.trim().match(/\n( *(at )?)/);Xt=I&&I[1]||""}return`
`+Xt+u}}var Ir=!1,er;{var Hi=typeof WeakMap=="function"?WeakMap:Map;er=new Hi}function vn(u,p){if(!u||Ir)return"";{var v=er.get(u);if(v!==void 0)return v}var I;Ir=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var j;j=L.current,L.current=null,He();try{if(p){var C=function(){throw Error()};if(Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(ze){I=ze}Reflect.construct(u,[],C)}else{try{C.call()}catch(ze){I=ze}u.call(C.prototype)}}else{try{throw Error()}catch(ze){I=ze}u()}}catch(ze){if(ze&&I&&typeof ze.stack=="string"){for(var P=ze.stack.split(`
`),le=I.stack.split(`
`),z=P.length-1,K=le.length-1;z>=1&&K>=0&&P[z]!==le[K];)K--;for(;z>=1&&K>=0;z--,K--)if(P[z]!==le[K]){if(z!==1||K!==1)do if(z--,K--,K<0||P[z]!==le[K]){var ke=`
`+P[z].replace(" at new "," at ");return u.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",u.displayName)),typeof u=="function"&&er.set(u,ke),ke}while(z>=1&&K>=0);break}}}finally{Ir=!1,L.current=j,Y(),Error.prepareStackTrace=x}var wt=u?u.displayName||u.name:"",_n=wt?gt(wt):"";return typeof u=="function"&&er.set(u,_n),_n}function Zi(u,p,v){return vn(u,!1)}function Xi(u){var p=u.prototype;return!!(p&&p.isReactComponent)}function tr(u,p,v){if(u==null)return"";if(typeof u=="function")return vn(u,Xi(u));if(typeof u=="string")return gt(u);switch(u){case d:return gt("Suspense");case c:return gt("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case l:return Zi(u.render);case f:return tr(u.type,p,v);case y:{var I=u,x=I._payload,j=I._init;try{return tr(j(x),p,v)}catch{}}}return""}var rr=Object.prototype.hasOwnProperty,gn={},Sn=M.ReactDebugCurrentFrame;function nr(u){if(u){var p=u._owner,v=tr(u.type,u._source,p?p.type:null);Sn.setExtraStackFrame(v)}else Sn.setExtraStackFrame(null)}function ea(u,p,v,I,x){{var j=Function.call.bind(rr);for(var C in u)if(j(u,C)){var P=void 0;try{if(typeof u[C]!="function"){var le=Error((I||"React class")+": "+v+" type `"+C+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[C]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw le.name="Invariant Violation",le}P=u[C](p,C,I,v,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(z){P=z}P&&!(P instanceof Error)&&(nr(x),S("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",I||"React class",v,C,typeof P),nr(null)),P instanceof Error&&!(P.message in gn)&&(gn[P.message]=!0,nr(x),S("Failed %s type: %s",v,P.message),nr(null))}}}var ta=Array.isArray;function Ar(u){return ta(u)}function ra(u){{var p=typeof Symbol=="function"&&Symbol.toStringTag,v=p&&u[Symbol.toStringTag]||u.constructor.name||"Object";return v}}function na(u){try{return wn(u),!1}catch{return!0}}function wn(u){return""+u}function In(u){if(na(u))return S("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ra(u)),wn(u)}var Ft=M.ReactCurrentOwner,ia={key:!0,ref:!0,__self:!0,__source:!0},An,kn,kr;kr={};function aa(u){if(rr.call(u,"ref")){var p=Object.getOwnPropertyDescriptor(u,"ref").get;if(p&&p.isReactWarning)return!1}return u.ref!==void 0}function oa(u){if(rr.call(u,"key")){var p=Object.getOwnPropertyDescriptor(u,"key").get;if(p&&p.isReactWarning)return!1}return u.key!==void 0}function sa(u,p){if(typeof u.ref=="string"&&Ft.current&&p&&Ft.current.stateNode!==p){var v=Ae(Ft.current.type);kr[v]||(S('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Ae(Ft.current.type),u.ref),kr[v]=!0)}}function ua(u,p){{var v=function(){An||(An=!0,S("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))};v.isReactWarning=!0,Object.defineProperty(u,"key",{get:v,configurable:!0})}}function la(u,p){{var v=function(){kn||(kn=!0,S("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",p))};v.isReactWarning=!0,Object.defineProperty(u,"ref",{get:v,configurable:!0})}}var ca=function(u,p,v,I,x,j,C){var P={$$typeof:t,type:u,key:p,ref:v,props:C,_owner:j};return P._store={},Object.defineProperty(P._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(P,"_self",{configurable:!1,enumerable:!1,writable:!1,value:I}),Object.defineProperty(P,"_source",{configurable:!1,enumerable:!1,writable:!1,value:x}),Object.freeze&&(Object.freeze(P.props),Object.freeze(P)),P};function da(u,p,v,I,x){{var j,C={},P=null,le=null;v!==void 0&&(In(v),P=""+v),oa(p)&&(In(p.key),P=""+p.key),aa(p)&&(le=p.ref,sa(p,x));for(j in p)rr.call(p,j)&&!ia.hasOwnProperty(j)&&(C[j]=p[j]);if(u&&u.defaultProps){var z=u.defaultProps;for(j in z)C[j]===void 0&&(C[j]=z[j])}if(P||le){var K=typeof u=="function"?u.displayName||u.name||"Unknown":u;P&&ua(C,K),le&&la(C,K)}return ca(u,P,le,x,I,Ft.current,C)}}var Or=M.ReactCurrentOwner,On=M.ReactDebugCurrentFrame;function St(u){if(u){var p=u._owner,v=tr(u.type,u._source,p?p.type:null);On.setExtraStackFrame(v)}else On.setExtraStackFrame(null)}var Nr;Nr=!1;function Er(u){return typeof u=="object"&&u!==null&&u.$$typeof===t}function Nn(){{if(Or.current){var u=Ae(Or.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function fa(u){{if(u!==void 0){var p=u.fileName.replace(/^.*[\\\/]/,""),v=u.lineNumber;return`

Check your code at `+p+":"+v+"."}return""}}var En={};function pa(u){{var p=Nn();if(!p){var v=typeof u=="string"?u:u.displayName||u.name;v&&(p=`

Check the top-level render call using <`+v+">.")}return p}}function Pn(u,p){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var v=pa(p);if(En[v])return;En[v]=!0;var I="";u&&u._owner&&u._owner!==Or.current&&(I=" It was passed a child from "+Ae(u._owner.type)+"."),St(u),S('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',v,I),St(null)}}function Tn(u,p){{if(typeof u!="object")return;if(Ar(u))for(var v=0;v<u.length;v++){var I=u[v];Er(I)&&Pn(I,p)}else if(Er(u))u._store&&(u._store.validated=!0);else if(u){var x=_(u);if(typeof x=="function"&&x!==u.entries)for(var j=x.call(u),C;!(C=j.next()).done;)Er(C.value)&&Pn(C.value,p)}}}function ya(u){{var p=u.type;if(p==null||typeof p=="string")return;var v;if(typeof p=="function")v=p.propTypes;else if(typeof p=="object"&&(p.$$typeof===l||p.$$typeof===f))v=p.propTypes;else return;if(v){var I=Ae(p);ea(v,u.props,"prop",I,u)}else if(p.PropTypes!==void 0&&!Nr){Nr=!0;var x=Ae(p);S("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",x||"Unknown")}typeof p.getDefaultProps=="function"&&!p.getDefaultProps.isReactClassApproved&&S("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ma(u){{for(var p=Object.keys(u.props),v=0;v<p.length;v++){var I=p[v];if(I!=="children"&&I!=="key"){St(u),S("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",I),St(null);break}}u.ref!==null&&(St(u),S("Invalid attribute `ref` supplied to `React.Fragment`."),St(null))}}function Cn(u,p,v,I,x,j){{var C=vt(u);if(!C){var P="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(P+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var le=fa(x);le?P+=le:P+=Nn();var z;u===null?z="null":Ar(u)?z="array":u!==void 0&&u.$$typeof===t?(z="<"+(Ae(u.type)||"Unknown")+" />",P=" Did you accidentally export a JSX literal instead of a component?"):z=typeof u,S("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",z,P)}var K=da(u,p,v,x,j);if(K==null)return K;if(C){var ke=p.children;if(ke!==void 0)if(I)if(Ar(ke)){for(var wt=0;wt<ke.length;wt++)Tn(ke[wt],u);Object.freeze&&Object.freeze(ke)}else S("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Tn(ke,u)}return u===n?ma(K):ya(K),K}}function ha(u,p,v){return Cn(u,p,v,!0)}function ba(u,p,v){return Cn(u,p,v,!1)}var va=ba,ga=ha;Mt.Fragment=n,Mt.jsx=va,Mt.jsxs=ga}()),Mt}process.env.NODE_ENV==="production"?Dr.exports=Ia():Dr.exports=Aa();var Dn=Dr.exports,Hr=()=>{},be=Hr;function xe(e){return{tag:0,0:e}}function Jt(e){return{tag:1,0:e}}var ka=e=>e;function Z(e){return t=>r=>{var n=be;t(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):e(i[0])?r(i):n(0)})}}function Nt(e){return t=>r=>t(n=>{n===0||n.tag===0?r(n):r(Jt(e(n[0])))})}function zt(e){return t=>r=>{var n=[],i=be,a=!1,o=!1;t(s=>{o||(s===0?(o=!0,n.length||r(0)):s.tag===0?i=s[0]:(a=!1,function(d){var c=be;d(f=>{if(f===0){if(n.length){var y=n.indexOf(c);y>-1&&(n=n.slice()).splice(y,1),n.length||(o?r(0):a||(a=!0,i(0)))}}else f.tag===0?(n.push(c=f[0]),c(0)):n.length&&(r(f),c(0))})}(e(s[0])),a||(a=!0,i(0))))}),r(xe(s=>{if(s===1){o||(o=!0,i(1));for(var l=0,d=n,c=n.length;l<c;l++)d[l](1);n.length=0}else{!o&&!a?(a=!0,i(0)):a=!1;for(var f=0,y=n,h=n.length;f<h;f++)y[f](0)}}))}}function Oa(e){return zt(ka)(e)}function Et(e){return Oa(Pa(e))}function Zr(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0),e();else if(i.tag===0){var a=i[0];r(xe(o=>{o===1?(n=!0,a(1),e()):a(o)}))}else r(i)})}}function Pt(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var a=i[0];r(xe(o=>{o===1&&(n=!0),a(o)}))}else e(i[0]),r(i)})}}function Fn(e){return t=>r=>t(n=>{n===0?r(0):n.tag===0?(r(n),e()):r(n)})}function Wt(e){var t=[],r=be,n=!1;return i=>{t.push(i),t.length===1&&e(a=>{if(a===0){for(var o=0,s=t,l=t.length;o<l;o++)s[o](0);t.length=0}else if(a.tag===0)r=a[0];else{n=!1;for(var d=0,c=t,f=t.length;d<f;d++)c[d](a)}}),i(xe(a=>{if(a===1){var o=t.indexOf(i);o>-1&&(t=t.slice()).splice(o,1),t.length||r(1)}else n||(n=!0,r(0))}))}}function jn(e){return t=>r=>{var n=be,i=be,a=!1,o=!1,s=!1,l=!1;t(d=>{l||(d===0?(l=!0,s||r(0)):d.tag===0?n=d[0]:(s&&(i(1),i=be),a?a=!1:(a=!0,n(0)),function(f){s=!0,f(y=>{s&&(y===0?(s=!1,l?r(0):a||(a=!0,n(0))):y.tag===0?(o=!1,(i=y[0])(0)):(r(y),o?o=!1:i(0)))})}(e(d[0]))))}),r(xe(d=>{d===1?(l||(l=!0,n(1)),s&&(s=!1,i(1))):(!l&&!a&&(a=!0,n(0)),s&&!o&&(o=!0,i(0)))}))}}function br(e){return t=>r=>{var n=be,i=!1,a=0;t(o=>{i||(o===0?(i=!0,r(0)):o.tag===0?e<=0?(i=!0,r(0),o[0](1)):n=o[0]:a++<e?(r(o),!i&&a>=e&&(i=!0,r(0),n(1))):r(o))}),r(xe(o=>{o===1&&!i?(i=!0,n(1)):o===0&&!i&&a<e&&n(0)}))}}function Xr(e){return t=>r=>{var n=be,i=be,a=!1;t(o=>{a||(o===0?(a=!0,i(1),r(0)):o.tag===0?(n=o[0],e(s=>{s===0||(s.tag===0?(i=s[0])(0):(a=!0,i(1),n(1),r(0)))})):r(o))}),r(xe(o=>{o===1&&!a?(a=!0,n(1),i(1)):a||n(0)}))}}function hi(e,t){return r=>n=>{var i=be,a=!1;r(o=>{a||(o===0?(a=!0,n(0)):o.tag===0?(i=o[0],n(o)):e(o[0])?n(o):(a=!0,t&&n(o),n(0),i(1)))})}}function Na(e){return t=>e()(t)}function bi(e){return t=>{var r=e[Symbol.asyncIterator](),n=!1,i=!1,a=!1,o;t(xe(async s=>{if(s===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((o=await r.next()).done)n=!0,r.return&&await r.return(),t(0);else try{a=!1,t(Jt(o.value))}catch(l){if(r.throw)(n=!!(await r.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Ea(e){return e[Symbol.asyncIterator]?bi(e):t=>{var r=e[Symbol.iterator](),n=!1,i=!1,a=!1,o;t(xe(s=>{if(s===1)n=!0,r.return&&r.return();else if(i)a=!0;else{for(a=i=!0;a&&!n;)if((o=r.next()).done)n=!0,r.return&&r.return(),t(0);else try{a=!1,t(Jt(o.value))}catch(l){if(r.throw)(n=!!r.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Pa=Ea;function Vt(e){return t=>{var r=!1;t(xe(n=>{n===1?r=!0:r||(r=!0,t(Jt(e)),t(0))}))}}function en(e){return t=>{var r=!1,n=e({next(i){r||t(Jt(i))},complete(){r||(r=!0,t(0))}});t(xe(i=>{i===1&&!r&&(r=!0,n())}))}}function Mn(){var e,t;return{source:Wt(en(r=>(e=r.next,t=r.complete,Hr))),next(r){e&&e(r)},complete(){t&&t()}}}function qn(e){return en(t=>(e.then(r=>{Promise.resolve(r).then(()=>{t.next(r),t.complete()})}),Hr))}function mt(e){return t=>{var r=be,n=!1;return t(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(e(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function Ta(e){mt(t=>{})(e)}var Pr={done:!0},Ca=e=>({[Symbol.asyncIterator](){var t=[],r=!1,n=be,i;return e(a=>{r||(a===0?(i&&(i=i(Pr)),r=!0):a.tag===0?(n=a[0])(0):i?i=i({value:a[0],done:!1}):t.push(a[0]))}),{async next(){return r&&!t.length?Pr:(!r&&t.length<=1&&n(0),t.length?{value:t.shift(),done:!1}:new Promise(a=>i=a))},async return(){return r||(i=n(1)),r=!0,Pr}}}});function tn(e){return new Promise(t=>{var r=be,n;e(i=>{i===0?Promise.resolve(n).then(t):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var rn=(...e)=>{for(var t=e[0],r=1,n=e.length;r<n;r++)t=e[r](t);return t},Ot={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class Qt extends Error{constructor(t,r,n,i,a,o,s){super(t),this.name="GraphQLError",this.message=t,a&&(this.path=a),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),o&&(this.originalError=o);var l=s;if(!l&&o){var d=o.extensions;d&&typeof d=="object"&&(l=d)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var B,O;function J(e){return new Qt(`Syntax Error: Unexpected token at ${O} in ${e}`)}function we(e){if(e.lastIndex=O,e.test(B))return B.slice(O,O=e.lastIndex)}var ir=/ +(?=[^\s])/y;function _a(e){for(var t=e.split(`
`),r="",n=0,i=0,a=t.length-1,o=0;o<t.length;o++)ir.lastIndex=0,ir.test(t[o])&&(o&&(!n||ir.lastIndex<n)&&(n=ir.lastIndex),i=i||o,a=o);for(var s=i;s<=a;s++)s!==i&&(r+=`
`),r+=t[s].slice(n).replace(/\\"""/g,'"""');return r}function E(){for(var e=0|B.charCodeAt(O++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|B.charCodeAt(O++))if(e===35)for(;(e=B.charCodeAt(O++))!==10&&e!==13;);O--}var vi=/[_A-Za-z]\w*/y;function Ge(){var e;if(e=we(vi))return{kind:"Name",value:e}}var xa=/(?:null|true|false)/y,gi=/\$[_A-Za-z]\w*/y,Ra=/-?\d+/y,Da=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Fa=/\\/g,ja=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,Ma=/"(?:"|[^\r\n]*?[^\\]")/y;function fr(e){var t,r;if(r=we(xa))t=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!e&&(r=we(gi)))t={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=we(Ra)){var n=r;(r=we(Da))?t={kind:"FloatValue",value:n+r}:t={kind:"IntValue",value:n}}else if(r=we(vi))t={kind:"EnumValue",value:r};else if(r=we(ja))t={kind:"StringValue",value:_a(r.slice(3,-3)),block:!0};else if(r=we(Ma))t={kind:"StringValue",value:Fa.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(t=function(a){var o;if(B.charCodeAt(O)===91){O++,E();for(var s=[];o=fr(a);)s.push(o);if(B.charCodeAt(O++)!==93)throw J("ListValue");return E(),{kind:"ListValue",values:s}}}(e)||function(a){if(B.charCodeAt(O)===123){O++,E();for(var o=[],s;s=Ge();){if(E(),B.charCodeAt(O++)!==58)throw J("ObjectField");E();var l=fr(a);if(!l)throw J("ObjectField");o.push({kind:"ObjectField",name:s,value:l})}if(B.charCodeAt(O++)!==125)throw J("ObjectValue");return E(),{kind:"ObjectValue",fields:o}}}(e))return t;return E(),t}function Si(e){var t=[];if(E(),B.charCodeAt(O)===40){O++,E();for(var r;r=Ge();){if(E(),B.charCodeAt(O++)!==58)throw J("Argument");E();var n=fr(e);if(!n)throw J("Argument");t.push({kind:"Argument",name:r,value:n})}if(!t.length||B.charCodeAt(O++)!==41)throw J("Argument");E()}return t}function Tt(e){var t=[];for(E();B.charCodeAt(O)===64;){O++;var r=Ge();if(!r)throw J("Directive");E(),t.push({kind:"Directive",name:r,arguments:Si(e)})}return t}function qa(){var e=Ge();if(e){E();var t;if(B.charCodeAt(O)===58){if(O++,E(),t=e,!(e=Ge()))throw J("Field");E()}return{kind:"Field",alias:t,name:e,arguments:Si(!1),directives:Tt(!1),selectionSet:vr()}}}function wi(){var e;if(E(),B.charCodeAt(O)===91){O++,E();var t=wi();if(!t||B.charCodeAt(O++)!==93)throw J("ListType");e={kind:"ListType",type:t}}else if(e=Ge())e={kind:"NamedType",name:e};else throw J("NamedType");return E(),B.charCodeAt(O)===33?(O++,E(),{kind:"NonNullType",type:e}):e}var Ba=/on/y;function Ii(){if(we(Ba)){E();var e=Ge();if(!e)throw J("NamedType");return E(),{kind:"NamedType",name:e}}}var $a=/\.\.\./y;function Va(){if(we($a)){E();var e=O,t;if((t=Ge())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:Tt(!1)};O=e;var r=Ii(),n=Tt(!1),i=vr();if(!i)throw J("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function vr(){var e;if(E(),B.charCodeAt(O)===123){O++,E();for(var t=[];e=Va()||qa();)t.push(e);if(!t.length||B.charCodeAt(O++)!==125)throw J("SelectionSet");return E(),{kind:"SelectionSet",selections:t}}}var Ua=/fragment/y;function Ga(){if(we(Ua)){E();var e=Ge();if(!e)throw J("FragmentDefinition");E();var t=Ii();if(!t)throw J("FragmentDefinition");var r=Tt(!1),n=vr();if(!n)throw J("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:r,selectionSet:n}}}var La=/(?:query|mutation|subscription)/y;function za(){var e,t,r=[],n=[];(e=we(La))&&(E(),t=Ge(),r=function(){var o,s=[];if(E(),B.charCodeAt(O)===40){for(O++,E();o=we(gi);){if(E(),B.charCodeAt(O++)!==58)throw J("VariableDefinition");var l=wi(),d=void 0;if(B.charCodeAt(O)===61&&(O++,E(),!(d=fr(!0))))throw J("VariableDefinition");E(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:o.slice(1)}},type:l,defaultValue:d,directives:Tt(!0)})}if(B.charCodeAt(O++)!==41)throw J("VariableDefinition");E()}return s}(),n=Tt(!1));var i=vr();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:r,directives:n,selectionSet:i}}function Wa(e,t){return B=typeof e.body=="string"?e.body:e,O=0,function(){var n;E();for(var i=[];n=Ga()||za();)i.push(n);return{kind:"Document",definitions:i}}()}function Qa(e){return JSON.stringify(e)}function Ka(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var Oe=e=>!(!e||!e.length),ue={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!Oe(e.variableDefinitions)&&!Oe(e.directives))return ue.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),Oe(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(ue.VariableDefinition).join(", ")+")"),Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),t+" "+ue.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=ue.Variable(e.variable)+": "+Ne(e.type);return e.defaultValue&&(t+=" = "+Ne(e.defaultValue)),Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(Oe(e.arguments)){var r=e.arguments.map(ue.Argument),n=t+"("+r.join(", ")+")";t=n.length>80?t+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),e.selectionSet?t+" "+ue.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?Ka(e.value):Qa(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Ne).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(ue.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Ne(e.value),Document:e=>Oe(e.definitions)?e.definitions.map(Ne).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Ne).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Ne(e.value),FragmentSpread(e){var t="..."+e.name.value;return Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),t+" "+Ne(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,Oe(e.directives)&&(t+=" "+e.directives.map(ue.Directive).join(" ")),t+" "+Ne(e.selectionSet)},Directive(e){var t="@"+e.name.value;return Oe(e.arguments)&&(t+="("+e.arguments.map(ue.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Ne(e.type)+"]",NonNullType:e=>Ne(e.type)+"!"};function Ne(e){return ue[e.kind]?ue[e.kind](e):""}var Ja=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new Qt(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Qt(e);class Yt extends Error{constructor(t){var r=(t.graphQLErrors||[]).map(Ja),n=((i,a)=>{var o="";if(i)return`[Network] ${i.message}`;if(a)for(var s of a)o&&(o+=`
`),o+=`[GraphQL] ${s.message}`;return o})(t.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var Fr=(e,t)=>{for(var r=0|(t||5381),n=0,i=0|e.length;n<i;n++)r=(r<<5)+r+e.charCodeAt(n);return r},yt=new Set,Bn=new WeakMap,At=e=>{if(e===null||yt.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return At(e.toJSON());if(Array.isArray(e)){var t="[";for(var r of e)t.length>1&&(t+=","),t+=At(r)||"null";return t+="]"}else if(yr!==Ct&&e instanceof yr||mr!==Ct&&e instanceof mr)return"null";var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var i=Bn.get(e)||Math.random().toString(36).slice(2);return Bn.set(e,i),At({__key:i})}yt.add(e);var a="{";for(var o of n){var s=At(e[o]);s&&(a.length>1&&(a+=","),a+=At(o)+":"+s)}return yt.delete(e),a+="}"},jr=(e,t,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||yt.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)jr(e,`${t}.${n}`,r[n]);else if(r instanceof yr||r instanceof mr)e.set(t,r);else{yt.add(r);for(var a of Object.keys(r))jr(e,`${t}.${a}`,r[a])}},pr=e=>(yt.clear(),At(e));class Ct{}var yr=typeof File<"u"?File:Ct,mr=typeof Blob<"u"?Blob:Ct,Ya=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,Ha=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,Za=(e,t)=>t%2==0?e.replace(Ha,`
`):e,$n=e=>e.split(Ya).map(Za).join("").trim(),Vn=new Map,ur=new Map,nn=e=>{var t;return typeof e=="string"?t=$n(e):e.loc&&ur.get(e.__key)===e?t=e.loc.source.body:(t=Vn.get(e)||$n(Ne(e)),Vn.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},Un=e=>{var t=Fr(nn(e));if(e.definitions){var r=ki(e);r&&(t=Fr(`
# ${r}`,t))}return t},Ai=e=>{var t,r;return typeof e=="string"?(t=Un(e),r=ur.get(t)||Wa(e)):(t=e.__key||Un(e),r=ur.get(t)||e),r.loc||nn(r),r.__key=t,ur.set(t,r),r},lr=(e,t,r)=>{var n=t||{},i=Ai(e),a=pr(n),o=i.__key;return a!=="{}"&&(o=Fr(a,o)),{key:o,query:i,variables:n,extensions:r}},ki=e=>{for(var t of e.definitions)if(t.kind===Ot.OPERATION_DEFINITION)return t.name?t.name.value:void 0},Xa=e=>{for(var t of e.definitions)if(t.kind===Ot.OPERATION_DEFINITION)return t.operation},Mr=(e,t,r)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new Yt({graphQLErrors:t.errors,response:r}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?n:t.hasNext,stale:!1}},qr=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var r of Object.keys(t))e[r]=qr(e[r],t[r]);return e}return t},Br=(e,t,r)=>{var n=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,a={...e.extensions,...t.extensions},o=t.incremental;"path"in t&&(o=[t]);var s={data:e.data};if(o)for(var l of o){Array.isArray(l.errors)&&n.push(...l.errors),l.extensions&&(Object.assign(a,l.extensions),i=!0);for(var d="data",c=s,f=0,y=l.path.length;f<y;d=l.path[f++])c=c[d]=Array.isArray(c[d])?[...c[d]]:{...c[d]};if(l.items)for(var h=+d>=0?d:0,b=0,w=l.items.length;b<w;b++)c[h+b]=qr(c[h+b],l.items[b]);else l.data!==void 0&&(c[d]=qr(c[d],l.data))}else s.data=t.data||e.data,n=t.errors||n;return{operation:e.operation,data:s.data,error:n.length?new Yt({graphQLErrors:n,response:r}):void 0,extensions:i?a:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},Oi=(e,t,r)=>({operation:e,data:void 0,error:new Yt({networkError:t,response:r}),extensions:void 0,hasNext:!1,stale:!1});function Ni(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:nn(e.query),operationName:ki(e.query),variables:e.variables||void 0,extensions:e.extensions}}var eo=(e,t)=>{var r=e.kind==="query"&&e.context.preferGetMethod;if(!r||!t)return e.context.url;var n=new URL(e.context.url);for(var i in t){var a=t[i];a&&n.searchParams.set(i,typeof a=="object"?pr(a):a)}var o=n.toString();return o.length>2047&&r!=="force"?(e.context.preferGetMethod=!1,e.context.url):o},to=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var r=pr(t),n=(s=>{var l=new Map;return(yr!==Ct||mr!==Ct)&&(yt.clear(),jr(l,"variables",s)),l})(t.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",pr({...[...n.keys()].map(s=>[s])}));var a=0;for(var o of n.values())i.append(""+a++,o);return i}return r}},ro=(e,t)=>{var r={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var a=to(e,t);return typeof a=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:a?"POST":"GET",body:a,headers:r}},no=typeof TextDecoder<"u"?new TextDecoder:null,io=/boundary="?([^=";]+)"?/i,ao=/data: ?([^\n]+)/,Gn=e=>e.constructor.name==="Buffer"?e.toString():no.decode(e);async function*Ln(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield Gn(t);else{var r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield Gn(n.value)}finally{r.cancel()}}}async function*zn(e,t){var r="",n;for await(var i of e)for(r+=i;(n=r.indexOf(t))>-1;)yield r.slice(0,n),r=r.slice(n+t.length)}async function*oo(e,t,r){var n=!0,i=null,a;try{yield await Promise.resolve();var o=(a=await(e.context.fetch||fetch)(t,r)).headers.get("Content-Type")||"",s;if(/multipart\/mixed/i.test(o))s=async function*(c,f){var y=c.match(io),h="--"+(y?y[1]:"-"),b=!0,w;for await(var _ of zn(Ln(f),`\r
`+h)){if(b){b=!1;var M=_.indexOf(h);if(M>-1)_=_.slice(M+h.length);else continue}try{yield w=JSON.parse(_.slice(_.indexOf(`\r
\r
`)+4))}catch(S){if(!w)throw S}if(w&&w.hasNext===!1)break}w&&w.hasNext!==!1&&(yield{hasNext:!1})}(o,a);else if(/text\/event-stream/i.test(o))s=async function*(c){var f;for await(var y of zn(Ln(c),`

`)){var h=y.match(ao);if(h){var b=h[1];try{yield f=JSON.parse(b)}catch(w){if(!f)throw w}if(f&&f.hasNext===!1)break}}f&&f.hasNext!==!1&&(yield{hasNext:!1})}(a);else if(!/text\//i.test(o))s=async function*(c){yield JSON.parse(await c.text())}(a);else throw new Error(await a.text());for await(var l of s)i=i?Br(i,l,a):Mr(e,l,a),n=!1,yield i,n=!0;i||(yield i=Mr(e,{},a))}catch(d){if(!n)throw d;yield Oi(e,a&&(a.status<200||a.status>=300)&&a.statusText?new Error(a.statusText):d,a)}}function so(e,t,r){var n;return typeof AbortController<"u"&&(r.signal=(n=new AbortController).signal),Zr(()=>{n&&n.abort()})(Z(i=>!!i)(bi(oo(e,t,r))))}var $r=(e,t)=>{if(Array.isArray(e))for(var r of e)$r(r,t);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?t.add(e[n]):$r(e[n],t);return t},Vr=e=>{var t=!1;if("definitions"in e){var r=[];for(var n of e.definitions){var i=Vr(n);t=t||i!==n,r.push(i)}if(t)return{...e,definitions:r}}else if("selectionSet"in e){var a=[],o=e.kind===Ot.OPERATION_DEFINITION;if(e.selectionSet){for(var s of e.selectionSet.selections||[]){o=o||s.kind===Ot.FIELD&&s.name.value==="__typename"&&!s.alias;var l=Vr(s);t=t||l!==s,a.push(l)}if(o||(t=!0,a.push({kind:Ot.FIELD,name:{kind:Ot.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:a}}}}return e},Wn=new Map,uo=e=>{var t=Ai(e),r=Wn.get(t.__key);return r||(Wn.set(t.__key,r=Vr(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},Ur=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Ur(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var r={};for(var n in e)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=Ur(e[n]);return r}else return e};function Qn(e){var t=r=>e(r);return t.toPromise=()=>tn(br(1)(Z(r=>!r.stale&&!r.hasNext)(t))),t.then=(r,n)=>t.toPromise().then(r,n),t.subscribe=r=>mt(r)(t),t}function _t(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var Kn=(e,t)=>_t(e.kind,e,{meta:{...e.context.meta,...t}}),lo=()=>{},Tr=({kind:e})=>e!=="mutation"&&e!=="query",co=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,i=new Map,a=s=>{var l=_t(s.kind,s);return l.query=uo(s.query),l},o=s=>s.kind==="query"&&s.context.requestPolicy!=="network-only"&&(s.context.requestPolicy==="cache-only"||n.has(s.key));return s=>{var l=Nt(c=>{var f=n.get(c.key);process.env.NODE_ENV!=="production"&&r({operation:c,...f?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var y=f;return process.env.NODE_ENV!=="production"&&(y={...y,operation:process.env.NODE_ENV!=="production"?Kn(c,{cacheOutcome:f?"hit":"miss"}):c}),c.context.requestPolicy==="cache-and-network"&&(y.stale=!0,Jn(t,c)),y})(Z(c=>!Tr(c)&&o(c))(s)),d=Pt(c=>{var{operation:f}=c;if(f){var y=f.context.additionalTypenames||[];if(c.operation.kind!=="subscription"&&(y=(g=>[...$r(g,new Set)])(c.data).concat(y)),c.operation.kind==="mutation"||c.operation.kind==="subscription"){var h=new Set;process.env.NODE_ENV!=="production"&&r({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${y}`,operation:f,data:{typenames:y,response:c},source:"cacheExchange"});for(var b=0;b<y.length;b++){var w=y[b],_=i.get(w);_||i.set(w,_=new Set);for(var M of _.values())h.add(M);_.clear()}for(var S of h.values())n.has(S)&&(f=n.get(S).operation,n.delete(S),Jn(t,f))}else if(f.kind==="query"&&c.data){n.set(f.key,c);for(var V=0;V<y.length;V++){var m=y[V],A=i.get(m);A||i.set(m,A=new Set),A.add(f.key)}}}})(e(Z(c=>c.kind!=="query"||c.context.requestPolicy!=="cache-only")(Nt(c=>process.env.NODE_ENV!=="production"?Kn(c,{cacheOutcome:"miss"}):c)(Et([Nt(a)(Z(c=>!Tr(c)&&!o(c))(s)),Z(c=>Tr(c))(s)])))));return Et([l,d])}},Jn=(e,t)=>e.reexecuteOperation(_t(t.kind,t,{requestPolicy:"network-only"})),Cr=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:i})=>{var a=r||(o=>o.kind==="subscription"||!!t&&(o.kind==="query"||o.kind==="mutation"));return o=>{var s=zt(d=>{var{key:c}=d,f=Z(y=>y.kind==="teardown"&&y.key===c)(o);return Xr(f)((y=>{var h=e(Ni(y),y);return en(({next:b,complete:w})=>{var _=!1,M,S;return Promise.resolve().then(()=>{_||(M=h.subscribe({next(V){b(S=S?Br(S,V):Mr(y,V))},error(V){b(Oi(y,V))},complete(){_||(_=!0,y.kind==="subscription"&&n.reexecuteOperation(_t("teardown",y,y.context)),S&&S.hasNext&&b(Br(S,{hasNext:!1})),w())}}))}),()=>{_=!0,M&&M.unsubscribe()}})})(d))})(Z(d=>d.kind!=="teardown"&&a(d))(o)),l=i(Z(d=>d.kind==="teardown"||!a(d))(o));return Et([s,l])}},fo=({forward:e,dispatchDebug:t})=>r=>{var n=zt(a=>{var o=Ni(a),s=eo(a,o),l=ro(a,o);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:a,data:{url:s,fetchOptions:l},source:"fetchExchange"});var d=Xr(Z(c=>c.kind==="teardown"&&c.key===a.key)(r))(so(a,s,l));return process.env.NODE_ENV!=="production"?Pt(c=>{var f=c.data?void 0:c.error;process.env.NODE_ENV!=="production"&&t({type:f?"fetchError":"fetchSuccess",message:`A ${f?"failed":"successful"} fetch response has been returned.`,operation:a,data:{url:s,fetchOptions:l,value:f||c},source:"fetchExchange"})})(d):d})(Z(a=>a.kind!=="teardown"&&(a.kind!=="subscription"||!!a.context.fetchSubscriptions))(r)),i=e(Z(a=>a.kind==="teardown"||a.kind==="subscription"&&!a.context.fetchSubscriptions)(r));return Et([n,i])},po=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((i,a)=>{var o=!1;return a({client:t,forward(s){if(process.env.NODE_ENV!=="production"){if(o)throw new Error("forward() must only be called once in each Exchange.");o=!0}return Wt(i(Wt(s)))},dispatchDebug(s){process.env.NODE_ENV!=="production"&&n({timestamp:Date.now(),source:a.name,...s})}})},r),Ei=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>zt(a=>{r&&a.error&&r(a.error,a.operation);var o=t&&t(a)||a;return"then"in o?qn(o):Vt(o)})(n(zt(a=>{var o=e&&e(a)||a;return"then"in o?qn(o):Vt(o)})(i))),yo=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=Pt(r=>{if(r.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var n=`No exchange has handled operations of kind "${r.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:n,operation:r,source:"fallbackExchange"}),console.warn(n)}})(t)),Z(r=>!1)(t)),Yn=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var r=0,n=new Map,i=new Map,a=new Set,o=[],s={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=Mn();function d(m){(m.kind==="mutation"||m.kind==="teardown"||!a.has(m.key))&&(m.kind==="teardown"?a.delete(m.key):m.kind!=="mutation"&&a.add(m.key),l.next(m))}var c=!1;function f(m){if(m&&d(m),!c){for(c=!0;c&&(m=o.shift());)d(m);c=!1}}var y=m=>{var A=Xr(Z(g=>g.kind==="teardown"&&g.key===m.key)(l.source))(Z(g=>g.operation.kind===m.kind&&g.operation.key===m.key&&(!g.operation.context._instance||g.operation.context._instance===m.context._instance))(V));return m.kind!=="query"?A=hi(g=>!!g.hasNext,!0)(A):A=jn(g=>{var U=Vt(g);return g.stale||g.hasNext?U:Et([U,Nt(()=>(g.stale=!0,g))(br(1)(Z(Je=>Je.key===m.key)(l.source)))])})(A),m.kind!=="mutation"?A=Zr(()=>{a.delete(m.key),n.delete(m.key),i.delete(m.key),c=!1;for(var g=o.length-1;g>=0;g--)o[g].key===m.key&&o.splice(g,1);d(_t("teardown",m,m.context))})(Pt(g=>{if(g.stale){for(var U of o)if(U.key===g.operation.key){a.delete(U.key);break}}else g.hasNext||a.delete(m.key);n.set(m.key,g)})(A)):A=Fn(()=>{d(m)})(A),t.maskTypename&&(A=Nt(g=>({...g,data:Ur(g.data,!0)}))(A)),Wt(A)},h=this instanceof e?this:Object.create(e.prototype),b=Object.assign(h,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(m){m.kind==="teardown"?f(m):(m.kind==="mutation"||i.has(m.key))&&(o.push(m),Promise.resolve().then(f))},createRequestOperation(m,A,g){g||(g={});var U;if(process.env.NODE_ENV!=="production"&&m!=="teardown"&&(U=Xa(A.query))!==m)throw new Error(`Expected operation of type "${m}" but found "${U}"`);return _t(m,A,{_instance:m==="mutation"?r=r+1|0:void 0,...s,...g,requestPolicy:g.requestPolicy||s.requestPolicy,suspense:g.suspense||g.suspense!==!1&&b.suspense})},executeRequestOperation(m){return m.kind==="mutation"?Qn(y(m)):Qn(Na(()=>{var A=i.get(m.key);A||i.set(m.key,A=y(m)),A=Fn(()=>{f(m)})(A);var g=n.get(m.key);return m.kind==="query"&&g&&(g.stale||g.hasNext)?jn(Vt)(Et([A,Z(U=>U===n.get(m.key))(Vt(g))])):A}))},executeQuery(m,A){var g=b.createRequestOperation("query",m,A);return b.executeRequestOperation(g)},executeSubscription(m,A){var g=b.createRequestOperation("subscription",m,A);return b.executeRequestOperation(g)},executeMutation(m,A){var g=b.createRequestOperation("mutation",m,A);return b.executeRequestOperation(g)},readQuery(m,A,g){var U=null;return mt(Je=>{U=Je})(b.query(m,A,g)).unsubscribe(),U},query:(m,A,g)=>b.executeQuery(lr(m,A),g),subscription:(m,A,g)=>b.executeSubscription(lr(m,A),g),mutation:(m,A,g)=>b.executeMutation(lr(m,A),g)}),w=lo;if(process.env.NODE_ENV!=="production"){var{next:_,source:M}=Mn();b.subscribeToDebugTarget=m=>mt(m)(M),w=_}var S=po(t.exchanges),V=Wt(S({client:b,dispatchDebug:w,forward:yo({dispatchDebug:w})})(l.source));return Ta(V),b};const Gr=e=>Object.entries(e).flatMap(([t,r])=>{if(typeof r=="boolean")return r?t:!1;if(r instanceof an){let n="";const i=Object.entries(r.args).filter(([a,o])=>o!=null).map(([a,o])=>{var s;return`${a}: ${o instanceof on?`$${(s=o.name)!==null&&s!==void 0?s:a}`:JSON.stringify(o)}`});return i.length>0&&(n=`(${i.join(", ")})`),r.subselection?[`${t}${n} {`,...Gr(r.subselection),"}"]:`${t}${n}`}else return[`${t} {`,...Gr(r),"}"]}).filter(t=>!!t).map(t=>"  "+t),hr=e=>{const t={},r=n=>{let i=1;if(t[n]){for(;t[`${n}${i}`];)i++;return`${n}${i}`}return n};return Object.entries(e).forEach(([n,i])=>{i instanceof an?(Object.entries(i.args).forEach(([a,o])=>{var s;o instanceof on&&(t[(s=o.name)!==null&&s!==void 0?s:r(a)]=o)}),i.subselection&&Object.assign(t,hr(i.subselection))):typeof i=="object"&&i!==null&&Object.assign(t,hr(i))}),t},mo=e=>{const t=hr(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([n,i])=>`$${n}: ${i.type}`).join(", ")})`};class an{constructor(t,r){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class on{constructor(t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:n})}present(){return this.value!=null}}const fe=(e,t)=>new an(e,t),D=e=>new on(e.type+(e.required?"!":""),e.name,e.value),ho=e=>{var t;const r=mo(e),n=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${r}${n} {
${Gr(e.fields).join(`
`)}
}`},ve=e=>{const t=hr(e.fields);return{query:ho(e),variables:Object.entries(t??{}).reduce((r,[n,i])=>(typeof i.value<"u"&&(r[n]=i.value),r),{})}},bo={DateTime(e){return new Date(e)}};class vo{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(r=>this.hydrateObject(r)):this.hydrateObject(t)}hydrateObject(t){const r={...t};for(const[n,i]of Object.entries(this.plan)){const a=r[n];a!=null&&(r[n]=bo[i](a))}return r}}function he(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=he(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:he(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=he(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=he(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(he(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,a){r.set(he(a),he(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(he(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}var Pi,Ti,Ci,_i,xi,Ri,ce;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(ce||(ce={}));const re=Symbol.for("g/f"),tt=Symbol.for("g/if"),rt=Symbol.for("g/pf"),nt=Symbol.for("g/fk"),Bt=Symbol.for("g/t"),N=Symbol.for("g/s");class go{constructor(t){var r,n;Object.defineProperty(this,Pi,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,Ti,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,Ci,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,_i,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,xi,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,Ri,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this[tt]=(r=he(t))!==null&&r!==void 0?r:{},this[rt]=(n=he(t))!==null&&n!==void 0?n:{},Object.assign(this[re],t),!t||Object.keys(t).length===0?(this.empty=!0,this[nt]=new Set):this[nt]=new Set(Object.keys(this[re]));const i=this;this[N]=i;const a={get:(o,s)=>{if(s in i||typeof s=="symbol")return i[s];if(s in o)return o[s]},set:(o,s,l)=>(i.trackKey(s),o[s.toString()]=l,!0)};return new Proxy(this[re],a)}trackKey(t){const r=t.toString();this[N][nt].add(r)}hasChanges(t=ce.SinceLoaded){if(this[N][Bt])return!0;const r=t==ce.SinceLoaded?this[N][tt]:this[N][rt];return[...this[N][nt]].some(n=>!ar(r[n],this[N][re][n]))}isEmpty(){return this.empty}getField(t){return this[N][re][t]}setField(t,r){return this.trackKey(t),this[N][re][t]=r}changes(t,r=ce.SinceLoaded){const i=(typeof t=="string"?r:t||r)==ce.SinceLoaded?this[N][tt]:this[N][rt];if(t&&typeof t=="string"){const a=i[t],o=this[N][re][t],s=!ar(o,a);return s?{changed:s,current:o,previous:a}:{changed:s}}else{const a={};for(const o of this[N][nt])ar(i[o],this[N][re][o])||(a[o]={current:this[N][re][o],previous:i[o]});return a}}toChangedJSON(t=ce.SinceLoaded){const r=t==ce.SinceLoaded?this[N][tt]:this[N][rt],n={};for(const i of this[N][nt])ar(r[i],this[N][re][i])||(n[i]=this[N][re][i]);return n}changed(t,r=ce.SinceLoaded){return t&&typeof t=="string"?this.changes(t,r).changed:this.hasChanges(t===void 0?r:t)}flushChanges(t=ce.SinceLoaded){t==ce.SinceLoaded?this[N][tt]=he(this[N][re]):t==ce.SinceLastPersisted&&(this[N][rt]=he(this[N][re])),this[N][Bt]=!1}revertChanges(t=ce.SinceLoaded){let r;t==ce.SinceLoaded?r=Object.keys(this[N][tt]):r=Object.keys(this[N][rt]);for(const n of this[N][nt])r.includes(n)||delete this[N][re][n];t==ce.SinceLoaded?Object.assign(this[N][re],he(this[N][tt])):Object.assign(this[N][re],he(this[N][rt])),this[N][Bt]=!1}toJSON(){return Kr({...this[N][re]})}touch(){this[N][Bt]=!0}}Pi=re,Ti=tt,Ci=rt,_i=nt,xi=Bt,Ri=N;const Di=go;class Fi extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Lr extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class gr extends Error{constructor(t,r){super(t.startsWith("GGT_")?t:`${r}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Hn extends Error{constructor(t){let r;Wr(t)?r=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:r="GraphQL websocket closed unexpectedly by the server",super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class So extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class wo extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Io extends Error{constructor(t,r,n,i){const a=r.slice(0,3),o=r.length>3?`, and ${r.length-3} more error${r.length>4?"s":""} need${r.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${n??"Record"} is invalid and can't be saved. ${a.map(({apiIdentifier:s,message:l})=>`${s} ${l}`).join(", ")}${o}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=r,this.modelApiIdentifier=n,this.record=i}}class ji extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class sn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Ao extends Error{constructor(t,r){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var r;return(r=t.code)!==null&&r!==void 0?r:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var r;return(r=t.statusCode)!==null&&r!==void 0?r:500}))}}function zr(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const xt=(e,t)=>{const r=t.length;let n=0;for(;e!=null&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0},Wr=e=>(e==null?void 0:e.type)=="close",_e=(e,t)=>typeof e!="string"?"":Ht(e,t),Zn=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ht=(e,t=!0)=>{let r=""+e;return t?r=r.replace(/^[a-z\d]*/,n=>Zn(n)):r=r.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),n=>n.toLowerCase()),r=r.replace(/(?:_|(\/))([a-z\d]*)/gi,(n,i,a,o,s)=>(i||(i=""),""+i+Zn(a))),r},un=(e,t)=>[...Array.isArray(t)?t:t?[t]:[],e].map(i=>Ht(i)).join(""),Mi=(e,t)=>`${un(e,t)}Sort`,ln=(e,t)=>`${un(e,t)}Filter`,ko=(e,t,r)=>new ji(`More than one record found for ${e}.${t} = ${r}. Please confirm your unique validation is not reporting an error.`),Oo=(e,t)=>{if(e.fetching)return;const r=xt(e.data,t);if(r===void 0)return new Fi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(r===null)return new sn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},Ve=(e,t,r=!1)=>{var n;if(e.error)throw e.error instanceof Yt&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(s=>"[Network] "+s.message).join(`
`)),e.error;const i=xt(e.data,t),a=xt(i,["edges"]),o=a??i;if(i===void 0)throw new Fi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||r&&Array.isArray(o)&&o.length===0)throw new sn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},Ut=(e,t)=>{var r;if(e.error)throw e.error instanceof Yt&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const n=xt(e.data,t);return n??null},cn=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new Io(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new ji(e.message):new gr(e.message,e.code)},it=(e,t)=>{const r=Ve(e,t);return qi(r)},qi=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?cn(t):new gr("Gadget API operation not successful.","GGT_UNKNOWN")}return e},Bi=e=>{var t,r,n,i;if(!((r=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||r===void 0)&&r.hydrations)return new vo((i=(n=e.data)===null||n===void 0?void 0:n.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},Gt=(e,t)=>{const r=Bi(e);return r&&(t=r.apply(t)),new Di(t)},dn=(e,t)=>{const r=Bi(e);return r&&(t=r.apply(t)),t==null?void 0:t.map(n=>new Di(n))},Kt=(e,t)=>{const r=t.edges.map(n=>n.node);return dn(e,r)},Qr="[object Object]",Xn="[object String]",Kr=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t[r]=n===void 0?null:Kr(n)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)===Qr){const t={};for(const r of Object.keys(e)){const n=Kr(e[r]);n!==void 0&&(t[r]=n)}return t}}}},_r="gstk",ei=e=>{try{const t=window[e];return t.setItem(_r,_r),t.removeItem(_r),!0}catch{return!1}},ti=Object.prototype.toString,ri=Object.getPrototypeOf,ni=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,$t=(e,t,r)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(r.indexOf(e)>-1&&r.indexOf(t)>-1)return!0;const n=ti.call(e),i=ti.call(t);let a,o,s;if(r.push(e,t),n==Qr&&i==Xn&&"_link"in e&&Object.keys(e).length==1)return e._link===t;if(i==Qr&&n==Xn&&"_link"in t&&Object.keys(t).length==1)return t._link===e;if(n!=i||(a=ni(e),o=ni(t),a.length!=o.length||a.some(function(l){return!$t(e[l],t[l],r)})))return!1;switch(n.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{a=e.entries(),o=t.entries();do if(s=a.next(),!$t(s.value,o.next().value,r))return!1;while(!s.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(s=0;s<e.length;s++)if(!(!(s in e)&&!(s in t))&&(s in e!=s in t||!$t(e[s],t[s],r)))return!1;return!0;case"Object":return $t(ri(e),ri(t),r);default:return!1}},ar=(e,t)=>$t(e,t,[]),$i=(e,t)=>{var r,n;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(a=>{var o;return a!=="id"&&!(!((o=e.paramOnlyVariables)===null||o===void 0)&&o.includes(a))&&a!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((r=e.acceptsModelInput)!==null&&r!==void 0?r:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[a,o]of Object.entries(t))!((n=e.paramOnlyVariables)===null||n===void 0)&&n.includes(a)?i[a]=o:a=="id"?i.id=o:i[e.modelApiIdentifier][a]=o}else i=t;return i},No=(e,t={})=>{var r;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((r=Array.isArray(t)?t:t.inputs)!==null&&r!==void 0?r:[]).map(i=>$i(e,i))}},Eo=(e,t)=>{const r={};for(const[n,i]of Object.entries(e))r[n]={...i,value:t[n]};return r},at=(e,t)=>(t&&e.unshift(...Array.isArray(t)?t:[t]),e),Ke=(e,t)=>{const r=t?[...Array.isArray(t)?t:[t],e].join("."):e;return{gadgetMeta:{hydrations:fe({modelName:r})}}};function Ie(e,t){if(!e)return t;if(Array.isArray(e)||(e=[e]),e)for(let r=e.length-1;r>=0;r--)t={[e[r]]:t};return t}const ht={errors:{message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}}};class Rt extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,r,n){const i=new Rt;return i.push(...r),i.modelManager=t,i.pagination=n,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new gr("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new Lr("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:r,last:n,before:i,...a}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...a,after:this.pagination.pageInfo.endCursor,first:r||n})}async previousPage(){var t;if(!this.hasPreviousPage)throw new Lr("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:r,last:n,after:i,...a}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...a,before:this.pagination.pageInfo.startCursor,last:n||r})}}const fn=(e,t=!1)=>{const r={...e};return t&&(r.__typename=!0),r},Sr=e=>{if(e!=null&&e.live)return["@live"]},Po=(e,t,r,n,i,a)=>{const o={};typeof t<"u"&&(o.id=D({type:"GadgetID!",value:t}));let s={[e]:fe(o,fn((i==null?void 0:i.select)||r,!0))};return s=Ie(a,s),ve({type:"query",name:e,fields:{...s,...Ke(n,a)},directives:Sr(i)})},To=(e,t,r,n,i,a,o)=>pn(e,n,i,{...a,first:2,filter:{[t]:{equals:r}}},o),pn=(e,t,r,n,i)=>{let a={[e]:fe({after:D({value:n==null?void 0:n.after,type:"String"}),first:D({value:n==null?void 0:n.first,type:"Int"}),before:D({value:n==null?void 0:n.before,type:"String"}),last:D({value:n==null?void 0:n.last,type:"Int"}),sort:n!=null&&n.sort?D({value:n.sort,type:`[${Mi(r,i)}!]`}):void 0,filter:n!=null&&n.filter?D({value:n.filter,type:`[${ln(r,i)}!]`}):void 0,search:n!=null&&n.search?D({value:n.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:fn((n==null?void 0:n.select)||t,!0)}})};return i&&(a=Ie(i,a)),ve({type:"query",name:e,fields:{...a,...Ke(r,i)},directives:Sr(n)})},yn=e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,D(r)])),Vi=(e,t,r)=>({success:!0,...ht,[e]:t&&!r?fn(t,!0):!1,result:!!r}),Co=(e,t,r,n,i,a,o,s,l)=>{const d=(a==null?void 0:a.select)||t;let c={[e]:fe(yn(i),Vi(n,d,l))};c=Ie(o,c);const f={type:"mutation",name:e,fields:{...c,...Ke(r,o)},directives:Sr(a)};return ve(f)},_o=(e,t,r)=>{let n={},i=t.operationName,a;switch(t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),t.operationReturnType?a=`${t.operationReturnType}Result`:a=`${Ht(i)}Result`,t.type){case"action":{const s=(r==null?void 0:r.select)||t.defaultSelection;n={[`... on ${a}`]:Vi(t.modelApiIdentifier,s,t.hasReturnType)};break}case"globalAction":n={[`... on ${a}`]:Ui()}}const o={type:"subscription",name:_e(i)+"BackgroundResult",fields:{backgroundAction:fe({id:D({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...n}})}};return ve(o)},Ui=()=>({success:!0,...ht,result:!0}),xo=(e,t,r,n)=>{let i={[e]:fe(yn(t),Ui())};return i=Ie(r,i),ve({type:"mutation",name:e,fields:i,directives:Sr(n)})},Ro=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const r of Object.keys(t))["id","retries","queue","priority","startAt"].includes(r)||delete t[r];return t},Do=(e,t,r,n,i)=>{let a={[e]:fe({...yn(t),backgroundOptions:D({type:"EnqueueBackgroundActionOptions",value:Ro(n)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})};return a=Ie(r,a),ve({type:"mutation",name:"enqueue"+Ht(e),fields:{background:a}})},Fo=(e,t)=>({[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator]();return{async next(){const{done:n,value:i}=await r.next();return{done:n,value:typeof i<"u"?t(i):void 0}},async return(n){var i;return await((i=r.return)===null||i===void 0?void 0:i.call(r,n))}}}});function mn(e,t,r){return r!=null&&r.live?Fo(Ca(e),t):rn(e,Z(i=>!i.stale&&!i.hasNext),br(1),tn).then(i=>t(i))}const ii=(e,t,r,n,i,a,o=!0,s)=>{const l=Po(t,r,n,i,a,s),d=e.connection.currentClient.query(l.query,l.variables);return mn(d,c=>{const f=o?Ve:Ut,y=at([t],s),h=f(c,y);return Gt(c,h)},a)},jo=(e,t,r,n,i,a,o,s=!0,l)=>{const d=To(t,r,n,i,a,o),c=at([t],l),f=e.connection.currentClient.query(d.query,d.variables);return mn(f,y=>{const h=Ve(y,c),b=Kt(y,h);if(b.length>1)throw ko(a,r,n);const w=b[0];if(!w&&s)throw new sn(`${a} record with ${r}=${n} not found`);return w??null},o)},ai=(e,t,r,n,i,a,o)=>{const s=pn(t,r,n,i,o),l=e.connection.currentClient.query(s.query,s.variables),d=at([t],o);return mn(l,c=>{let f;a===!1?f=Ut(c,d):f=Ve(c,d,a);const y=Kt(c,f);return Rt.boot(e,y,{options:i,pageInfo:f.pageInfo})},i)},oi=async(e,t,r,n,i,a,o,s,l,d)=>{const c=Co(t,r,n,i,o,s,l,a,d),f=await e.connection.currentClient.mutation(c.query,c.variables).toPromise(),y=at([t],l);if(a){const h=xt(f.data,y),b=h[i]&&r?dn(f,h[i]):void 0;if(h.errors){const w=h.errors.map(_=>cn(_));throw new Ao(w,b)}return b}else{const h=it(f,y);return Gi(r,f,h,i,d)}},Gi=(e,t,r,n,i)=>{if(e!=null)return i?r.result:Gt(t,r[n])},si=async(e,t,r,n)=>{const i=xo(t,r,n),a=await e.currentClient.mutation(i.query,i.variables).toPromise(),o=at([t],n);return it(a,o).result};async function Mo(e,t,r,n={}){const i=t.isBulk?No(t,r):$i(t,r),a=Eo(t.variables,i),o=Do(t.operationName,a,t.namespace,n,t.isBulk),s=await e.currentClient.mutation(o.query,o.variables,n).toPromise(),l=["background",...at([t.operationName],t.namespace)];try{const d=it(s,l);return t.isBulk?d.backgroundActions.map(c=>new cr(e,t,c.id)):new cr(e,t,d.backgroundAction.id)}catch(d){if("code"in d&&d.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(n!=null&&n.id)&&n.onDuplicateID=="ignore")return new cr(e,t,n.id);throw d}}const qo=async(e,t,r,n)=>{const i=_o(t,r,n),a=e.currentClient.subscription(i.query,i.variables),o=await rn(a,Z(l=>{var d,c;return l.error||((c=(d=l.data)===null||d===void 0?void 0:d.backgroundAction)===null||c===void 0?void 0:c.outcome)}),br(1),tn),s=Ve(o,["backgroundAction"]);switch(qi(s.result),r.type){case"action":{s.result=Gi(r.defaultSelection,o.data,s.result,r.isBulk?r.modelApiIdentifier:r.modelSelectionField,r.hasReturnType);break}case"globalAction":{s.result=s.result.result;break}}return s};class cr{constructor(t,r,n){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n})}async result(t){return(await qo(this.connection,this.id,this.action,t)).result}}var Lt;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(Lt||(Lt={}));function me(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function ft(e){return me(e)==="object"}function Bo(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function ui(e,t){return e.length<124?e:t}const $o="graphql-transport-ws";var de;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(de||(de={}));var Q;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Q||(Q={}));function Li(e){if(!ft(e))throw new Error(`Message is expected to be an object, but got ${me(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${me(e.type)}`);switch(e.type){case Q.ConnectionInit:case Q.ConnectionAck:case Q.Ping:case Q.Pong:{if(e.payload!=null&&!ft(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Q.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${me(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!ft(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${me(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${me(e.payload.query)}`);if(e.payload.variables!=null&&!ft(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${me(e.payload.variables)}`);if(e.payload.operationName!=null&&me(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${me(e.payload.operationName)}`);if(e.payload.extensions!=null&&!ft(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${me(e.payload.extensions)}`);break}case Q.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${me(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!ft(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${me(e.payload)}`);break}case Q.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${me(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Bo(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Q.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${me(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Vo(e,t){return Li(typeof e=="string"?JSON.parse(e,t):e)}function qt(e,t){return Li(e),JSON.stringify(e,t)}function Uo(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:a=0,keepAlive:o=0,disablePong:s,connectionAckWaitTimeout:l=0,retryAttempts:d=5,retryWait:c=async function(q){let F=1e3;for(let T=0;T<q;T++)F*=2;await new Promise(T=>setTimeout(T,F+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:f=or,isFatalConnectionProblem:y,on:h,webSocketImpl:b,generateID:w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,q=>{const F=Math.random()*16|0;return(q=="x"?F:F&3|8).toString(16)})},jsonMessageReplacer:_,jsonMessageReviver:M}=e;let S;if(b){if(!Lo(b))throw new Error("Invalid WebSocket implementation provided");S=b}else typeof WebSocket<"u"?S=WebSocket:typeof global<"u"?S=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(S=window.WebSocket||window.MozWebSocket);if(!S)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const V=S,m=(()=>{const k=(()=>{const F={};return{on(T,$){return F[T]=$,()=>{delete F[T]}},emit(T){var $;"id"in T&&(($=F[T.id])===null||$===void 0||$.call(F,T))}}})(),q={connecting:h!=null&&h.connecting?[h.connecting]:[],opened:h!=null&&h.opened?[h.opened]:[],connected:h!=null&&h.connected?[h.connected]:[],ping:h!=null&&h.ping?[h.ping]:[],pong:h!=null&&h.pong?[h.pong]:[],message:h!=null&&h.message?[k.emit,h.message]:[k.emit],closed:h!=null&&h.closed?[h.closed]:[],error:h!=null&&h.error?[h.error]:[]};return{onMessage:k.on,on(F,T){const $=q[F];return $.push(T),()=>{$.splice($.indexOf(T),1)}},emit(F,...T){for(const $ of[...q[F]])$(...T)}}})();function A(k){const q=[m.on("error",F=>{q.forEach(T=>T()),k(F)}),m.on("closed",F=>{q.forEach(T=>T()),k(F)})]}let g,U=0,Je,bt=!1,vt=0,Zt=!1;async function Dt(){clearTimeout(Je);const[k,q]=await(g??(g=new Promise(($,Re)=>(async()=>{if(bt){if(await c(vt),!U)return g=void 0,Re({code:1e3,reason:"All Subscriptions Gone"});vt++}m.emit("connecting");const R=new V(typeof t=="function"?await t():t,$o);let Le,Ye;function ot(){isFinite(o)&&o>0&&(clearTimeout(Ye),Ye=setTimeout(()=>{R.readyState===V.OPEN&&(R.send(qt({type:Q.Ping})),m.emit("ping",!1,void 0))},o))}A(Y=>{g=void 0,clearTimeout(Le),clearTimeout(Ye),Re(Y),or(Y)&&Y.code===4499&&(R.close(4499,"Terminated"),R.onerror=null,R.onclose=null)}),R.onerror=Y=>m.emit("error",Y),R.onclose=Y=>m.emit("closed",Y),R.onopen=async()=>{try{m.emit("opened",R);const Y=typeof r=="function"?await r():r;if(R.readyState!==V.OPEN)return;R.send(qt(Y?{type:Q.ConnectionInit,payload:Y}:{type:Q.ConnectionInit},_)),isFinite(l)&&l>0&&(Le=setTimeout(()=>{R.close(de.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),ot()}catch(Y){m.emit("error",Y),R.close(de.InternalClientError,ui(Y instanceof Error?Y.message:new Error(Y).message,"Internal client error"))}};let He=!1;R.onmessage=({data:Y})=>{try{const L=Vo(Y,M);if(m.emit("message",L),L.type==="ping"||L.type==="pong"){m.emit(L.type,!0,L.payload),L.type==="pong"?ot():s||(R.send(qt(L.payload?{type:Q.Pong,payload:L.payload}:{type:Q.Pong})),m.emit("pong",!1,L.payload));return}if(He)return;if(L.type!==Q.ConnectionAck)throw new Error(`First message cannot be of type ${L.type}`);clearTimeout(Le),He=!0,m.emit("connected",R,L.payload),bt=!1,vt=0,$([R,new Promise((Xt,gt)=>A(gt))])}catch(L){R.onmessage=null,m.emit("error",L),R.close(de.BadResponse,ui(L instanceof Error?L.message:new Error(L).message,"Bad response"))}}})())));k.readyState===V.CLOSING&&await q;let F=()=>{};const T=new Promise($=>F=$);return[k,F,Promise.race([T.then(()=>{if(!U){const $=()=>k.close(1e3,"Normal Closure");isFinite(a)&&a>0?Je=setTimeout(()=>{k.readyState===V.OPEN&&$()},a):$()}}),q])]}function Ae(k){if(or(k)&&(Go(k.code)||[de.InternalServerError,de.InternalClientError,de.BadRequest,de.BadResponse,de.Unauthorized,de.SubprotocolNotAcceptable,de.SubscriberAlreadyExists,de.TooManyInitialisationRequests].includes(k.code)))throw k;if(Zt)return!1;if(or(k)&&k.code===1e3)return U>0;if(!d||vt>=d||!f(k)||y!=null&&y(k))throw k;return bt=!0}return n||(async()=>{for(U++;;)try{const[,,k]=await Dt();await k}catch(k){try{if(!Ae(k))return}catch(q){return i==null?void 0:i(q)}}})(),{on:m.on,subscribe(k,q){const F=w(k);let T=!1,$=!1,Re=()=>{U--,T=!0};return(async()=>{for(U++;;)try{const[R,Le,Ye]=await Dt();if(T)return Le();const ot=m.onMessage(F,He=>{switch(He.type){case Q.Next:{q.next(He.payload);return}case Q.Error:{$=!0,T=!0,q.error(He.payload),Re();return}case Q.Complete:{T=!0,Re();return}}});R.send(qt({id:F,type:Q.Subscribe,payload:k},_)),Re=()=>{!T&&R.readyState===V.OPEN&&R.send(qt({id:F,type:Q.Complete},_)),U--,T=!0,Le()},await Ye.finally(ot);return}catch(R){if(!Ae(R))return}})().then(()=>{$||q.complete()}).catch(R=>{q.error(R)}),()=>{T||Re()}},async dispose(){if(Zt=!0,g){const[k]=await g;k.close(1e3,"Normal Closure")}},terminate(){g&&m.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function or(e){return ft(e)&&"code"in e&&"reason"in e}function Go(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function Lo(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var kt=null;typeof WebSocket<"u"?kt=WebSocket:typeof MozWebSocket<"u"?kt=MozWebSocket:typeof global<"u"?kt=global.WebSocket||global.MozWebSocket:typeof window<"u"?kt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(kt=self.WebSocket||self.MozWebSocket);const zo=kt;class zi extends Error{}class Wo{constructor(t,r){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw Ve(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new zi("Transaction rolled back.")}async start(){Ve(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){Ve(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class Qo{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,r){this.values[t]=r}}const Ko=e=>{const t=[...e.definitions].reverse().find(r=>r.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(n=>n.kind=="Field").name.value},li=Ei({onOperation:e=>{var t,r;(t=(r=e.context).operationName)!==null&&t!==void 0||(r.operationName=Ko(e.query)||"unknown")}}),Jo=Ei({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,r]=e.context.url.split("?"),n=new URLSearchParams(r);n.set("operation",e.context.operationName),e.context.url=`${t}?${n.toString()}`}catch{}}});var Jr;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})(Jr||(Jr={}));const Yo=2,Ho=4800,Zo=1e4,Xo=[de.ConnectionAcknowledgementTimeout,de.ConnectionInitialisationTimeout],ci=Symbol.for("gadget/connection"),es="token",ts=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var H;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(H||(H={}));const sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class Wi{constructor(t){var r,n,i,a,o;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:H.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(s,l)=>{let d,c;if(l?(d=l,c=s):(d=s,c={}),this.currentTransaction)return await d(this.currentTransaction);let f=null,y;try{f=await this.waitForOpenedConnection({isFatalConnectionProblem(w){return console.warn("Transport error encountered during transaction processing",w),!0},connectionAckWaitTimeout:Ho,...c,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const h=new Yn({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,li,...this.exchanges.beforeAsync,Cr({forwardSubscription(w){const _={...w,query:w.query||""};return{subscribe:M=>({unsubscribe:f.subscribe(_,M)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});h[ci]=this,y=new Wo(h,f),this.currentTransaction=y,await y.start();const b=await d(y);return await y.commit(),b}catch(h){try{y!=null&&y.open&&await y.rollback()}catch(b){b instanceof zi||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",b)}throw Wr(h)?new Hn(h):h}finally{await(f==null?void 0:f.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(s,l={})=>{var d;s=rs(s,(d=this.options.baseRouteURL)!==null&&d!==void 0?d:this.options.endpoint),this.isGadgetRequest(s)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==H.Custom&&await this.options.authenticationMode.custom.processFetch(s,l));const c=await this._fetchImplementation(s,l);if(this.authenticationMode==H.BrowserSession){const f=c.headers.get("x-set-authorization"),y=f!=null&&f.startsWith("Session ")?f.replace("Session ",""):null;y&&this.sessionTokenStore.setItem(this.sessionStorageKey,y)}return c}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof sr<"u"&&sr.fetch?this._fetchImplementation=sr.fetch.bind(sr):this._fetchImplementation=async(...s)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-d0c79a99.cjs")).then(d=>d.browserPonyfill);return l.default&&(l=l.default),await l(...s)},this.websocketImplementation=(n=(r=t.websocketImplementation)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.WebSocket)!==null&&n!==void 0?n:zo,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(a=t.environment)!==null&&a!==void 0?a:"Development",this.requestPolicy=(o=t.requestPolicy)!==null&&o!==void 0?o:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${es}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var r;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=H.InternalAuthToken:t.apiKey?this.authenticationMode=H.APIKey:t.custom&&(this.authenticationMode=H.Custom),this.options.authenticationMode=t),(r=this.authenticationMode)!==null&&r!==void 0||(this.authenticationMode=H.Anonymous)}enableSessionMode(t){this.authenticationMode=H.BrowserSession;const r=!t||typeof t=="boolean"?Lt.Durable:t.storageType;let n;r==Lt.Durable&&ei("localStorage")?n=window.localStorage:r==Lt.Session&&ei("sessionStorage")?n=window.sessionStorage:n=new Qo,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&n.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=n,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let r;if(typeof t=="string"?r=t:typeof t=="object"&&"url"in t?r=t.url:r=String(t),Yr(this.options.endpoint))return!!Yr(r);const n=new URL(this.options.endpoint).host;return r.includes(n)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,li,Jo];typeof window<"u"&&t.push(co),t.push(...this.exchanges.beforeAsync,Cr({forwardSubscription:n=>({subscribe:i=>{const a={...n,query:n.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(a,i)}}})}),Cr({isSubscriptionOperation:n=>n.query.definitions.some(i=>is(i)),forwardSubscription:n=>({subscribe:i=>{let a;const o=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:s,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:d})=>{const c={...n,query:n.query||""};return a=s(l(d(f=>this.getBaseSubscriptionClient().subscribe(c,f))),i),a}).catch(s=>i.error(s));return{unsubscribe:()=>{a?a():o.then(s=>{s&&s()})}}}})}),fo,...this.exchanges.afterAll);const r=new Yn({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return r[ci]=this,r}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let r=this.websocketsEndpoint;if(t!=null&&t.urlParams){const n=new URLSearchParams;for(const[i,a]of Object.entries(t.urlParams))a&&n.set(i,a);r+="?"+n.toString()}return Uo({url:r,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var n,i;const a={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==H.APIKey?a.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==H.InternalAuthToken?a.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==H.BrowserSession?a.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==H.Custom&&await((i=(n=this.options.authenticationMode)===null||n===void 0?void 0:n.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(a)),a},onNonLazyError:()=>{},on:{connected:(n,i)=>{var a,o,s,l,d,c;if(this.authenticationMode==H.BrowserSession&&(i!=null&&i.sessionToken)){const f=(a=this.options.authenticationMode)===null||a===void 0?void 0:a.browserSession;(f!==null&&typeof f=="object"?f.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(s=(o=this.subscriptionClientOptions)===null||o===void 0?void 0:o.on)===null||s===void 0?void 0:s.connected)===null||l===void 0||l.call(s,n,i),(c=(d=t==null?void 0:t.on)===null||d===void 0?void 0:d.connected)===null||c===void 0||c.call(d,n,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const r={};if(this.authenticationMode==H.InternalAuthToken)r.authorization="Basic "+ts("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==H.APIKey)r.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==H.BrowserSession){const n=this.sessionTokenStore.getItem(this.sessionStorageKey);n&&(r.authorization=`Session ${n}`)}return r["x-gadget-environment"]=this.environment,r}async waitForOpenedConnection(t){let r=this.newSubscriptionClient(t),n=[],i=t.connectionAttempts||Yo;const a=t.connectionGlobalTimeoutMs||Zo,o=()=>{n.forEach(s=>s()),n=[]};return await new Promise((s,l)=>{const d=setTimeout(()=>{this.disposeClient(r),f(new So("Timeout opening websocket connection to Gadget API"))},a),c=b=>{if(Wr(b)){if(b.code==Jr.TooManyRequests)return o(),f(new wo(b.reason));if(Xo.includes(b.code)&&i>0){i-=1,this.disposeClient(r),r=this.newSubscriptionClient(t),h();return}}clearTimeout(d),l(new Hn(b))},f=b=>{clearTimeout(d),l(b)},y=()=>{clearTimeout(d),s(r)},h=()=>{o(),n.push(r.on("connected",y)),n.push(r.on("closed",c)),n.push(r.on("error",f))};h()}).finally(o)}disposeClient(t){const r=t.dispose();r&&r.catch(n=>console.error(`Error closing SubscriptionClient: ${n.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(Wi,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.24"});function rs(e,t){if(typeof e!="string")return e;if(Yr(e))try{return String(new URL(e,t))}catch{return e}return e}function Yr(e){return e.startsWith("/")&&!e.startsWith("//")}const ns=e=>{var t;return e.kind!=="OperationDefinition"||e.operation!=="query"?null:(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live")},is=e=>!!ns(e),as=(e,t,r,n)=>{const i=_e(e);return ve({type:"query",name:`InternalFind${i}`,fields:{internal:Ie(r,{[e]:fe({id:D({value:t,type:"GadgetID!"}),select:D({value:bn(n),type:"[String!]"})})}),...Ke(e,r)}})},Qi=(e,t,r)=>({search:r!=null&&r.search?D({value:r==null?void 0:r.search,type:"String"}):void 0,sort:r!=null&&r.sort?D({value:r==null?void 0:r.sort,type:`[${Mi(e,t)}!]`}):void 0,filter:r!=null&&r.filter?D({value:r==null?void 0:r.filter,type:`[${ln(e,t)}!]`}):void 0,select:r!=null&&r.select?D({value:bn(r==null?void 0:r.select),type:"[String!]"}):void 0}),os=(e,t,r)=>{const n=_e(e),i=Qi(n,t,r);return ve({type:"query",name:`InternalFindFirst${n}`,fields:{internal:Ie(t,{[`list${n}`]:fe({...i,first:D({value:1,type:"Int"})},{edges:{node:!0}})}),...Ke(e,t)}})},ss=(e,t,r)=>{const n=_e(e),i=Qi(n,t,r);return ve({type:"query",name:`InternalFindMany${n}`,fields:{internal:Ie(t,{[`list${n}`]:fe({...i,after:D({value:r==null?void 0:r.after,type:"String"}),before:D({value:r==null?void 0:r.before,type:"String"}),first:D({value:r==null?void 0:r.first,type:"Int"}),last:D({value:r==null?void 0:r.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}),...Ke(e,t)}})},hn=(e,t)=>`Internal${un(e,t)}Input`,us=(e,t,r)=>{const n=_e(e);return ve({type:"mutation",name:`InternalCreate${n}`,fields:{internal:Ie(t,{[`create${n}`]:fe({[e]:D({value:r,type:hn(e,t)})},{success:!0,...ht,[e]:!0})}),...Ke(e,t)}})},ls=(e,t,r,n)=>{_e(e);const i=_e(t);return ve({type:"mutation",name:`InternalBulkCreate${i}`,fields:{internal:Ie(r,{[`bulkCreate${i}`]:fe({[t]:D({value:n,type:`[${hn(e,r)}]!`})},{success:!0,...ht,[t]:!0})}),...Ke(e,r)}})},cs=(e,t,r,n)=>{const i=_e(e);return ve({type:"mutation",name:`InternalUpdate${i}`,fields:{internal:Ie(t,{[`update${i}`]:fe({id:D({value:r,type:"GadgetID!"}),[e]:D({value:n,type:hn(e,t)})},{success:!0,...ht,[e]:!0})}),...Ke(e,t)}})},ds=(e,t,r)=>{const n=_e(e);return ve({type:"mutation",name:`InternalDelete${n}`,fields:{internal:Ie(t,{[`delete${n}`]:fe({id:D({value:r,type:"GadgetID!"})},{success:!0,...ht})})}})},fs=(e,t,r)=>{const n=_e(e);return ve({type:"mutation",name:`InternalDeleteMany${n}`,fields:{internal:Ie(t,{[`deleteMany${n}`]:fe({search:D({value:r==null?void 0:r.search,type:"String"}),filter:D({value:r==null?void 0:r.filter,type:`[${ln(e,t)}!]`})},{success:!0,...ht})})}})};class Pe{constructor(t,r,n){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=Ht(t),this.namespace=(n==null?void 0:n.namespace)||[]}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(n=>n===this.apiIdentifier)}getRecordFromData(t,r){let n=t;if(!this.validateRecord(t))throw new gr(`Invalid arguments found in variables. Did you mean to use ${r}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(n=n[this.apiIdentifier]),n}async findOne(t,r,n=!0){const i=as(this.apiIdentifier,t,this.namespace,bn(r==null?void 0:r.select)),a=await this.connection.currentClient.query(i.query,i.variables).toPromise(),s=(n?Ve:Ut)(a,this.dataPath(this.apiIdentifier));return Gt(a,s)}async maybeFindOne(t,r){const n=await this.findOne(t,r,!1);return n.isEmpty()?null:n}async findMany(t){const r=ss(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.query(r.query,r.variables).toPromise(),i=Ut(n,this.dataPath(`list${this.capitalizedApiIdentifier}`)),a=Kt(n,i);return Rt.boot(this,a,{options:t,pageInfo:i.pageInfo})}async findFirst(t,r=!0){const n=os(this.apiIdentifier,this.namespace,t),i=await this.connection.currentClient.query(n.query,n.variables).toPromise(),a=this.dataPath(`list${this.capitalizedApiIdentifier}`);let o;r===!1?o=Ut(i,a):o=Ve(i,a,r);const s=Kt(i,o);return Rt.boot(this,s,{options:t,pageInfo:o.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const r=us(this.apiIdentifier,this.namespace,this.getRecordFromData(t,"create")),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise(),i=it(n,this.dataPath(`create${this.capitalizedApiIdentifier}`));return Gt(n,i[this.apiIdentifier])}async bulkCreate(t){var r;if(!(!((r=this.options)===null||r===void 0)&&r.pluralApiIdentifier))throw new Lr("Cannot perform bulkCreate without a pluralApiIdentifier");const n=_e(this.options.pluralApiIdentifier),i=ls(this.apiIdentifier,this.options.pluralApiIdentifier,this.namespace,t),a=await this.connection.currentClient.mutation(i.query,i.variables).toPromise(),o=it(a,this.dataPath(`bulkCreate${n}`));return dn(a,o[this.options.pluralApiIdentifier])}async update(t,r){zr(t,"Can't update a record without an ID passed");const n=cs(this.apiIdentifier,this.namespace,t,this.getRecordFromData(r,"update")),i=await this.connection.currentClient.mutation(n.query,n.variables).toPromise(),a=it(i,this.dataPath(`update${this.capitalizedApiIdentifier}`));return Gt(i,a[this.apiIdentifier])}async delete(t){zr(t,"Can't delete a record without an ID");const r=ds(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();it(n,this.dataPath(`delete${this.capitalizedApiIdentifier}`))}async deleteMany(t){const r=fs(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();it(n,this.dataPath(`deleteMany${this.capitalizedApiIdentifier}`))}dataPath(t){return["internal",...at([t],this.namespace)]}}function bn(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[r,n]of Object.entries(e))n&&t.push(r);return t}const Ee=(e,t,r,n)=>{const i=class{constructor(a){this.connection=a}};for(const a of n)switch(a.type){case"maybeFindOne":case"findOne":{"functionName"in a?i.prototype[a.functionName]=Object.assign(async function(o,s){return await jo(this,a.operationName,a.findByField,o,r,e,s)},a):i.prototype[a.type]=Object.assign(async function(o,s){const l=await ii(this,e,o,r,e,s,a.type!="maybeFindOne");return l.isEmpty()?null:l},a);break}case"findMany":{i.prototype.findMany=Object.assign(async function(o){return await ai(this,t,r,e,o)},a);break}case"maybeFindFirst":case"findFirst":{i.prototype[a.type]=Object.assign(async function(o){const s=await ai(this,t,r,e,{...o,first:1,last:void 0,before:void 0,after:void 0},a.type!="maybeFindFirst");return(s==null?void 0:s[0])??null},a);break}case"get":{i.prototype.get=Object.assign(async function(o){return await ii(this,a.operationName,void 0,r,e,o)},a);break}case"action":{if(a.isBulk){const o=!!a.variables.ids;i.prototype[a.functionName]=Object.assign(async function(s,l){let d;return o?d={ids:{...a.variables.ids,value:s}}:d={inputs:{...a.variables.inputs,value:s.map(c=>Ki(this[a.singleActionFunctionName],void 0,c))}},await oi(this,a.operationName,a.isDeleter?null:r,e,a.modelSelectionField,!0,d,l,a.namespace,a.hasReturnType)},a)}else{const o=!!a.variables.id,s=Object.keys(a.variables).filter(l=>l!="id").length>0;i.prototype[a.functionName]=Object.assign(async function(...l){const[d,c]=ps(a,o,s,l);return await oi(this,a.operationName,a.isDeleter?null:r,e,a.modelSelectionField,!1,d,c,a.namespace,a.hasReturnType)},a)}break}}return i};function Ki(e,t,r={}){var a;if(e.hasAmbiguousIdentifier&&Object.keys(r).some(o=>{var s;return!((s=e.paramOnlyVariables)!=null&&s.includes(o))&&o!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let n;const i=Object.entries(e.variables).find(([o,s])=>o==="id"&&s.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in r&&typeof r[e.modelApiIdentifier]=="object"&&r[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])n=r;else{n={[e.modelApiIdentifier]:{}};for(const[o,s]of Object.entries(r))(a=e.paramOnlyVariables)!=null&&a.includes(o)?n[o]=s:i&&o===i[0]?n.id=s:n[e.modelApiIdentifier][o]=s}else n=r;return n.id??(n.id=t),n}function ps(e,t,r,n){let i,a;t&&(i=n.shift()),r&&(a=n.shift());const o=n.shift();let s=a;(i||a)&&(s=Ki(e,i,a));const l={};for(const[d,c]of Object.entries(e.variables))l[d]={value:d=="id"?i:s==null?void 0:s[d],...c};return[l,o]}const ge={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},W="user",We="users",ys=Ee(W,We,ge,[{type:"findOne",operationName:W,modelApiIdentifier:W,findByVariableName:"id",defaultSelection:ge},{type:"maybeFindOne",operationName:W,modelApiIdentifier:W,findByVariableName:"id",defaultSelection:ge},{type:"findMany",operationName:We,modelApiIdentifier:W,defaultSelection:ge},{type:"findFirst",operationName:We,modelApiIdentifier:W,defaultSelection:ge},{type:"maybeFindFirst",operationName:We,modelApiIdentifier:W,defaultSelection:ge},{type:"findOne",operationName:We,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:W,defaultSelection:ge},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:W,modelSelectionField:W,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:W,modelSelectionField:We,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:ge},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:W,modelSelectionField:W,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:W,modelSelectionField:We,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:ge},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:W,modelSelectionField:W,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:W,modelSelectionField:We,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:W,modelSelectionField:W,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:W,modelSelectionField:We,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:ge}]),De={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},pe="session",It="sessions",ms=Ee(pe,It,De,[{type:"findOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:De},{type:"maybeFindOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:De},{type:"findMany",operationName:It,modelApiIdentifier:pe,defaultSelection:De},{type:"findFirst",operationName:It,modelApiIdentifier:pe,defaultSelection:De},{type:"maybeFindFirst",operationName:It,modelApiIdentifier:pe,defaultSelection:De},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:De},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:pe,modelSelectionField:It,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:De},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:De},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:pe,modelSelectionField:It,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:De}]),Fe={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},ne="shopifyProduct",st="shopifyProducts",hs=Ee(ne,st,Fe,[{type:"findOne",operationName:ne,modelApiIdentifier:ne,findByVariableName:"id",defaultSelection:Fe},{type:"maybeFindOne",operationName:ne,modelApiIdentifier:ne,findByVariableName:"id",defaultSelection:Fe},{type:"findMany",operationName:st,modelApiIdentifier:ne,defaultSelection:Fe},{type:"findFirst",operationName:st,modelApiIdentifier:ne,defaultSelection:Fe},{type:"maybeFindFirst",operationName:st,modelApiIdentifier:ne,defaultSelection:Fe},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:ne,modelSelectionField:ne,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Fe},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ne,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:Fe},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:ne,modelSelectionField:ne,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Fe},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ne,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:Fe},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:ne,modelSelectionField:ne,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ne,modelSelectionField:st,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),je={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},ie="shopifyProductImage",ut="shopifyProductImages",bs=Ee(ie,ut,je,[{type:"findOne",operationName:ie,modelApiIdentifier:ie,findByVariableName:"id",defaultSelection:je},{type:"maybeFindOne",operationName:ie,modelApiIdentifier:ie,findByVariableName:"id",defaultSelection:je},{type:"findMany",operationName:ut,modelApiIdentifier:ie,defaultSelection:je},{type:"findFirst",operationName:ut,modelApiIdentifier:ie,defaultSelection:je},{type:"maybeFindFirst",operationName:ut,modelApiIdentifier:ie,defaultSelection:je},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:je},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ie,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:je},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:je},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ie,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:je},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ie,modelSelectionField:ut,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Me={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},ae="shopifyProductOption",lt="shopifyProductOptions",vs=Ee(ae,lt,Me,[{type:"findOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:Me},{type:"maybeFindOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:Me},{type:"findMany",operationName:lt,modelApiIdentifier:ae,defaultSelection:Me},{type:"findFirst",operationName:lt,modelApiIdentifier:ae,defaultSelection:Me},{type:"maybeFindFirst",operationName:lt,modelApiIdentifier:ae,defaultSelection:Me},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Me},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ae,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:Me},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Me},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ae,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:Me},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ae,modelSelectionField:lt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),qe={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},oe="shopifyProductVariant",ct="shopifyProductVariants",gs=Ee(oe,ct,qe,[{type:"findOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:qe},{type:"maybeFindOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:qe},{type:"findMany",operationName:ct,modelApiIdentifier:oe,defaultSelection:qe},{type:"findFirst",operationName:ct,modelApiIdentifier:oe,defaultSelection:qe},{type:"maybeFindFirst",operationName:ct,modelApiIdentifier:oe,defaultSelection:qe},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:qe},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:oe,modelSelectionField:ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:qe},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:qe},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:oe,modelSelectionField:ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:qe},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:oe,modelSelectionField:ct,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),ye={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},G="shopifyShop",Qe="shopifyShops",Ss=Ee(G,Qe,ye,[{type:"findOne",operationName:G,modelApiIdentifier:G,findByVariableName:"id",defaultSelection:ye},{type:"maybeFindOne",operationName:G,modelApiIdentifier:G,findByVariableName:"id",defaultSelection:ye},{type:"findMany",operationName:Qe,modelApiIdentifier:G,defaultSelection:ye},{type:"findFirst",operationName:Qe,modelApiIdentifier:G,defaultSelection:ye},{type:"maybeFindFirst",operationName:Qe,modelApiIdentifier:G,defaultSelection:ye},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:G,modelSelectionField:G,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ye},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:G,modelSelectionField:Qe,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:ye},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:G,modelSelectionField:G,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ye},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:G,modelSelectionField:Qe,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:ye},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:G,modelSelectionField:G,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:G,modelSelectionField:Qe,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:G,modelSelectionField:G,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ye},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:G,modelSelectionField:Qe,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:ye},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:G,modelSelectionField:G,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ye},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:G,modelSelectionField:Qe,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:ye}]),Be={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},se="productPairing",dt="productPairings",ws=Ee(se,dt,Be,[{type:"findOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Be},{type:"maybeFindOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Be},{type:"findMany",operationName:dt,modelApiIdentifier:se,defaultSelection:Be},{type:"findFirst",operationName:dt,modelApiIdentifier:se,defaultSelection:Be},{type:"maybeFindFirst",operationName:dt,modelApiIdentifier:se,defaultSelection:Be},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Be},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:se,modelSelectionField:dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:Be},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Be},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:se,modelSelectionField:dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:Be},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:se,modelSelectionField:dt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Se={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},X="shopifySync",Ze="shopifySyncs",Is=Ee(X,Ze,Se,[{type:"findOne",operationName:X,modelApiIdentifier:X,findByVariableName:"id",defaultSelection:Se},{type:"maybeFindOne",operationName:X,modelApiIdentifier:X,findByVariableName:"id",defaultSelection:Se},{type:"findMany",operationName:Ze,modelApiIdentifier:X,defaultSelection:Se},{type:"findFirst",operationName:Ze,modelApiIdentifier:X,defaultSelection:Se},{type:"maybeFindFirst",operationName:Ze,modelApiIdentifier:X,defaultSelection:Se},{type:"findOne",operationName:Ze,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:X,defaultSelection:Se},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:X,modelSelectionField:Ze,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:Se},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:X,modelSelectionField:Ze,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:Se},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:X,modelSelectionField:Ze,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:Se}]),Te={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},ee="ambiguous",Xe="ambiguouss",As=Ee(ee,Xe,Te,[{type:"findOne",operationName:ee,modelApiIdentifier:ee,findByVariableName:"id",defaultSelection:Te},{type:"maybeFindOne",operationName:ee,modelApiIdentifier:ee,findByVariableName:"id",defaultSelection:Te},{type:"findMany",operationName:Xe,modelApiIdentifier:ee,defaultSelection:Te},{type:"findFirst",operationName:Xe,modelApiIdentifier:ee,defaultSelection:Te},{type:"maybeFindFirst",operationName:Xe,modelApiIdentifier:ee,defaultSelection:Te},{type:"findOne",operationName:Xe,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ee,defaultSelection:Te},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:ee,modelSelectionField:ee,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Te},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ee,modelSelectionField:Xe,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:Te},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:ee,modelSelectionField:ee,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Te},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ee,modelSelectionField:Xe,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:Te},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:ee,modelSelectionField:ee,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ee,modelSelectionField:Xe,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ce={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},te="unambiguous",et="unambiguouss",ks=Ee(te,et,Ce,[{type:"findOne",operationName:te,modelApiIdentifier:te,findByVariableName:"id",defaultSelection:Ce},{type:"maybeFindOne",operationName:te,modelApiIdentifier:te,findByVariableName:"id",defaultSelection:Ce},{type:"findMany",operationName:et,modelApiIdentifier:te,defaultSelection:Ce},{type:"findFirst",operationName:et,modelApiIdentifier:te,defaultSelection:Ce},{type:"maybeFindFirst",operationName:et,modelApiIdentifier:te,defaultSelection:Ce},{type:"findOne",operationName:et,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:te,defaultSelection:Ce},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:te,modelSelectionField:te,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:te,modelSelectionField:et,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:Ce},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:te,modelSelectionField:te,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:te,modelSelectionField:et,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:Ce},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:te,modelSelectionField:te,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:te,modelSelectionField:et,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),di={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},fi="session",Os="sessions",Ns=Ee(fi,Os,di,[{type:"get",operationName:"currentSession",defaultSelection:di,modelApiIdentifier:fi}]);var Ji;const pi="production",Es="development",Ps=Symbol.for("gadget/modelRelationships"),Ts=()=>{try{return process.env.GADGET_ENV}catch{return}};class Cs{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[Ji]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async a=>await si(this.connection,"globalShopifySync",{apiKeys:{value:a.apiKeys,required:!1,type:"[String!]"},syncSince:{value:a.syncSince,required:!1,type:"DateTime"},models:{value:a.models,required:!1,type:"[String!]"},force:{value:a.force,required:!1,type:"Boolean"},startReason:{value:a.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await si(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async a=>await this.connection.transaction(a),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??Ts()??Es).toLocaleLowerCase();let r;this.apiRoots[this.environment]?r=this.apiRoots[this.environment]:r=`https://related-products-example${this.environment==pi?"":`--${this.environment}`}.gadget.app`;const n={...t==null?void 0:t.exchanges};if(this.environment!==pi){const a=({forward:o})=>s=>{const l=o(s);return rn(l,Nt(d=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const c=new CustomEvent("gadget:devharness:graphqlresult",{detail:d});window.dispatchEvent(c)}}catch(c){console.warn("[gadget] error dispatching gadget dev harness event",c)}return d}))};n.beforeAll=[a,...n.beforeAll??[]]}if(this.connection=new Wi({endpoint:new URL("api/graphql",r).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:n,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==H.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new ys(this.connection),this.session=new ms(this.connection),this.shopifyProduct=new hs(this.connection),this.shopifyProductImage=new bs(this.connection),this.shopifyProductOption=new vs(this.connection),this.shopifyProductVariant=new gs(this.connection),this.shopifyShop=new Ss(this.connection),this.productPairing=new ws(this.connection),this.shopifySync=new Is(this.connection),this.ambiguous=new As(this.connection),this.unambiguous=new ks(this.connection),this.currentSession=new Ns(this.connection),this.internal={user:new Pe("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new Pe("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new Pe("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new Pe("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new Pe("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new Pe("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new Pe("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new Pe("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new Pe("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new Pe("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new Pe("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,r,n){const{data:i,error:a}=await this.connection.currentClient.query(t,r,n).toPromise();if(a)throw a;return i}async mutate(t,r,n){const{data:i,error:a}=await this.connection.currentClient.mutation(t,r,n).toPromise();if(a)throw a;return i}async fetch(t,r={}){return await this.connection.fetch(t,r)}async enqueue(t,r,n){zr(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,a;return typeof n<"u"?(i=r,a=n):!t.variables||Object.keys(t.variables).length==0?(i={},a=r):(typeof r=="string"?i={id:r}:i=r,a={}),await Mo(this.connection,t,i,a)}handle(t,r){return new cr(this.connection,t,r)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}Ji=Ps;var Yi={},wr=$e.createContext(Yi);wr.Provider;wr.Consumer;wr.displayName="UrqlContext";var _s=()=>{var e=$e.useContext(wr);if(e===Yi&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},xs={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},Rs=(e,t)=>e===t||!(!e||!t||e.key!==t.key),xr=(e,t)=>{var r={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((n,i)=>{for(var a in n)if(!(a in i))return!0;for(var o in i)if(o==="operation"?!Rs(n[o],i[o]):n[o]!==i[o])return!0;return!1})(e,r)?r:e},Ds=(e,t)=>{for(var r=0,n=t.length;r<n;r++)if(e[r]!==t[r])return!0;return!1},Rr=$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function yi(e,t){process.env.NODE_ENV!=="production"&&Rr&&Rr.ReactCurrentOwner&&Rr.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function Fs(e,t){var r=$e.useRef(void 0);return $e.useMemo(()=>{var n=lr(e,t);return r.current!==void 0&&r.current.key===n.key?r.current:(r.current=n,n)},[e,t])}var js=e=>{if(!e._react){var t=new Set,r=new Map;e.operations$&&mt(n=>{n.kind==="teardown"&&t.has(n.key)&&(t.delete(n.key),r.delete(n.key))})(e.operations$),e._react={get:n=>r.get(n),set(n,i){t.delete(n),r.set(n,i)},dispose(n){t.add(n)}}}return e._react},Ms=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function qs(e){var t=_s(),r=js(t),n=Ms(t,e.context),i=Fs(e.query,e.variables),a=$e.useMemo(()=>{if(e.pause)return null;var y=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return n?Pt(h=>{r.set(i.key,h)})(y):y},[r,t,i,n,e.pause,e.requestPolicy,e.context]),o=$e.useCallback((y,h)=>{if(!y)return{fetching:!1};var b=r.get(i.key);if(b){if(h&&b!=null&&"then"in b)throw b}else{var w,_=mt(S=>{b=S,w&&w(b)})(hi(()=>h&&!w||!b)(y));if(b==null&&h){var M=new Promise(S=>{w=S});throw r.set(i.key,M),M}else _.unsubscribe()}return b||{fetching:!0}},[r,i]),s=[t,i,e.requestPolicy,e.context,e.pause],[l,d]=$e.useState(()=>[a,xr(xs,o(a,n)),s]),c=l[1];a!==l[0]&&Ds(l[2],s)&&d([a,c=xr(l[1],o(a,n)),s]),$e.useEffect(()=>{var y=l[0],h=l[2][1],b=!1,w=M=>{b=!0,yi(d,S=>{var V=xr(S[1],M);return S[1]!==V?[S[0],V,S[2]]:S})};if(y){var _=mt(w)(Zr(()=>{w({fetching:!1})})(y));return b||w({fetching:!0}),()=>{r.dispose(h.key),_.unsubscribe()}}else w({fetching:!1})},[r,l[0],l[2][1]]);var f=$e.useCallback(y=>{var h={requestPolicy:e.requestPolicy,...e.context,...y};yi(d,b=>[n?Pt(w=>{r.set(i.key,w)})(t.executeQuery(i,h)):t.executeQuery(i,h),b[1],s])},[t,r,i,n,o,e.requestPolicy,e.context]);return[c,f]}const Bs=Ue.createContext(void 0);Ue.createContext(void 0);const $s="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",Vs=(e,t)=>{let r="";return e!==void 0?r=`[Network] ${e.message}`:t!==void 0?t.forEach(n=>{r+=`[GraphQL] ${n.message}
`}):r="Unknown error",r.trim()},Us=e=>typeof e=="string"?new Qt(e):e!=null&&e.message&&!e.code?new Qt(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class pt extends Error{static forClientSideError(t,r){return new pt({executionErrors:[t],response:r})}static forErrorsResponse(t,r){return new pt({executionErrors:t.map(cn),response:r})}static forMaybeCombinedError(t){if(t)return new pt({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,r,n=!1){const i=Oo(t,r);let a=pt.forMaybeCombinedError(t.error);return!a&&i&&!n&&(a=pt.forClientSideError(i)),a}constructor({networkError:t,executionErrors:r,response:n}){const i=(r||[]).map(Us),a=Vs(t,i);super(a),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=a,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=n}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(r=>r.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const Gs=e=>{const{context:t,suspense:r,...n}=e??{},i=Ue.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...n,context:i}},Ls=(e,t)=>({query:e.query,variables:e.variables,...t}),zs=e=>{if(!Ue.useContext(Bs))throw new Error($s);const t=Gs(e);return qs(t)};var Ws=typeof Element<"u",Qs=typeof Map=="function",Ks=typeof Set=="function",Js=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function dr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!dr(e[n],t[n]))return!1;return!0}var a;if(Qs&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!dr(n.value[1],t.get(n.value[0])))return!1;return!0}if(Ks&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Js&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(Ws&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!dr(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var Ys=function(t,r){try{return dr(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Hs=mi(Ys),Zs=e=>{const t=Ue.useRef();return e?(t.current===void 0||!Hs(e,t.current))&&(t.current=e):t.current=void 0,t.current},Xs=(e,t)=>{const r=Zs(t),n=Ue.useMemo(()=>pn(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,r,e.findMany.namespace),[e,r]),[i,a]=zs(Ls(n,t));return[Ue.useMemo(()=>{const s=at([e.findMany.operationName],e.findMany.namespace);let l=i.data;if(l){const c=xt(i.data,s);if(c){const f=Kt(i,c);l=Rt.boot(e,f,c)}}const d=pt.errorIfDataAbsent(i,s,t==null?void 0:t.pause);return{...i,data:l,error:d}},[e,t==null?void 0:t.pause,i]),a]},eu=new Cs,tu=()=>{const[{data:e}]=Xs(eu.shopifyProduct);return Dn.jsx(Dn.Fragment,{children:JSON.stringify(e)})};exports.Reader=tu;exports.commonjsGlobal=wa;exports.getDefaultExportFromCjs=mi;
