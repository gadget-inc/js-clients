"use strict";const _=require("react"),ha=require("react-dom");function ba(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const ve=ba(_);var ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mn={exports:{}},rr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn;function va(){if(Qn)return rr;Qn=1;var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},m=null,h=null;f!==void 0&&(m=""+f),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(h=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:m,ref:h,props:y,_owner:i.current}}return rr.Fragment=r,rr.jsx=s,rr.jsxs=s,rr}var nr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn;function Sa(){return Xn||(Xn=1,process.env.NODE_ENV!=="production"&&function(){var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function j(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function k(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];B("error",a,p)}}function B(a,c,p){{var g=F.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(I){return String(I)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,U=!1,Ne=!1,Pe;Pe=Symbol.for("react.module.reference");function xe(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ne||a===i||a===f||a===d||U||a===h||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===m||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===Pe||a.getModuleId!==void 0))}function Xe(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function J(a){return a.displayName||"Context"}function G(a){if(a==null)return null;if(typeof a.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return J(c)+".Consumer";case s:var p=a;return J(p._context)+".Provider";case l:return Xe(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:G(a.type)||"Memo";case m:{var O=a,A=O._payload,I=O._init;try{return G(I(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,x,L,we,q,_e,De;function Ve(){}Ve.__reactDisabledLog=!0;function Ge(){{if(M===0){$=console.log,x=console.info,L=console.warn,we=console.error,q=console.group,_e=console.groupCollapsed,De=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ve,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function H(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:x}),warn:N({},a,{value:L}),error:N({},a,{value:we}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:_e}),groupEnd:N({},a,{value:De})})}M<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var W=F.ReactCurrentDispatcher,at;function Fe(a,c,p){{if(at===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);at=g&&g[1]||""}return`
`+at+a}}var pt=!1,Ze;{var qr=typeof WeakMap=="function"?WeakMap:Map;Ze=new qr}function Vt(a,c){if(!a||pt)return"";{var p=Ze.get(a);if(p!==void 0)return p}var g;pt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=W.current,W.current=null,Ge();try{if(c){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(re){g=re}Reflect.construct(a,[],I)}else{try{I.call()}catch(re){g=re}a.call(I.prototype)}}else{try{throw Error()}catch(re){g=re}a()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var w=re.stack.split(`
`),V=g.stack.split(`
`),T=w.length-1,C=V.length-1;T>=1&&C>=0&&w[T]!==V[C];)C--;for(;T>=1&&C>=0;T--,C--)if(w[T]!==V[C]){if(T!==1||C!==1)do if(T--,C--,C<0||w[T]!==V[C]){var z=`
`+w[T].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),typeof a=="function"&&Ze.set(a,z),z}while(T>=1&&C>=0);break}}}finally{pt=!1,W.current=A,H(),Error.prepareStackTrace=O}var ke=a?a.displayName||a.name:"",tr=ke?Fe(ke):"";return typeof a=="function"&&Ze.set(a,tr),tr}function Br(a,c,p){return Vt(a,!1)}function Ur(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function et(a,c,p){if(a==null)return"";if(typeof a=="function")return Vt(a,Ur(a));if(typeof a=="string")return Fe(a);switch(a){case f:return Fe("Suspense");case d:return Fe("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Br(a.render);case y:return et(a.type,c,p);case m:{var g=a,O=g._payload,A=g._init;try{return et(A(O),c,p)}catch{}}}return""}var tt=Object.prototype.hasOwnProperty,Gt={},Lt=F.ReactDebugCurrentFrame;function rt(a){if(a){var c=a._owner,p=et(a.type,a._source,c?c.type:null);Lt.setExtraStackFrame(p)}else Lt.setExtraStackFrame(null)}function Vr(a,c,p,g,O){{var A=Function.call.bind(tt);for(var I in a)if(A(a,I)){var w=void 0;try{if(typeof a[I]!="function"){var V=Error((g||"React class")+": "+p+" type `"+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[I]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw V.name="Invariant Violation",V}w=a[I](c,I,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(T){w=T}w&&!(w instanceof Error)&&(rt(O),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,I,typeof w),rt(null)),w instanceof Error&&!(w.message in Gt)&&(Gt[w.message]=!0,rt(O),k("Failed %s type: %s",p,w.message),rt(null))}}}var Gr=Array.isArray;function yt(a){return Gr(a)}function Lr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function Wr(a){try{return Wt(a),!1}catch{return!0}}function Wt(a){return""+a}function zt(a){if(Wr(a))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Lr(a)),Wt(a)}var je=F.ReactCurrentOwner,zr={key:!0,ref:!0,__self:!0,__source:!0},Kt,Yt,mt;mt={};function Kr(a){if(tt.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function Yr(a){if(tt.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function Jr(a,c){if(typeof a.ref=="string"&&je.current&&c&&je.current.stateNode!==c){var p=G(je.current.type);mt[p]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',G(je.current.type),a.ref),mt[p]=!0)}}function Hr(a,c){{var p=function(){Kt||(Kt=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function Qr(a,c){{var p=function(){Yt||(Yt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var Xr=function(a,c,p,g,O,A,I){var w={$$typeof:t,type:a,key:c,ref:p,props:I,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function Zr(a,c,p,g,O){{var A,I={},w=null,V=null;p!==void 0&&(zt(p),w=""+p),Yr(c)&&(zt(c.key),w=""+c.key),Kr(c)&&(V=c.ref,Jr(c,O));for(A in c)tt.call(c,A)&&!zr.hasOwnProperty(A)&&(I[A]=c[A]);if(a&&a.defaultProps){var T=a.defaultProps;for(A in T)I[A]===void 0&&(I[A]=T[A])}if(w||V){var C=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&Hr(I,C),V&&Qr(I,C)}return Xr(a,w,V,O,g,je.current,I)}}var ht=F.ReactCurrentOwner,Jt=F.ReactDebugCurrentFrame;function Ie(a){if(a){var c=a._owner,p=et(a.type,a._source,c?c.type:null);Jt.setExtraStackFrame(p)}else Jt.setExtraStackFrame(null)}var bt;bt=!1;function gt(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function Ht(){{if(ht.current){var a=G(ht.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function en(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var Qt={};function tn(a){{var c=Ht();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function Xt(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=tn(c);if(Qt[p])return;Qt[p]=!0;var g="";a&&a._owner&&a._owner!==ht.current&&(g=" It was passed a child from "+G(a._owner.type)+"."),Ie(a),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ie(null)}}function Zt(a,c){{if(typeof a!="object")return;if(yt(a))for(var p=0;p<a.length;p++){var g=a[p];gt(g)&&Xt(g,c)}else if(gt(a))a._store&&(a._store.validated=!0);else if(a){var O=j(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),I;!(I=A.next()).done;)gt(I.value)&&Xt(I.value,c)}}}function rn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=G(c);Vr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!bt){bt=!0;var O=G(c);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function nn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ie(a),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ie(null);break}}a.ref!==null&&(Ie(a),k("Invalid attribute `ref` supplied to `React.Fragment`."),Ie(null))}}function er(a,c,p,g,O,A){{var I=xe(a);if(!I){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var V=en(O);V?w+=V:w+=Ht();var T;a===null?T="null":yt(a)?T="array":a!==void 0&&a.$$typeof===t?(T="<"+(G(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):T=typeof a,k("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",T,w)}var C=Zr(a,c,p,O,A);if(C==null)return C;if(I){var z=c.children;if(z!==void 0)if(g)if(yt(z)){for(var ke=0;ke<z.length;ke++)Zt(z[ke],a);Object.freeze&&Object.freeze(z)}else k("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Zt(z,a)}return a===n?nn(C):rn(C),C}}function an(a,c,p){return er(a,c,p,!0)}function on(a,c,p){return er(a,c,p,!1)}var sn=on,un=an;nr.Fragment=n,nr.jsx=sn,nr.jsxs=un}()),nr}process.env.NODE_ENV==="production"?mn.exports=va():mn.exports=Sa();var Pr=mn.exports;const wa=e=>e&&"connection"in e&&e.connection&&"endpoint"in e.connection;var xn=()=>{},Se=xn;function Ue(e){return{tag:0,0:e}}function hr(e){return{tag:1,0:e}}var Ia=e=>e;function ee(e){return t=>r=>{var n=Se;t(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):e(i[0])?r(i):n(0)})}}function Dt(e){return t=>r=>t(n=>{n===0||n.tag===0?r(n):r(hr(e(n[0])))})}function fr(e){return t=>r=>{var n=[],i=Se,o=!1,s=!1;t(u=>{s||(u===0?(s=!0,n.length||r(0)):u.tag===0?i=u[0]:(o=!1,function(f){var d=Se;f(y=>{if(y===0){if(n.length){var m=n.indexOf(d);m>-1&&(n=n.slice()).splice(m,1),n.length||(s?r(0):o||(o=!0,i(0)))}}else y.tag===0?(n.push(d=y[0]),d(0)):n.length&&(r(y),d(0))})}(e(u[0])),o||(o=!0,i(0))))}),r(Ue(u=>{if(u===1){s||(s=!0,i(1));for(var l=0,f=n,d=n.length;l<d;l++)f[l](1);n.length=0}else{!s&&!o?(o=!0,i(0)):o=!1;for(var y=0,m=n,h=n.length;y<h;y++)m[y](0)}}))}}function ka(e){return fr(Ia)(e)}function Ft(e){return ka(Ea(e))}function Dn(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0),e();else if(i.tag===0){var o=i[0];r(Ue(s=>{s===1?(n=!0,o(1),e()):o(s)}))}else r(i)})}}function Nt(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var o=i[0];r(Ue(s=>{s===1&&(n=!0),o(s)}))}else e(i[0]),r(i)})}}function Zn(e){return t=>r=>t(n=>{n===0?r(0):n.tag===0?(r(n),e()):r(n)})}function pr(e){var t=[],r=Se,n=!1;return i=>{t.push(i),t.length===1&&e(o=>{if(o===0){for(var s=0,u=t,l=t.length;s<l;s++)u[s](0);t.length=0}else if(o.tag===0)r=o[0];else{n=!1;for(var f=0,d=t,y=t.length;f<y;f++)d[f](o)}}),i(Ue(o=>{if(o===1){var s=t.indexOf(i);s>-1&&(t=t.slice()).splice(s,1),t.length||r(1)}else n||(n=!0,r(0))}))}}function ei(e){return t=>r=>{var n=Se,i=Se,o=!1,s=!1,u=!1,l=!1;t(f=>{l||(f===0?(l=!0,u||r(0)):f.tag===0?n=f[0]:(u&&(i(1),i=Se),o?o=!1:(o=!0,n(0)),function(y){u=!0,y(m=>{u&&(m===0?(u=!1,l?r(0):o||(o=!0,n(0))):m.tag===0?(s=!1,(i=m[0])(0)):(r(m),s?s=!1:i(0)))})}(e(f[0]))))}),r(Ue(f=>{f===1?(l||(l=!0,n(1)),u&&(u=!1,i(1))):(!l&&!o&&(o=!0,n(0)),u&&!s&&(s=!0,i(0)))}))}}function br(e){return t=>r=>{var n=Se,i=!1,o=0;t(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?e<=0?(i=!0,r(0),s[0](1)):n=s[0]:o++<e?(r(s),!i&&o>=e&&(i=!0,r(0),n(1))):r(s))}),r(Ue(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&o<e&&n(0)}))}}function Fn(e){return t=>r=>{var n=Se,i=Se,o=!1;t(s=>{o||(s===0?(o=!0,i(1),r(0)):s.tag===0?(n=s[0],e(u=>{u===0||(u.tag===0?(i=u[0])(0):(o=!0,i(1),n(1),r(0)))})):r(s))}),r(Ue(s=>{s===1&&!o?(o=!0,n(1),i(1)):o||n(0)}))}}function Fi(e,t){return r=>n=>{var i=Se,o=!1;r(s=>{o||(s===0?(o=!0,n(0)):s.tag===0?(i=s[0],n(s)):e(s[0])?n(s):(o=!0,t&&n(s),n(0),i(1)))})}}function Oa(e){return t=>e()(t)}function ji(e){return t=>{var r=e[Symbol.asyncIterator](),n=!1,i=!1,o=!1,s;t(Ue(async u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),t(0);else try{o=!1,t(hr(s.value))}catch(l){if(r.throw)(n=!!(await r.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Aa(e){return e[Symbol.asyncIterator]?ji(e):t=>{var r=e[Symbol.iterator](),n=!1,i=!1,o=!1,s;t(Ue(u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),t(0);else try{o=!1,t(hr(s.value))}catch(l){if(r.throw)(n=!!r.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Ea=Aa;function sr(e){return t=>{var r=!1;t(Ue(n=>{n===1?r=!0:r||(r=!0,t(hr(e)),t(0))}))}}function jn(e){return t=>{var r=!1,n=e({next(i){r||t(hr(i))},complete(){r||(r=!0,t(0))}});t(Ue(i=>{i===1&&!r&&(r=!0,n())}))}}function ti(){var e,t;return{source:pr(jn(r=>(e=r.next,t=r.complete,xn))),next(r){e&&e(r)},complete(){t&&t()}}}function ri(e){return jn(t=>(e.then(r=>{Promise.resolve(r).then(()=>{t.next(r),t.complete()})}),xn))}function Pt(e){return t=>{var r=Se,n=!1;return t(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(e(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function Na(e){Pt(t=>{})(e)}var ln={done:!0},Pa=e=>({[Symbol.asyncIterator](){var t=[],r=!1,n=Se,i;return e(o=>{r||(o===0?(i&&(i=i(ln)),r=!0):o.tag===0?(n=o[0])(0):i?i=i({value:o[0],done:!1}):t.push(o[0]))}),{async next(){return r&&!t.length?ln:(!r&&t.length<=1&&n(0),t.length?{value:t.shift(),done:!1}:new Promise(o=>i=o))},async return(){return r||(i=n(1)),r=!0,ln}}}});function Dr(e){return new Promise(t=>{var r=Se,n;e(i=>{i===0?Promise.resolve(n).then(t):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var Mn=(...e)=>{for(var t=e[0],r=1,n=e.length;r<n;r++)t=e[r](t);return t},xt={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class yr extends Error{constructor(t,r,n,i,o,s,u){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var f=s.extensions;f&&typeof f=="object"&&(l=f)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var K,R;function te(e){return new yr(`Syntax Error: Unexpected token at ${R} in ${e}`)}function Ee(e){if(e.lastIndex=R,e.test(K))return K.slice(R,R=e.lastIndex)}var Sr=/ +(?=[^\s])/y;function _a(e){for(var t=e.split(`
`),r="",n=0,i=0,o=t.length-1,s=0;s<t.length;s++)Sr.lastIndex=0,Sr.test(t[s])&&(s&&(!n||Sr.lastIndex<n)&&(n=Sr.lastIndex),i=i||s,o=s);for(var u=i;u<=o;u++)u!==i&&(r+=`
`),r+=t[u].slice(n).replace(/\\"""/g,'"""');return r}function D(){for(var e=0|K.charCodeAt(R++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|K.charCodeAt(R++))if(e===35)for(;(e=K.charCodeAt(R++))!==10&&e!==13;);R--}var Mi=/[_A-Za-z]\w*/y;function Qe(){var e;if(e=Ee(Mi))return{kind:"Name",value:e}}var Ta=/(?:null|true|false)/y,$i=/\$[_A-Za-z]\w*/y,Ca=/-?\d+/y,Ra=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,xa=/\\/g,Da=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,Fa=/"(?:"|[^\r\n]*?[^\\]")/y;function _r(e){var t,r;if(r=Ee(Ta))t=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!e&&(r=Ee($i)))t={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=Ee(Ca)){var n=r;(r=Ee(Ra))?t={kind:"FloatValue",value:n+r}:t={kind:"IntValue",value:n}}else if(r=Ee(Mi))t={kind:"EnumValue",value:r};else if(r=Ee(Da))t={kind:"StringValue",value:_a(r.slice(3,-3)),block:!0};else if(r=Ee(Fa))t={kind:"StringValue",value:xa.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(t=function(o){var s;if(K.charCodeAt(R)===91){R++,D();for(var u=[];s=_r(o);)u.push(s);if(K.charCodeAt(R++)!==93)throw te("ListValue");return D(),{kind:"ListValue",values:u}}}(e)||function(o){if(K.charCodeAt(R)===123){R++,D();for(var s=[],u;u=Qe();){if(D(),K.charCodeAt(R++)!==58)throw te("ObjectField");D();var l=_r(o);if(!l)throw te("ObjectField");s.push({kind:"ObjectField",name:u,value:l})}if(K.charCodeAt(R++)!==125)throw te("ObjectValue");return D(),{kind:"ObjectValue",fields:s}}}(e))return t;return D(),t}function qi(e){var t=[];if(D(),K.charCodeAt(R)===40){R++,D();for(var r;r=Qe();){if(D(),K.charCodeAt(R++)!==58)throw te("Argument");D();var n=_r(e);if(!n)throw te("Argument");t.push({kind:"Argument",name:r,value:n})}if(!t.length||K.charCodeAt(R++)!==41)throw te("Argument");D()}return t}function jt(e){var t=[];for(D();K.charCodeAt(R)===64;){R++;var r=Qe();if(!r)throw te("Directive");D(),t.push({kind:"Directive",name:r,arguments:qi(e)})}return t}function ja(){var e=Qe();if(e){D();var t;if(K.charCodeAt(R)===58){if(R++,D(),t=e,!(e=Qe()))throw te("Field");D()}return{kind:"Field",alias:t,name:e,arguments:qi(!1),directives:jt(!1),selectionSet:Fr()}}}function Bi(){var e;if(D(),K.charCodeAt(R)===91){R++,D();var t=Bi();if(!t||K.charCodeAt(R++)!==93)throw te("ListType");e={kind:"ListType",type:t}}else if(e=Qe())e={kind:"NamedType",name:e};else throw te("NamedType");return D(),K.charCodeAt(R)===33?(R++,D(),{kind:"NonNullType",type:e}):e}var Ma=/on/y;function Ui(){if(Ee(Ma)){D();var e=Qe();if(!e)throw te("NamedType");return D(),{kind:"NamedType",name:e}}}var $a=/\.\.\./y;function qa(){if(Ee($a)){D();var e=R,t;if((t=Qe())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:jt(!1)};R=e;var r=Ui(),n=jt(!1),i=Fr();if(!i)throw te("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function Fr(){var e;if(D(),K.charCodeAt(R)===123){R++,D();for(var t=[];e=qa()||ja();)t.push(e);if(!t.length||K.charCodeAt(R++)!==125)throw te("SelectionSet");return D(),{kind:"SelectionSet",selections:t}}}var Ba=/fragment/y;function Ua(){if(Ee(Ba)){D();var e=Qe();if(!e)throw te("FragmentDefinition");D();var t=Ui();if(!t)throw te("FragmentDefinition");var r=jt(!1),n=Fr();if(!n)throw te("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:r,selectionSet:n}}}var Va=/(?:query|mutation|subscription)/y;function Ga(){var e,t,r=[],n=[];(e=Ee(Va))&&(D(),t=Qe(),r=function(){var s,u=[];if(D(),K.charCodeAt(R)===40){for(R++,D();s=Ee($i);){if(D(),K.charCodeAt(R++)!==58)throw te("VariableDefinition");var l=Bi(),f=void 0;if(K.charCodeAt(R)===61&&(R++,D(),!(f=_r(!0))))throw te("VariableDefinition");D(),u.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:l,defaultValue:f,directives:jt(!0)})}if(K.charCodeAt(R++)!==41)throw te("VariableDefinition");D()}return u}(),n=jt(!1));var i=Fr();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:r,directives:n,selectionSet:i}}function La(e,t){return K=typeof e.body=="string"?e.body:e,R=0,function(){var n;D();for(var i=[];n=Ua()||Ga();)i.push(n);return{kind:"Document",definitions:i}}()}function Wa(e){return JSON.stringify(e)}function za(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var Te=e=>!(!e||!e.length),fe={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!Te(e.variableDefinitions)&&!Te(e.directives))return fe.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),Te(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(fe.VariableDefinition).join(", ")+")"),Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),t+" "+fe.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=fe.Variable(e.variable)+": "+Ce(e.type);return e.defaultValue&&(t+=" = "+Ce(e.defaultValue)),Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(Te(e.arguments)){var r=e.arguments.map(fe.Argument),n=t+"("+r.join(", ")+")";t=n.length>80?t+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),e.selectionSet?t+" "+fe.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?za(e.value):Wa(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Ce).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(fe.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Ce(e.value),Document:e=>Te(e.definitions)?e.definitions.map(Ce).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Ce).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Ce(e.value),FragmentSpread(e){var t="..."+e.name.value;return Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),t+" "+Ce(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,Te(e.directives)&&(t+=" "+e.directives.map(fe.Directive).join(" ")),t+" "+Ce(e.selectionSet)},Directive(e){var t="@"+e.name.value;return Te(e.arguments)&&(t+="("+e.arguments.map(fe.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Ce(e.type)+"]",NonNullType:e=>Ce(e.type)+"!"};function Ce(e){return fe[e.kind]?fe[e.kind](e):""}var Ka=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new yr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new yr(e);class gr extends Error{constructor(t){var r=(t.graphQLErrors||[]).map(Ka),n=((i,o)=>{var s="";if(i)return`[Network] ${i.message}`;if(o)for(var u of o)s&&(s+=`
`),s+=`[GraphQL] ${u.message}`;return s})(t.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var hn=(e,t)=>{for(var r=0|(t||5381),n=0,i=0|e.length;n<i;n++)r=(r<<5)+r+e.charCodeAt(n);return r},Et=new Set,ni=new WeakMap,Ct=e=>{if(e===null||Et.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return Ct(e.toJSON());if(Array.isArray(e)){var t="[";for(var r of e)t.length>1&&(t+=","),t+=Ct(r)||"null";return t+="]"}else if(Cr!==Mt&&e instanceof Cr||Rr!==Mt&&e instanceof Rr)return"null";var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var i=ni.get(e)||Math.random().toString(36).slice(2);return ni.set(e,i),Ct({__key:i})}Et.add(e);var o="{";for(var s of n){var u=Ct(e[s]);u&&(o.length>1&&(o+=","),o+=Ct(s)+":"+u)}return Et.delete(e),o+="}"},bn=(e,t,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||Et.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)bn(e,`${t}.${n}`,r[n]);else if(r instanceof Cr||r instanceof Rr)e.set(t,r);else{Et.add(r);for(var o of Object.keys(r))bn(e,`${t}.${o}`,r[o])}},Tr=e=>(Et.clear(),Ct(e));class Mt{}var Cr=typeof File<"u"?File:Mt,Rr=typeof Blob<"u"?Blob:Mt,Ya=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,Ja=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,Ha=(e,t)=>t%2==0?e.replace(Ja,`
`):e,ii=e=>e.split(Ya).map(Ha).join("").trim(),ai=new Map,Ar=new Map,$n=e=>{var t;return typeof e=="string"?t=ii(e):e.loc&&Ar.get(e.__key)===e?t=e.loc.source.body:(t=ai.get(e)||ii(Ce(e)),ai.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},oi=e=>{var t=hn($n(e));if(e.definitions){var r=Gi(e);r&&(t=hn(`
# ${r}`,t))}return t},Vi=e=>{var t,r;return typeof e=="string"?(t=oi(e),r=Ar.get(t)||La(e)):(t=e.__key||oi(e),r=Ar.get(t)||e),r.loc||$n(r),r.__key=t,Ar.set(t,r),r},ur=(e,t,r)=>{var n=t||{},i=Vi(e),o=Tr(n),s=i.__key;return o!=="{}"&&(s=hn(o,s)),{key:s,query:i,variables:n,extensions:r}},Gi=e=>{for(var t of e.definitions)if(t.kind===xt.OPERATION_DEFINITION)return t.name?t.name.value:void 0},Qa=e=>{for(var t of e.definitions)if(t.kind===xt.OPERATION_DEFINITION)return t.operation},gn=(e,t,r)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new gr({graphQLErrors:t.errors,response:r}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?n:t.hasNext,stale:!1}},vn=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var r of Object.keys(t))e[r]=vn(e[r],t[r]);return e}return t},Sn=(e,t,r)=>{var n=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},s=t.incremental;"path"in t&&(s=[t]);var u={data:e.data};if(s)for(var l of s){Array.isArray(l.errors)&&n.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var f="data",d=u,y=0,m=l.path.length;y<m;f=l.path[y++])d=d[f]=Array.isArray(d[f])?[...d[f]]:{...d[f]};if(l.items)for(var h=+f>=0?f:0,v=0,E=l.items.length;v<E;v++)d[h+v]=vn(d[h+v],l.items[v]);else l.data!==void 0&&(d[f]=vn(d[f],l.data))}else u.data=t.data||e.data,n=t.errors||n;return{operation:e.operation,data:u.data,error:n.length?new gr({graphQLErrors:n,response:r}):void 0,extensions:i?o:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},Li=(e,t,r)=>({operation:e,data:void 0,error:new gr({networkError:t,response:r}),extensions:void 0,hasNext:!1,stale:!1});function Wi(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:$n(e.query),operationName:Gi(e.query),variables:e.variables||void 0,extensions:e.extensions}}var Xa=(e,t)=>{var r=e.kind==="query"&&e.context.preferGetMethod;if(!r||!t)return e.context.url;var n=new URL(e.context.url);for(var i in t){var o=t[i];o&&n.searchParams.set(i,typeof o=="object"?Tr(o):o)}var s=n.toString();return s.length>2047&&r!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},Za=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var r=Tr(t),n=(u=>{var l=new Map;return(Cr!==Mt||Rr!==Mt)&&(Et.clear(),bn(l,"variables",u)),l})(t.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",Tr({...[...n.keys()].map(u=>[u])}));var o=0;for(var s of n.values())i.append(""+o++,s);return i}return r}},eo=(e,t)=>{var r={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var o=Za(e,t);return typeof o=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:o?"POST":"GET",body:o,headers:r}},to=typeof TextDecoder<"u"?new TextDecoder:null,ro=/boundary="?([^=";]+)"?/i,no=/data: ?([^\n]+)/,si=e=>e.constructor.name==="Buffer"?e.toString():to.decode(e);async function*ui(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield si(t);else{var r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield si(n.value)}finally{r.cancel()}}}async function*li(e,t){var r="",n;for await(var i of e)for(r+=i;(n=r.indexOf(t))>-1;)yield r.slice(0,n),r=r.slice(n+t.length)}async function*io(e,t,r){var n=!0,i=null,o;try{yield await Promise.resolve();var s=(o=await(e.context.fetch||fetch)(t,r)).headers.get("Content-Type")||"",u;if(/multipart\/mixed/i.test(s))u=async function*(d,y){var m=d.match(ro),h="--"+(m?m[1]:"-"),v=!0,E;for await(var j of li(ui(y),`\r
`+h)){if(v){v=!1;var F=j.indexOf(h);if(F>-1)j=j.slice(F+h.length);else continue}try{yield E=JSON.parse(j.slice(j.indexOf(`\r
\r
`)+4))}catch(k){if(!E)throw k}if(E&&E.hasNext===!1)break}E&&E.hasNext!==!1&&(yield{hasNext:!1})}(s,o);else if(/text\/event-stream/i.test(s))u=async function*(d){var y;for await(var m of li(ui(d),`

`)){var h=m.match(no);if(h){var v=h[1];try{yield y=JSON.parse(v)}catch(E){if(!y)throw E}if(y&&y.hasNext===!1)break}}y&&y.hasNext!==!1&&(yield{hasNext:!1})}(o);else if(!/text\//i.test(s))u=async function*(d){yield JSON.parse(await d.text())}(o);else throw new Error(await o.text());for await(var l of u)i=i?Sn(i,l,o):gn(e,l,o),n=!1,yield i,n=!0;i||(yield i=gn(e,{},o))}catch(f){if(!n)throw f;yield Li(e,o&&(o.status<200||o.status>=300)&&o.statusText?new Error(o.statusText):f,o)}}function ao(e,t,r){var n;return typeof AbortController<"u"&&(r.signal=(n=new AbortController).signal),Dn(()=>{n&&n.abort()})(ee(i=>!!i)(ji(io(e,t,r))))}var wn=(e,t)=>{if(Array.isArray(e))for(var r of e)wn(r,t);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?t.add(e[n]):wn(e[n],t);return t},In=e=>{var t=!1;if("definitions"in e){var r=[];for(var n of e.definitions){var i=In(n);t=t||i!==n,r.push(i)}if(t)return{...e,definitions:r}}else if("selectionSet"in e){var o=[],s=e.kind===xt.OPERATION_DEFINITION;if(e.selectionSet){for(var u of e.selectionSet.selections||[]){s=s||u.kind===xt.FIELD&&u.name.value==="__typename"&&!u.alias;var l=In(u);t=t||l!==u,o.push(l)}if(s||(t=!0,o.push({kind:xt.FIELD,name:{kind:xt.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:o}}}}return e},ci=new Map,oo=e=>{var t=Vi(e),r=ci.get(t.__key);return r||(ci.set(t.__key,r=In(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},kn=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>kn(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var r={};for(var n in e)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=kn(e[n]);return r}else return e};function di(e){var t=r=>e(r);return t.toPromise=()=>Dr(br(1)(ee(r=>!r.stale&&!r.hasNext)(t))),t.then=(r,n)=>t.toPromise().then(r,n),t.subscribe=r=>Pt(r)(t),t}function $t(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var fi=(e,t)=>$t(e.kind,e,{meta:{...e.context.meta,...t}}),so=()=>{},cn=({kind:e})=>e!=="mutation"&&e!=="query",uo=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,i=new Map,o=u=>{var l=$t(u.kind,u);return l.query=oo(u.query),l},s=u=>u.kind==="query"&&u.context.requestPolicy!=="network-only"&&(u.context.requestPolicy==="cache-only"||n.has(u.key));return u=>{var l=Dt(d=>{var y=n.get(d.key);process.env.NODE_ENV!=="production"&&r({operation:d,...y?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var m=y;return process.env.NODE_ENV!=="production"&&(m={...m,operation:process.env.NODE_ENV!=="production"?fi(d,{cacheOutcome:y?"hit":"miss"}):d}),d.context.requestPolicy==="cache-and-network"&&(m.stale=!0,pi(t,d)),m})(ee(d=>!cn(d)&&s(d))(u)),f=Nt(d=>{var{operation:y}=d;if(y){var m=y.context.additionalTypenames||[];if(d.operation.kind!=="subscription"&&(m=(S=>[...wn(S,new Set)])(d.data).concat(m)),d.operation.kind==="mutation"||d.operation.kind==="subscription"){var h=new Set;process.env.NODE_ENV!=="production"&&r({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${m}`,operation:y,data:{typenames:m,response:d},source:"cacheExchange"});for(var v=0;v<m.length;v++){var E=m[v],j=i.get(E);j||i.set(E,j=new Set);for(var F of j.values())h.add(F);j.clear()}for(var k of h.values())n.has(k)&&(y=n.get(k).operation,n.delete(k),pi(t,y))}else if(y.kind==="query"&&d.data){n.set(y.key,d);for(var B=0;B<m.length;B++){var b=m[B],P=i.get(b);P||i.set(b,P=new Set),P.add(y.key)}}}})(e(ee(d=>d.kind!=="query"||d.context.requestPolicy!=="cache-only")(Dt(d=>process.env.NODE_ENV!=="production"?fi(d,{cacheOutcome:"miss"}):d)(Ft([Dt(o)(ee(d=>!cn(d)&&!s(d))(u)),ee(d=>cn(d))(u)])))));return Ft([l,f])}},pi=(e,t)=>e.reexecuteOperation($t(t.kind,t,{requestPolicy:"network-only"})),dn=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:i})=>{var o=r||(s=>s.kind==="subscription"||!!t&&(s.kind==="query"||s.kind==="mutation"));return s=>{var u=fr(f=>{var{key:d}=f,y=ee(m=>m.kind==="teardown"&&m.key===d)(s);return Fn(y)((m=>{var h=e(Wi(m),m);return jn(({next:v,complete:E})=>{var j=!1,F,k;return Promise.resolve().then(()=>{j||(F=h.subscribe({next(B){v(k=k?Sn(k,B):gn(m,B))},error(B){v(Li(m,B))},complete(){j||(j=!0,m.kind==="subscription"&&n.reexecuteOperation($t("teardown",m,m.context)),k&&k.hasNext&&v(Sn(k,{hasNext:!1})),E())}}))}),()=>{j=!0,F&&F.unsubscribe()}})})(f))})(ee(f=>f.kind!=="teardown"&&o(f))(s)),l=i(ee(f=>f.kind==="teardown"||!o(f))(s));return Ft([u,l])}},lo=({forward:e,dispatchDebug:t})=>r=>{var n=fr(o=>{var s=Wi(o),u=Xa(o,s),l=eo(o,s);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:o,data:{url:u,fetchOptions:l},source:"fetchExchange"});var f=Fn(ee(d=>d.kind==="teardown"&&d.key===o.key)(r))(ao(o,u,l));return process.env.NODE_ENV!=="production"?Nt(d=>{var y=d.data?void 0:d.error;process.env.NODE_ENV!=="production"&&t({type:y?"fetchError":"fetchSuccess",message:`A ${y?"failed":"successful"} fetch response has been returned.`,operation:o,data:{url:u,fetchOptions:l,value:y||d},source:"fetchExchange"})})(f):f})(ee(o=>o.kind!=="teardown"&&(o.kind!=="subscription"||!!o.context.fetchSubscriptions))(r)),i=e(ee(o=>o.kind==="teardown"||o.kind==="subscription"&&!o.context.fetchSubscriptions)(r));return Ft([n,i])},co=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((i,o)=>{var s=!1;return o({client:t,forward(u){if(process.env.NODE_ENV!=="production"){if(s)throw new Error("forward() must only be called once in each Exchange.");s=!0}return pr(i(pr(u)))},dispatchDebug(u){process.env.NODE_ENV!=="production"&&n({timestamp:Date.now(),source:o.name,...u})}})},r),zi=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>fr(o=>{r&&o.error&&r(o.error,o.operation);var s=t&&t(o)||o;return"then"in s?ri(s):sr(s)})(n(fr(o=>{var s=e&&e(o)||o;return"then"in s?ri(s):sr(s)})(i))),fo=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=Nt(r=>{if(r.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var n=`No exchange has handled operations of kind "${r.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:n,operation:r,source:"fallbackExchange"}),console.warn(n)}})(t)),ee(r=>!1)(t)),yi=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var r=0,n=new Map,i=new Map,o=new Set,s=[],u={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=ti();function f(b){(b.kind==="mutation"||b.kind==="teardown"||!o.has(b.key))&&(b.kind==="teardown"?o.delete(b.key):b.kind!=="mutation"&&o.add(b.key),l.next(b))}var d=!1;function y(b){if(b&&f(b),!d){for(d=!0;d&&(b=s.shift());)f(b);d=!1}}var m=b=>{var P=Fn(ee(S=>S.kind==="teardown"&&S.key===b.key)(l.source))(ee(S=>S.operation.kind===b.kind&&S.operation.key===b.key&&(!S.operation.context._instance||S.operation.context._instance===b.context._instance))(B));return b.kind!=="query"?P=Fi(S=>!!S.hasNext,!0)(P):P=ei(S=>{var U=sr(S);return S.stale||S.hasNext?U:Ft([U,Dt(()=>(S.stale=!0,S))(br(1)(ee(Ne=>Ne.key===b.key)(l.source)))])})(P),b.kind!=="mutation"?P=Dn(()=>{o.delete(b.key),n.delete(b.key),i.delete(b.key),d=!1;for(var S=s.length-1;S>=0;S--)s[S].key===b.key&&s.splice(S,1);f($t("teardown",b,b.context))})(Nt(S=>{if(S.stale){for(var U of s)if(U.key===S.operation.key){o.delete(U.key);break}}else S.hasNext||o.delete(b.key);n.set(b.key,S)})(P)):P=Zn(()=>{f(b)})(P),t.maskTypename&&(P=Dt(S=>({...S,data:kn(S.data,!0)}))(P)),pr(P)},h=this instanceof e?this:Object.create(e.prototype),v=Object.assign(h,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(b){b.kind==="teardown"?y(b):(b.kind==="mutation"||i.has(b.key))&&(s.push(b),Promise.resolve().then(y))},createRequestOperation(b,P,S){S||(S={});var U;if(process.env.NODE_ENV!=="production"&&b!=="teardown"&&(U=Qa(P.query))!==b)throw new Error(`Expected operation of type "${b}" but found "${U}"`);return $t(b,P,{_instance:b==="mutation"?r=r+1|0:void 0,...u,...S,requestPolicy:S.requestPolicy||u.requestPolicy,suspense:S.suspense||S.suspense!==!1&&v.suspense})},executeRequestOperation(b){return b.kind==="mutation"?di(m(b)):di(Oa(()=>{var P=i.get(b.key);P||i.set(b.key,P=m(b)),P=Zn(()=>{y(b)})(P);var S=n.get(b.key);return b.kind==="query"&&S&&(S.stale||S.hasNext)?ei(sr)(Ft([P,ee(U=>U===n.get(b.key))(sr(S))])):P}))},executeQuery(b,P){var S=v.createRequestOperation("query",b,P);return v.executeRequestOperation(S)},executeSubscription(b,P){var S=v.createRequestOperation("subscription",b,P);return v.executeRequestOperation(S)},executeMutation(b,P){var S=v.createRequestOperation("mutation",b,P);return v.executeRequestOperation(S)},readQuery(b,P,S){var U=null;return Pt(Ne=>{U=Ne})(v.query(b,P,S)).unsubscribe(),U},query:(b,P,S)=>v.executeQuery(ur(b,P),S),subscription:(b,P,S)=>v.executeSubscription(ur(b,P),S),mutation:(b,P,S)=>v.executeMutation(ur(b,P),S)}),E=so;if(process.env.NODE_ENV!=="production"){var{next:j,source:F}=ti();v.subscribeToDebugTarget=b=>Pt(b)(F),E=j}var k=co(t.exchanges),B=pr(k({client:v,dispatchDebug:E,forward:fo({dispatchDebug:E})})(l.source));return Na(B),v};const po={DateTime(e){return new Date(e)}};class yo{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(r=>this.hydrateObject(r)):this.hydrateObject(t)}hydrateObject(t){const r={...t};for(const[n,i]of Object.entries(this.plan)){const o=r[n];o!=null&&(r[n]=po[i](o))}return r}}function ge(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=ge(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:ge(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=ge(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=ge(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(ge(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(ge(o),ge(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(ge(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}var pe;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(pe||(pe={}));class mo{constructor(t){Object.defineProperty(this,"__gadget",{enumerable:!0,configurable:!0,writable:!0,value:{fields:{},instantiatedFields:{},persistedFields:{},fieldKeys:[],fieldKeysTracker:{},touched:!1}}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.__gadget.instantiatedFields=ge(t),this.__gadget.persistedFields=ge(t),Object.assign(this.__gadget.fields,t),!t||Object.keys(t).length===0?this.empty=!0:(this.__gadget.fieldKeys=Object.keys(this.__gadget.fields),this.__gadget.fieldKeys.forEach(n=>this.__gadget.fieldKeysTracker[n]=!0));const r={get:(n,i)=>{if(i in this)return this[i];if(i in n)return n[i]},set:(n,i,o)=>(this.trackKey(i),n[i.toString()]=o,!0)};return new Proxy(this.__gadget.fields,r)}trackKey(t){const r=t.toString();this.__gadget.fieldKeysTracker[r]||(this.__gadget.fieldKeysTracker[r]=!0,this.__gadget.fieldKeys.push(r))}hasChanges(t=pe.SinceLoaded){if(this.__gadget.touched)return!0;const r=t==pe.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;return this.__gadget.fieldKeys.some(n=>!wr(r[n],this.__gadget.fields[n]))}isEmpty(){return this.empty}getField(t){return this.__gadget.fields[t]}setField(t,r){return this.trackKey(t),this.__gadget.fields[t]=r}changes(t,r=pe.SinceLoaded){const i=(typeof t=="string"?r:t||r)==pe.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;if(t&&typeof t=="string"){const o=i[t],s=this.__gadget.fields[t],u=!wr(s,o);return u?{changed:u,current:s,previous:o}:{changed:u}}else{const o={};for(let s=0;s<this.__gadget.fieldKeys.length;s++){const u=this.__gadget.fieldKeys[s];wr(i[u],this.__gadget.fields[u])||(o[u]={current:this.__gadget.fields[u],previous:i[u]})}return o}}toChangedJSON(t=pe.SinceLoaded){const r=t==pe.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields,n={};for(let i=0;i<this.__gadget.fieldKeys.length;i++){const o=this.__gadget.fieldKeys[i];wr(r[o],this.__gadget.fields[o])||(n[o]=this.__gadget.fields[o])}return n}changed(t,r=pe.SinceLoaded){return t&&typeof t=="string"?this.changes(t,r).changed:this.hasChanges(t===void 0?r:t)}flushChanges(t=pe.SinceLoaded){t==pe.SinceLoaded?this.__gadget.instantiatedFields=ge(this.__gadget.fields):t==pe.SinceLastPersisted&&(this.__gadget.persistedFields=ge(this.__gadget.fields)),this.__gadget.touched=!1}revertChanges(t=pe.SinceLoaded){let r;t==pe.SinceLoaded?r=Object.keys(this.__gadget.instantiatedFields):r=Object.keys(this.__gadget.persistedFields);for(const n of this.__gadget.fieldKeys)r.includes(n)||delete this.__gadget.fields[n];t==pe.SinceLoaded?Object.assign(this.__gadget.fields,ge(this.__gadget.instantiatedFields)):Object.assign(this.__gadget.fields,ge(this.__gadget.persistedFields)),this.__gadget.touched=!1}toJSON(){return Nn({...this.__gadget.fields})}touch(){this.__gadget.touched=!0}}const Ki=mo;class Yi extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class On extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class jr extends Error{constructor(t,r){super(t.startsWith("GGT_")?t:`${r}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class mi extends Error{constructor(t){let r;En(t)?r=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:r="GraphQL websocket closed unexpectedly by the server",super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class ho extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class bo extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class go extends Error{constructor(t,r,n,i){const o=r.slice(0,3),s=r.length>3?`, and ${r.length-3} more error${r.length>4?"s":""} need${r.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${n??"Record"} is invalid and can't be saved. ${o.map(({apiIdentifier:u,message:l})=>`${u} ${l}`).join(", ")}${s}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=r,this.modelApiIdentifier=n,this.record=i}}class Ji extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class qn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class vo extends Error{constructor(t,r){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var r;return(r=t.code)!==null&&r!==void 0?r:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var r;return(r=t.statusCode)!==null&&r!==void 0?r:500}))}}function An(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const qt=(e,t)=>{const r=t.length;let n=0;for(;e!=null&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0},En=e=>(e==null?void 0:e.type)=="close",Be=(e,t)=>typeof e!="string"?"":_t(e,t),hi=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},_t=(e,t=!0)=>{let r=""+e;return t?r=r.replace(/^[a-z\d]*/,n=>hi(n)):r=r.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),n=>n.toLowerCase()),r=r.replace(/(?:_|(\/))([a-z\d]*)/gi,(n,i,o,s,u)=>(i||(i=""),""+i+hi(o))),r},So=e=>`${_t(e)}Sort`,wo=e=>`${_t(e)}Filter`,Io=(e,t,r)=>new Ji(`More than one record found for ${e}.${t} = ${r}. Please confirm your unique validation is not reporting an error.`),ko=(e,t)=>{if(e.fetching)return;const r=qt(e.data,t);if(r===void 0)return new Yi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(r===null)return new qn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},He=(e,t,r=!1)=>{var n;if(e.error)throw e.error instanceof gr&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(u=>"[Network] "+u.message).join(`
`)),e.error;const i=qt(e.data,t),o=qt(i,["edges"]),s=o??i;if(i===void 0)throw new Yi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||r&&Array.isArray(s)&&s.length===0)throw new qn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},lr=(e,t)=>{var r;if(e.error)throw e.error instanceof gr&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const n=qt(e.data,t);return n??null},Bn=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new go(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new Ji(e.message):new jr(e.message,e.code)},lt=(e,t)=>{const r=He(e,t);return Hi(r)},Hi=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?Bn(t):new jr("Gadget API operation not successful.","GGT_UNKNOWN")}return e},Qi=e=>{var t,r,n,i;if(!((r=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||r===void 0)&&r.hydrations)return new yo((i=(n=e.data)===null||n===void 0?void 0:n.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},cr=(e,t)=>{const r=Qi(e);return r&&(t=r.apply(t)),new Ki(t)},Un=(e,t)=>{const r=Qi(e);return r&&(t=r.apply(t)),t==null?void 0:t.map(n=>new Ki(n))},mr=(e,t)=>{const r=t.edges.map(n=>n.node);return Un(e,r)},Nn=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t[r]=n===void 0?null:Nn(n)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)==="[object Object]"){const t={};for(const r of Object.keys(e)){const n=Nn(e[r]);n!==void 0&&(t[r]=n)}return t}}}},fn="gstk",bi=e=>{try{const t=window[e];return t.setItem(fn,fn),t.removeItem(fn),!0}catch{return!1}},gi=Object.prototype.toString,vi=Object.getPrototypeOf,Si=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,or=(e,t,r)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(r.indexOf(e)>-1&&r.indexOf(t)>-1)return!0;const n=gi.call(e),i=gi.call(t);let o,s,u;if(r.push(e,t),n!=i||(o=Si(e),s=Si(t),o.length!=s.length||o.some(function(l){return!or(e[l],t[l],r)})))return!1;switch(n.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{o=e.entries(),s=t.entries();do if(u=o.next(),!or(u.value,s.next().value,r))return!1;while(!u.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(u=0;u<e.length;u++)if(!(!(u in e)&&!(u in t))&&(u in e!=u in t||!or(e[u],t[u],r)))return!1;return!0;case"Object":return or(vi(e),vi(t),r);default:return!1}},wr=(e,t)=>or(e,t,[]),Xi=(e,t)=>{var r,n;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(o=>{var s;return o!=="id"&&!(!((s=e.paramOnlyVariables)===null||s===void 0)&&s.includes(o))&&o!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((r=e.acceptsModelInput)!==null&&r!==void 0?r:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[o,s]of Object.entries(t))!((n=e.paramOnlyVariables)===null||n===void 0)&&n.includes(o)?i[o]=s:o=="id"?i.id=s:i[e.modelApiIdentifier][o]=s}else i=t;return i},Oo=(e,t={})=>{var r;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((r=Array.isArray(t)?t:t.inputs)!==null&&r!==void 0?r:[]).map(i=>Xi(e,i))}},Ao=(e,t)=>{const r={};for(const[n,i]of Object.entries(e))r[n]={...i,value:t[n]};return r};class Bt extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,r,n){const i=new Bt;return i.push(...r),i.modelManager=t,i.pagination=n,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new jr("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new On("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:r,last:n,before:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,after:this.pagination.pageInfo.endCursor,first:r||n})}async previousPage(){var t;if(!this.hasPreviousPage)throw new On("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:r,last:n,after:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,before:this.pagination.pageInfo.startCursor,last:n||r})}}const Pn=e=>Object.entries(e).flatMap(([t,r])=>{if(typeof r=="boolean")return r?t:!1;if(r instanceof Gn){let n="";const i=Object.entries(r.args).filter(([o,s])=>s!=null).map(([o,s])=>{var u;return`${o}: ${s instanceof Ln?`$${(u=s.name)!==null&&u!==void 0?u:o}`:JSON.stringify(s)}`});return i.length>0&&(n=`(${i.join(", ")})`),r.subselection?[`${t}${n} {`,...Pn(r.subselection),"}"]:`${t}${n}`}else return[`${t} {`,...Pn(r),"}"]}).filter(t=>!!t).map(t=>"  "+t),Vn=e=>{const t={},r=n=>{let i=1;if(t[n]){for(;t[`${n}${i}`];)i++;return`${n}${i}`}return n};return Object.entries(e).forEach(([n,i])=>{i instanceof Gn?Object.entries(i.args).forEach(([o,s])=>{var u;s instanceof Ln&&(t[(u=s.name)!==null&&u!==void 0?u:r(o)]=s)}):typeof i=="object"&&i!==null&&Object.assign(t,Vn(i))}),t},Eo=e=>{const t=Vn(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([n,i])=>`$${n}: ${i.type}`).join(", ")})`};class Gn{constructor(t,r){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Ln{constructor(t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:n})}present(){return this.value!=null}}const dt=(e,t)=>new Gn(e,t),Z=e=>new Ln(e.type+(e.required?"!":""),e.name,e.value),No=e=>{var t;const r=Eo(e),n=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${r}${n} {
${Pn(e.fields).join(`
`)}
}`},ft=e=>{const t=Vn(e.fields);return{query:No(e),variables:Object.entries(t??{}).reduce((r,[n,i])=>(typeof i.value<"u"&&(r[n]=i.value),r),{})}},Wn=e=>({gadgetMeta:{[`hydrations(modelName: "${e}")`]:!0}}),zn=(e,t=!1)=>{const r={...e};return t&&(r.__typename=!0),r},Mr=e=>{if(e!=null&&e.live)return["@live"]},Po=(e,t,r,n,i)=>{const o={};return typeof t<"u"&&(o.id=Z({type:"GadgetID!",value:t})),ft({type:"query",name:e,fields:{[e]:dt(o,zn((i==null?void 0:i.select)||r,!0)),...Wn(n)},directives:Mr(i)})},_o=(e,t,r,n,i,o)=>Kn(e,n,i,{...o,first:2,filter:{[t]:{equals:r}}}),Kn=(e,t,r,n)=>ft({type:"query",name:e,fields:{[e]:dt({after:Z({value:n==null?void 0:n.after,type:"String"}),first:Z({value:n==null?void 0:n.first,type:"Int"}),before:Z({value:n==null?void 0:n.before,type:"String"}),last:Z({value:n==null?void 0:n.last,type:"Int"}),sort:n!=null&&n.sort?Z({value:n.sort,type:`[${So(r)}!]`}):void 0,filter:n!=null&&n.filter?Z({value:n.filter,type:`[${wo(r)}!]`}):void 0,search:n!=null&&n.search?Z({value:n.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:zn((n==null?void 0:n.select)||t,!0)}}),...Wn(r)},directives:Mr(n)}),Zi={message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}},Yn=e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,Z(r)])),ea=(e,t,r)=>({success:!0,errors:Zi,[e]:t&&!r?zn(t,!0):!1,result:!!r}),To=(e,t,r,n,i,o,s,u,l)=>{const f=(o==null?void 0:o.select)||t;let d={[e]:dt(Yn(i),ea(n,f,l))};s&&(d={[s]:d});const y={type:"mutation",name:e,fields:{...d,...Wn(r)},directives:Mr(o)};return ft(y)},Co=(e,t,r)=>{let n={},i=t.operationName;switch(t.type){case"action":{const s=(r==null?void 0:r.select)||t.defaultSelection;t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),n={[`... on ${`${_t(i)}Result`}`]:ea(t.modelApiIdentifier,s,t.hasReturnType)};break}case"globalAction":n={[`... on ${_t(i)}Result`]:ta()}}const o={type:"subscription",name:Be(i)+"BackgroundResult",fields:{backgroundAction:dt({id:Z({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...n}})}};return ft(o)},ta=()=>({success:!0,errors:Zi,result:!0}),Ro=(e,t,r,n)=>{let i={[e]:dt(Yn(t),ta())};return r&&(i={[r]:i}),ft({type:"mutation",name:e,fields:i,directives:Mr(n)})},xo=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const r of Object.keys(t))["id","retries","queue","priority","startAt"].includes(r)||delete t[r];return t},Do=(e,t,r,n,i)=>{let o={background:{[e]:dt({...Yn(t),backgroundOptions:Z({type:"EnqueueBackgroundActionOptions",value:xo(n)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})}};return r&&(o={[r]:o}),ft({type:"mutation",name:"enqueue"+_t(e),fields:o})},Fo=(e,t)=>({[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator]();return{async next(){const{done:n,value:i}=await r.next();return{done:n,value:typeof i<"u"?t(i):void 0}},async return(n){var i;return await((i=r.return)===null||i===void 0?void 0:i.call(r,n))}}}});function Jn(e,t,r){return r!=null&&r.live?Fo(Pa(e),t):Mn(e,ee(i=>!i.stale&&!i.hasNext),br(1),Dr).then(i=>t(i))}const wi=(e,t,r,n,i,o,s=!0)=>{const u=Po(t,r,n,i,o),l=e.connection.currentClient.query(u.query,u.variables);return Jn(l,f=>{const y=(s?He:lr)(f,[t]);return cr(f,y)},o)},jo=(e,t,r,n,i,o,s,u=!0)=>{const l=_o(t,r,n,i,o,s),f=e.connection.currentClient.query(l.query,l.variables);return Jn(f,d=>{const y=He(d,[t]),m=mr(d,y);if(m.length>1)throw Io(o,r,n);const h=m[0];if(!h&&u)throw new qn(`${o} record with ${r}=${n} not found`);return h??null},s)},Ii=(e,t,r,n,i,o)=>{const s=Kn(t,r,n,i),u=e.connection.currentClient.query(s.query,s.variables);return Jn(u,l=>{let f;o===!1?f=lr(l,[t]):f=He(l,[t],o);const d=mr(l,f);return Bt.boot(e,d,{options:i,pageInfo:f.pageInfo})},i)},ki=async(e,t,r,n,i,o,s,u,l,f)=>{const d=To(t,r,n,i,s,u,l,o,f),y=await e.connection.currentClient.mutation(d.query,d.variables).toPromise(),m=l?[l,t]:[t];if(o){const h=qt(y.data,m),v=h[i]&&r?Un(y,h[i]):void 0;if(h.errors){const E=h.errors.map(j=>Bn(j));throw new vo(E,v)}return v}else{const h=lt(y,m);return ra(r,y,h,i,f)}},ra=(e,t,r,n,i)=>{if(e!=null)return i?r.result:cr(t,r[n])},Oi=async(e,t,r,n)=>{const i=Ro(t,r,n),o=await e.currentClient.mutation(i.query,i.variables).toPromise();return lt(o,n?[n,t]:[t]).result};async function Mo(e,t,r,n={}){const i=t.isBulk?Oo(t,r):Xi(t,r),o=Ao(t.variables,i),s=Do(t.operationName,o,t.namespace,n,t.isBulk),u=await e.currentClient.mutation(s.query,s.variables,n).toPromise(),l=["background",t.operationName];t.namespace&&l.unshift(t.namespace);try{const f=lt(u,l);return t.isBulk?f.backgroundActions.map(d=>new Er(e,t,d.id)):new Er(e,t,f.backgroundAction.id)}catch(f){if("code"in f&&f.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(n!=null&&n.id)&&n.onDuplicateID=="ignore")return new Er(e,t,n.id);throw f}}const $o=async(e,t,r,n)=>{const i=Co(t,r,n),o=e.currentClient.subscription(i.query,i.variables),s=await Mn(o,ee(l=>{var f,d;return l.error||((d=(f=l.data)===null||f===void 0?void 0:f.backgroundAction)===null||d===void 0?void 0:d.outcome)}),br(1),Dr),u=He(s,["backgroundAction"]);switch(Hi(u.result),r.type){case"action":{u.result=ra(r.defaultSelection,s.data,u.result,r.isBulk?r.modelApiIdentifier:r.modelSelectionField,r.hasReturnType);break}case"globalAction":{u.result=u.result.result;break}}return u};class Er{constructor(t,r,n){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n})}async result(t){return(await $o(this.connection,this.id,this.action,t)).result}}var dr;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(dr||(dr={}));function be(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Ot(e){return be(e)==="object"}function qo(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function Ai(e,t){return e.length<124?e:t}const Bo="graphql-transport-ws";var ye;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(ye||(ye={}));var X;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(X||(X={}));function na(e){if(!Ot(e))throw new Error(`Message is expected to be an object, but got ${be(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${be(e.type)}`);switch(e.type){case X.ConnectionInit:case X.ConnectionAck:case X.Ping:case X.Pong:{if(e.payload!=null&&!Ot(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case X.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${be(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ot(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${be(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${be(e.payload.query)}`);if(e.payload.variables!=null&&!Ot(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${be(e.payload.variables)}`);if(e.payload.operationName!=null&&be(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${be(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Ot(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${be(e.payload.extensions)}`);break}case X.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${be(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Ot(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${be(e.payload)}`);break}case X.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${be(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!qo(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case X.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${be(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Uo(e,t){return na(typeof e=="string"?JSON.parse(e,t):e)}function ir(e,t){return na(e),JSON.stringify(e,t)}function Vo(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:s=0,disablePong:u,connectionAckWaitTimeout:l=0,retryAttempts:f=5,retryWait:d=async function(M){let $=1e3;for(let x=0;x<M;x++)$*=2;await new Promise(x=>setTimeout(x,$+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:y=Ir,isFatalConnectionProblem:m,on:h,webSocketImpl:v,generateID:E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,M=>{const $=Math.random()*16|0;return(M=="x"?$:$&3|8).toString(16)})},jsonMessageReplacer:j,jsonMessageReviver:F}=e;let k;if(v){if(!Lo(v))throw new Error("Invalid WebSocket implementation provided");k=v}else typeof WebSocket<"u"?k=WebSocket:typeof global<"u"?k=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(k=window.WebSocket||window.MozWebSocket);if(!k)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const B=k,b=(()=>{const N=(()=>{const $={};return{on(x,L){return $[x]=L,()=>{delete $[x]}},emit(x){var L;"id"in x&&((L=$[x.id])===null||L===void 0||L.call($,x))}}})(),M={connecting:h!=null&&h.connecting?[h.connecting]:[],opened:h!=null&&h.opened?[h.opened]:[],connected:h!=null&&h.connected?[h.connected]:[],ping:h!=null&&h.ping?[h.ping]:[],pong:h!=null&&h.pong?[h.pong]:[],message:h!=null&&h.message?[N.emit,h.message]:[N.emit],closed:h!=null&&h.closed?[h.closed]:[],error:h!=null&&h.error?[h.error]:[]};return{onMessage:N.on,on($,x){const L=M[$];return L.push(x),()=>{L.splice(L.indexOf(x),1)}},emit($,...x){for(const L of[...M[$]])L(...x)}}})();function P(N){const M=[b.on("error",$=>{M.forEach(x=>x()),N($)}),b.on("closed",$=>{M.forEach(x=>x()),N($)})]}let S,U=0,Ne,Pe=!1,xe=0,Xe=!1;async function J(){clearTimeout(Ne);const[N,M]=await(S??(S=new Promise((L,we)=>(async()=>{if(Pe){if(await d(xe),!U)return S=void 0,we({code:1e3,reason:"All Subscriptions Gone"});xe++}b.emit("connecting");const q=new B(typeof t=="function"?await t():t,Bo);let _e,De;function Ve(){isFinite(s)&&s>0&&(clearTimeout(De),De=setTimeout(()=>{q.readyState===B.OPEN&&(q.send(ir({type:X.Ping})),b.emit("ping",!1,void 0))},s))}P(H=>{S=void 0,clearTimeout(_e),clearTimeout(De),we(H),Ir(H)&&H.code===4499&&(q.close(4499,"Terminated"),q.onerror=null,q.onclose=null)}),q.onerror=H=>b.emit("error",H),q.onclose=H=>b.emit("closed",H),q.onopen=async()=>{try{b.emit("opened",q);const H=typeof r=="function"?await r():r;if(q.readyState!==B.OPEN)return;q.send(ir(H?{type:X.ConnectionInit,payload:H}:{type:X.ConnectionInit},j)),isFinite(l)&&l>0&&(_e=setTimeout(()=>{q.close(ye.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Ve()}catch(H){b.emit("error",H),q.close(ye.InternalClientError,Ai(H instanceof Error?H.message:new Error(H).message,"Internal client error"))}};let Ge=!1;q.onmessage=({data:H})=>{try{const W=Uo(H,F);if(b.emit("message",W),W.type==="ping"||W.type==="pong"){b.emit(W.type,!0,W.payload),W.type==="pong"?Ve():u||(q.send(ir(W.payload?{type:X.Pong,payload:W.payload}:{type:X.Pong})),b.emit("pong",!1,W.payload));return}if(Ge)return;if(W.type!==X.ConnectionAck)throw new Error(`First message cannot be of type ${W.type}`);clearTimeout(_e),Ge=!0,b.emit("connected",q,W.payload),Pe=!1,xe=0,L([q,new Promise((at,Fe)=>P(Fe))])}catch(W){q.onmessage=null,b.emit("error",W),q.close(ye.BadResponse,Ai(W instanceof Error?W.message:new Error(W).message,"Bad response"))}}})())));N.readyState===B.CLOSING&&await M;let $=()=>{};const x=new Promise(L=>$=L);return[N,$,Promise.race([x.then(()=>{if(!U){const L=()=>N.close(1e3,"Normal Closure");isFinite(o)&&o>0?Ne=setTimeout(()=>{N.readyState===B.OPEN&&L()},o):L()}}),M])]}function G(N){if(Ir(N)&&(Go(N.code)||[ye.InternalServerError,ye.InternalClientError,ye.BadRequest,ye.BadResponse,ye.Unauthorized,ye.SubprotocolNotAcceptable,ye.SubscriberAlreadyExists,ye.TooManyInitialisationRequests].includes(N.code)))throw N;if(Xe)return!1;if(Ir(N)&&N.code===1e3)return U>0;if(!f||xe>=f||!y(N)||m!=null&&m(N))throw N;return Pe=!0}return n||(async()=>{for(U++;;)try{const[,,N]=await J();await N}catch(N){try{if(!G(N))return}catch(M){return i==null?void 0:i(M)}}})(),{on:b.on,subscribe(N,M){const $=E(N);let x=!1,L=!1,we=()=>{U--,x=!0};return(async()=>{for(U++;;)try{const[q,_e,De]=await J();if(x)return _e();const Ve=b.onMessage($,Ge=>{switch(Ge.type){case X.Next:{M.next(Ge.payload);return}case X.Error:{L=!0,x=!0,M.error(Ge.payload),we();return}case X.Complete:{x=!0,we();return}}});q.send(ir({id:$,type:X.Subscribe,payload:N},j)),we=()=>{!x&&q.readyState===B.OPEN&&q.send(ir({id:$,type:X.Complete},j)),U--,x=!0,_e()},await De.finally(Ve);return}catch(q){if(!G(q))return}})().then(()=>{L||M.complete()}).catch(q=>{M.error(q)}),()=>{x||we()}},async dispose(){if(Xe=!0,S){const[N]=await S;N.close(1e3,"Normal Closure")}},terminate(){S&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Ir(e){return Ot(e)&&"code"in e&&"reason"in e}function Go(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function Lo(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var Rt=null;typeof WebSocket<"u"?Rt=WebSocket:typeof MozWebSocket<"u"?Rt=MozWebSocket:typeof global<"u"?Rt=global.WebSocket||global.MozWebSocket:typeof window<"u"?Rt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Rt=self.WebSocket||self.MozWebSocket);const Wo=Rt;class ia extends Error{}class zo{constructor(t,r){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw He(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new ia("Transaction rolled back.")}async start(){He(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){He(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class Ko{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,r){this.values[t]=r}}const Yo=e=>{const t=[...e.definitions].reverse().find(r=>r.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(n=>n.kind=="Field").name.value},Ei=zi({onOperation:e=>{var t,r;(t=(r=e.context).operationName)!==null&&t!==void 0||(r.operationName=Yo(e.query)||"unknown")}}),Jo=zi({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,r]=e.context.url.split("?"),n=new URLSearchParams(r);n.set("operation",e.context.operationName),e.context.url=`${t}?${n.toString()}`}catch{}}});var _n;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})(_n||(_n={}));const Ho=2,Qo=4800,Xo=1e4,Zo=[ye.ConnectionAcknowledgementTimeout,ye.ConnectionInitialisationTimeout],Ni=Symbol.for("gadget/connection"),es="token",ts=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var ne;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(ne||(ne={}));const kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class aa{constructor(t){var r,n,i,o,s;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:ne.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l)=>{let f,d;if(l?(f=l,d=u):(f=u,d={}),this.currentTransaction)return await f(this.currentTransaction);let y=null,m;try{y=await this.waitForOpenedConnection({isFatalConnectionProblem(E){return console.warn("Transport error encountered during transaction processing",E),!0},connectionAckWaitTimeout:Qo,...d,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const h=new yi({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,Ei,...this.exchanges.beforeAsync,dn({forwardSubscription(E){const j={...E,query:E.query||""};return{subscribe:F=>({unsubscribe:y.subscribe(j,F)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});h[Ni]=this,m=new zo(h,y),this.currentTransaction=m,await m.start();const v=await f(m);return await m.commit(),v}catch(h){try{m!=null&&m.open&&await m.rollback()}catch(v){v instanceof ia||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",v)}throw En(h)?new mi(h):h}finally{await(y==null?void 0:y.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l={})=>{var f;u=rs(u,(f=this.options.baseRouteURL)!==null&&f!==void 0?f:this.options.endpoint),this.isGadgetRequest(u)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==ne.Custom&&await this.options.authenticationMode.custom.processFetch(u,l));const d=await this._fetchImplementation(u,l);if(this.authenticationMode==ne.BrowserSession){const y=d.headers.get("x-set-authorization"),m=y!=null&&y.startsWith("Session ")?y.replace("Session ",""):null;m&&this.sessionTokenStore.setItem(this.sessionStorageKey,m)}return d}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof kr<"u"&&kr.fetch?this._fetchImplementation=kr.fetch.bind(kr):this._fetchImplementation=async(...u)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-3e4e87a0.cjs")).then(f=>f.browserPonyfill);return l.default&&(l=l.default),await l(...u)},this.websocketImplementation=(n=(r=t.websocketImplementation)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.WebSocket)!==null&&n!==void 0?n:Wo,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(o=t.environment)!==null&&o!==void 0?o:"Development",this.requestPolicy=(s=t.requestPolicy)!==null&&s!==void 0?s:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${es}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var r;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=ne.InternalAuthToken:t.apiKey?this.authenticationMode=ne.APIKey:t.custom&&(this.authenticationMode=ne.Custom),this.options.authenticationMode=t),(r=this.authenticationMode)!==null&&r!==void 0||(this.authenticationMode=ne.Anonymous)}enableSessionMode(t){this.authenticationMode=ne.BrowserSession;const r=!t||typeof t=="boolean"?dr.Durable:t.storageType;let n;r==dr.Durable&&bi("localStorage")?n=window.localStorage:r==dr.Session&&bi("sessionStorage")?n=window.sessionStorage:n=new Ko,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&n.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=n,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let r;if(typeof t=="string"?r=t:typeof t=="object"&&"url"in t?r=t.url:r=String(t),Tn(this.options.endpoint))return!!Tn(r);const n=new URL(this.options.endpoint).host;return r.includes(n)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,Ei,Jo];typeof window<"u"&&t.push(uo),t.push(...this.exchanges.beforeAsync,dn({forwardSubscription:n=>({subscribe:i=>{const o={...n,query:n.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(o,i)}}})}),dn({isSubscriptionOperation:n=>n.query.definitions.some(i=>is(i)),forwardSubscription:n=>({subscribe:i=>{let o;const s=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:u,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:f})=>{const d={...n,query:n.query||""};return o=u(l(f(y=>this.getBaseSubscriptionClient().subscribe(d,y))),i),o});return{unsubscribe:()=>{o?o():s.then(u=>u())}}}})}),lo,...this.exchanges.afterAll);const r=new yi({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return r[Ni]=this,r}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let r=this.websocketsEndpoint;if(t!=null&&t.urlParams){const n=new URLSearchParams;for(const[i,o]of Object.entries(t.urlParams))o&&n.set(i,o);r+="?"+n.toString()}return Vo({url:r,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var n,i;const o={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==ne.APIKey?o.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==ne.InternalAuthToken?o.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==ne.BrowserSession?o.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==ne.Custom&&await((i=(n=this.options.authenticationMode)===null||n===void 0?void 0:n.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(o)),o},onNonLazyError:()=>{},on:{connected:(n,i)=>{var o,s,u,l,f,d;if(this.authenticationMode==ne.BrowserSession&&(i!=null&&i.sessionToken)){const y=(o=this.options.authenticationMode)===null||o===void 0?void 0:o.browserSession;(y!==null&&typeof y=="object"?y.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(u=(s=this.subscriptionClientOptions)===null||s===void 0?void 0:s.on)===null||u===void 0?void 0:u.connected)===null||l===void 0||l.call(u,n,i),(d=(f=t==null?void 0:t.on)===null||f===void 0?void 0:f.connected)===null||d===void 0||d.call(f,n,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const r={};if(this.authenticationMode==ne.InternalAuthToken)r.authorization="Basic "+ts("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==ne.APIKey)r.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==ne.BrowserSession){const n=this.sessionTokenStore.getItem(this.sessionStorageKey);n&&(r.authorization=`Session ${n}`)}return r["x-gadget-environment"]=this.environment,r}async waitForOpenedConnection(t){let r=this.newSubscriptionClient(t),n=[],i=t.connectionAttempts||Ho;const o=t.connectionGlobalTimeoutMs||Xo,s=()=>{n.forEach(u=>u()),n=[]};return await new Promise((u,l)=>{const f=setTimeout(()=>{this.disposeClient(r),y(new ho("Timeout opening websocket connection to Gadget API"))},o),d=v=>{if(En(v)){if(v.code==_n.TooManyRequests)return s(),y(new bo(v.reason));if(Zo.includes(v.code)&&i>0){i-=1,this.disposeClient(r),r=this.newSubscriptionClient(t),h();return}}clearTimeout(f),l(new mi(v))},y=v=>{clearTimeout(f),l(v)},m=()=>{clearTimeout(f),u(r)},h=()=>{s(),n.push(r.on("connected",m)),n.push(r.on("closed",d)),n.push(r.on("error",y))};h()}).finally(s)}disposeClient(t){const r=t.dispose();r&&r.catch(n=>console.error(`Error closing SubscriptionClient: ${n.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(aa,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.20"});function rs(e,t){if(typeof e!="string")return e;if(Tn(e))try{return String(new URL(e,t))}catch{return e}return e}function Tn(e){return e.startsWith("/")&&!e.startsWith("//")}const ns=e=>{var t;return e.kind!=="OperationDefinition"||e.operation!=="query"?null:(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live")},is=e=>!!ns(e),vr=`
fragment InternalErrorsDetails on ExecutionError {
  code
  message
  ...on InvalidRecordError {
    validationErrors {
      apiIdentifier
      message
    }
    model {
      apiIdentifier
    }
    record
  }
}
`,Ut=e=>`
  gadgetMeta {
    hydrations(modelName: "${e}")
  }
`,as=e=>`
    query InternalFind${Be(e)}($id: GadgetID!, $select: [String!]) {
      ${Ut(e)}
      internal {
        ${e}(id: $id, select: $select)
      }
    }
    `,oa=(e,t)=>({search:t!=null&&t.search?Z({value:t==null?void 0:t.search,type:"String"}):void 0,sort:t!=null&&t.sort?Z({value:t==null?void 0:t.sort,type:`[${e}Sort!]`}):void 0,filter:t!=null&&t.filter?Z({value:t==null?void 0:t.filter,type:`[${e}Filter!]`}):void 0,select:t!=null&&t.select?Z({value:sa(t==null?void 0:t.select),type:"[String!]"}):void 0}),os=(e,t)=>{const r=Be(e),n=oa(r,t);return ft({type:"query",name:`InternalFindFirst${r}`,fields:{internal:{[`list${r}`]:dt({...n,first:Z({value:1,type:"Int"})},{edges:{node:!0}})}}})},ss=(e,t)=>{const r=Be(e),n=oa(r,t);return ft({type:"query",name:`InternalFindMany${r}`,fields:{internal:{[`list${r}`]:dt({...n,after:Z({value:t==null?void 0:t.after,type:"String"}),before:Z({value:t==null?void 0:t.before,type:"String"}),first:Z({value:t==null?void 0:t.first,type:"Int"}),last:Z({value:t==null?void 0:t.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}}})},us=e=>{const t=Be(e);return`
    ${vr}

    mutation InternalCreate${t}($record: Internal${t}Input) {
      ${Ut(e)}
      internal {
        create${t}(${e}: $record) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${e}
        }
      }
    }
  `},ls=(e,t)=>{const r=Be(e),n=Be(t);return`
    ${vr}

    mutation InternalBulkCreate${n}($records: [Internal${r}Input]!) {
      ${Ut(e)}
      internal {
        bulkCreate${n}(${t}: $records) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${t}
        }
      }
    }
  `},cs=e=>{const t=Be(e);return`
    ${vr}

    mutation InternalUpdate${t}($id: GadgetID!, $record: Internal${t}Input) {
      ${Ut(e)}
      internal {
        update${t}(id: $id, ${e}: $record) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${e}
        }
      }
    }
  `},ds=e=>{const t=Be(e);return`
    ${vr}

    mutation InternalDelete${t}($id: GadgetID!) {
      ${Ut(e)}
      internal {
        delete${t}(id: $id) {
          success
          errors {
            ... InternalErrorsDetails
          }
        }
      }
    }
  `},fs=e=>{const t=Be(e);return`
    ${vr}

    mutation InternalDeleteMany${t}(
      $search: String
      $filter: [${t}Filter!]
    ) {
      ${Ut(e)}
      internal {
        deleteMany${t}(search: $search, filter: $filter) {
          success
          errors {
            ... InternalErrorsDetails
          }
        }
      }
    }
  `};class Me{constructor(t,r,n){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=_t(t)}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(n=>n===this.apiIdentifier)}getRecordFromData(t,r){let n=t;if(!this.validateRecord(t))throw new jr(`Invalid arguments found in variables. Did you mean to use ${r}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(n=n[this.apiIdentifier]),n}async findOne(t,r,n=!0){const i=await this.connection.currentClient.query(as(this.apiIdentifier),{id:t,select:sa(r==null?void 0:r.select)}).toPromise(),s=(n?He:lr)(i,["internal",this.apiIdentifier]);return cr(i,s)}async maybeFindOne(t,r){const n=await this.findOne(t,r,!1);return n.isEmpty()?null:n}async findMany(t){const r=ss(this.apiIdentifier,t),n=await this.connection.currentClient.query(r.query,r.variables).toPromise(),i=lr(n,["internal",`list${this.capitalizedApiIdentifier}`]),o=mr(n,i);return Bt.boot(this,o,{options:t,pageInfo:i.pageInfo})}async findFirst(t,r=!0){const n=os(this.apiIdentifier,t),i=await this.connection.currentClient.query(n.query,n.variables).toPromise();let o;r===!1?o=lr(i,["internal",`list${this.capitalizedApiIdentifier}`]):o=He(i,["internal",`list${this.capitalizedApiIdentifier}`],r);const s=mr(i,o);return Bt.boot(this,s,{options:t,pageInfo:o.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const r=await this.connection.currentClient.mutation(us(this.apiIdentifier),{record:this.getRecordFromData(t,"create")}).toPromise(),n=lt(r,["internal",`create${this.capitalizedApiIdentifier}`]);return cr(r,n[this.apiIdentifier])}async bulkCreate(t){var r;if(!(!((r=this.options)===null||r===void 0)&&r.pluralApiIdentifier))throw new On("Cannot perform bulkCreate without a pluralApiIdentifier");const n=Be(this.options.pluralApiIdentifier),i=await this.connection.currentClient.mutation(ls(this.apiIdentifier,this.options.pluralApiIdentifier),{records:t}).toPromise(),o=lt(i,["internal",`bulkCreate${n}`]);return Un(i,o[this.options.pluralApiIdentifier])}async update(t,r){An(t,"Can't update a record without an ID passed");const n=await this.connection.currentClient.mutation(cs(this.apiIdentifier),{id:t,record:this.getRecordFromData(r,"update")}).toPromise(),i=lt(n,["internal",`update${this.capitalizedApiIdentifier}`]);return cr(n,i[this.apiIdentifier])}async delete(t){An(t,"Can't delete a record without an ID");const r=await this.connection.currentClient.mutation(ds(this.apiIdentifier),{id:t}).toPromise();lt(r,["internal",`delete${this.capitalizedApiIdentifier}`])}async deleteMany(t){const r=await this.connection.currentClient.mutation(fs(this.apiIdentifier),t).toPromise();lt(r,["internal",`deleteMany${this.capitalizedApiIdentifier}`])}}function sa(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[r,n]of Object.entries(e))n&&t.push(r);return t}const Re=(e,t,r,n)=>{const i=class{constructor(o){this.connection=o}};for(const o of n)switch(o.type){case"maybeFindOne":case"findOne":{"functionName"in o?i.prototype[o.functionName]=Object.assign(async function(s,u){return await jo(this,o.operationName,o.findByField,s,r,e,u)},o):i.prototype[o.type]=Object.assign(async function(s,u){const l=await wi(this,e,s,r,e,u,o.type!="maybeFindOne");return l.isEmpty()?null:l},o);break}case"findMany":{i.prototype.findMany=Object.assign(async function(s){return await Ii(this,t,r,e,s)},o);break}case"maybeFindFirst":case"findFirst":{i.prototype[o.type]=Object.assign(async function(s){const u=await Ii(this,t,r,e,{...s,first:1,last:void 0,before:void 0,after:void 0},o.type!="maybeFindFirst");return(u==null?void 0:u[0])??null},o);break}case"get":{i.prototype.get=Object.assign(async function(s){return await wi(this,o.operationName,void 0,r,e,s)},o);break}case"action":{if(o.isBulk){const s=!!o.variables.ids;i.prototype[o.functionName]=Object.assign(async function(u,l){let f;return s?f={ids:{...o.variables.ids,value:u}}:f={inputs:{...o.variables.inputs,value:u.map(d=>ua(this[o.singleActionFunctionName],void 0,d))}},await ki(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!0,f,l,o.namespace,o.hasReturnType)},o)}else{const s=!!o.variables.id,u=Object.keys(o.variables).filter(l=>l!="id").length>0;i.prototype[o.functionName]=Object.assign(async function(...l){const[f,d]=ps(o,s,u,l);return await ki(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!1,f,d,o.namespace,o.hasReturnType)},o)}break}}return i};function ua(e,t,r={}){var o;if(e.hasAmbiguousIdentifier&&Object.keys(r).some(s=>{var u;return!((u=e.paramOnlyVariables)!=null&&u.includes(s))&&s!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let n;const i=Object.entries(e.variables).find(([s,u])=>s==="id"&&u.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in r&&typeof r[e.modelApiIdentifier]=="object"&&r[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])n=r;else{n={[e.modelApiIdentifier]:{}};for(const[s,u]of Object.entries(r))(o=e.paramOnlyVariables)!=null&&o.includes(s)?n[s]=u:i&&s===i[0]?n.id=u:n[e.modelApiIdentifier][s]=u}else n=r;return n.id??(n.id=t),n}function ps(e,t,r,n){let i,o;t&&(i=n.shift()),r&&(o=n.shift());const s=n.shift();let u=o;(i||o)&&(u=ua(e,i,o));const l={};for(const[f,d]of Object.entries(e.variables))l[f]={value:f=="id"?i:u==null?void 0:u[f],...d};return[l,s]}const Oe={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},Q="user",nt="users",ys=Re(Q,nt,Oe,[{type:"findOne",operationName:Q,modelApiIdentifier:Q,findByVariableName:"id",defaultSelection:Oe},{type:"maybeFindOne",operationName:Q,modelApiIdentifier:Q,findByVariableName:"id",defaultSelection:Oe},{type:"findMany",operationName:nt,modelApiIdentifier:Q,defaultSelection:Oe},{type:"findFirst",operationName:nt,modelApiIdentifier:Q,defaultSelection:Oe},{type:"maybeFindFirst",operationName:nt,modelApiIdentifier:Q,defaultSelection:Oe},{type:"findOne",operationName:nt,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:Q,defaultSelection:Oe},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Oe},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:Q,modelSelectionField:nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:Oe},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Oe},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:Q,modelSelectionField:nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:Oe},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:Q,modelSelectionField:nt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Oe},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:Q,modelSelectionField:nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:Oe}]),Le={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},me="session",Tt="sessions",ms=Re(me,Tt,Le,[{type:"findOne",operationName:me,modelApiIdentifier:me,findByVariableName:"id",defaultSelection:Le},{type:"maybeFindOne",operationName:me,modelApiIdentifier:me,findByVariableName:"id",defaultSelection:Le},{type:"findMany",operationName:Tt,modelApiIdentifier:me,defaultSelection:Le},{type:"findFirst",operationName:Tt,modelApiIdentifier:me,defaultSelection:Le},{type:"maybeFindFirst",operationName:Tt,modelApiIdentifier:me,defaultSelection:Le},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:me,modelSelectionField:me,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Le},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:me,modelSelectionField:Tt,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:Le},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:me,modelSelectionField:me,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Le},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:me,modelSelectionField:Tt,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:Le}]),We={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},se="shopifyProduct",vt="shopifyProducts",hs=Re(se,vt,We,[{type:"findOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:We},{type:"maybeFindOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:We},{type:"findMany",operationName:vt,modelApiIdentifier:se,defaultSelection:We},{type:"findFirst",operationName:vt,modelApiIdentifier:se,defaultSelection:We},{type:"maybeFindFirst",operationName:vt,modelApiIdentifier:se,defaultSelection:We},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:se,modelSelectionField:vt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:We},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:se,modelSelectionField:vt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:We},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:se,modelSelectionField:vt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),ze={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},ue="shopifyProductImage",St="shopifyProductImages",bs=Re(ue,St,ze,[{type:"findOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:ze},{type:"maybeFindOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:ze},{type:"findMany",operationName:St,modelApiIdentifier:ue,defaultSelection:ze},{type:"findFirst",operationName:St,modelApiIdentifier:ue,defaultSelection:ze},{type:"maybeFindFirst",operationName:St,modelApiIdentifier:ue,defaultSelection:ze},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ze},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ue,modelSelectionField:St,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:ze},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ze},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ue,modelSelectionField:St,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:ze},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ue,modelSelectionField:St,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ke={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},le="shopifyProductOption",wt="shopifyProductOptions",gs=Re(le,wt,Ke,[{type:"findOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Ke},{type:"maybeFindOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Ke},{type:"findMany",operationName:wt,modelApiIdentifier:le,defaultSelection:Ke},{type:"findFirst",operationName:wt,modelApiIdentifier:le,defaultSelection:Ke},{type:"maybeFindFirst",operationName:wt,modelApiIdentifier:le,defaultSelection:Ke},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ke},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:le,modelSelectionField:wt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:Ke},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ke},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:le,modelSelectionField:wt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:Ke},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:le,modelSelectionField:wt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ye={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},ce="shopifyProductVariant",It="shopifyProductVariants",vs=Re(ce,It,Ye,[{type:"findOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:Ye},{type:"maybeFindOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:Ye},{type:"findMany",operationName:It,modelApiIdentifier:ce,defaultSelection:Ye},{type:"findFirst",operationName:It,modelApiIdentifier:ce,defaultSelection:Ye},{type:"maybeFindFirst",operationName:It,modelApiIdentifier:ce,defaultSelection:Ye},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ye},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ce,modelSelectionField:It,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:Ye},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ye},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ce,modelSelectionField:It,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:Ye},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ce,modelSelectionField:It,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),he={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},Y="shopifyShop",it="shopifyShops",Ss=Re(Y,it,he,[{type:"findOne",operationName:Y,modelApiIdentifier:Y,findByVariableName:"id",defaultSelection:he},{type:"maybeFindOne",operationName:Y,modelApiIdentifier:Y,findByVariableName:"id",defaultSelection:he},{type:"findMany",operationName:it,modelApiIdentifier:Y,defaultSelection:he},{type:"findFirst",operationName:it,modelApiIdentifier:Y,defaultSelection:he},{type:"maybeFindFirst",operationName:it,modelApiIdentifier:Y,defaultSelection:he},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:Y,modelSelectionField:Y,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:he},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:Y,modelSelectionField:it,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:he},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:Y,modelSelectionField:Y,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:he},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:Y,modelSelectionField:it,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:he},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:Y,modelSelectionField:Y,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:Y,modelSelectionField:it,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:Y,modelSelectionField:Y,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:he},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:Y,modelSelectionField:it,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:he},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:Y,modelSelectionField:Y,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:he},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:Y,modelSelectionField:it,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:he}]),Je={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},de="productPairing",kt="productPairings",ws=Re(de,kt,Je,[{type:"findOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Je},{type:"maybeFindOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Je},{type:"findMany",operationName:kt,modelApiIdentifier:de,defaultSelection:Je},{type:"findFirst",operationName:kt,modelApiIdentifier:de,defaultSelection:Je},{type:"maybeFindFirst",operationName:kt,modelApiIdentifier:de,defaultSelection:Je},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Je},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:de,modelSelectionField:kt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:Je},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Je},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:de,modelSelectionField:kt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:Je},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:de,modelSelectionField:kt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ae={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},ie="shopifySync",ot="shopifySyncs",Is=Re(ie,ot,Ae,[{type:"findOne",operationName:ie,modelApiIdentifier:ie,findByVariableName:"id",defaultSelection:Ae},{type:"maybeFindOne",operationName:ie,modelApiIdentifier:ie,findByVariableName:"id",defaultSelection:Ae},{type:"findMany",operationName:ot,modelApiIdentifier:ie,defaultSelection:Ae},{type:"findFirst",operationName:ot,modelApiIdentifier:ie,defaultSelection:Ae},{type:"maybeFindFirst",operationName:ot,modelApiIdentifier:ie,defaultSelection:Ae},{type:"findOne",operationName:ot,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ie,defaultSelection:Ae},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ae},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:ie,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:Ae},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ae},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:ie,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:Ae},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:ie,modelSelectionField:ie,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ae},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:ie,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:Ae}]),$e={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},ae="ambiguous",st="ambiguouss",ks=Re(ae,st,$e,[{type:"findOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:$e},{type:"maybeFindOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:$e},{type:"findMany",operationName:st,modelApiIdentifier:ae,defaultSelection:$e},{type:"findFirst",operationName:st,modelApiIdentifier:ae,defaultSelection:$e},{type:"maybeFindFirst",operationName:st,modelApiIdentifier:ae,defaultSelection:$e},{type:"findOne",operationName:st,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ae,defaultSelection:$e},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:$e},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ae,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:$e},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:$e},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ae,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:$e},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ae,modelSelectionField:st,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),qe={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},oe="unambiguous",ut="unambiguouss",Os=Re(oe,ut,qe,[{type:"findOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:qe},{type:"maybeFindOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:qe},{type:"findMany",operationName:ut,modelApiIdentifier:oe,defaultSelection:qe},{type:"findFirst",operationName:ut,modelApiIdentifier:oe,defaultSelection:qe},{type:"maybeFindFirst",operationName:ut,modelApiIdentifier:oe,defaultSelection:qe},{type:"findOne",operationName:ut,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:oe,defaultSelection:qe},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:qe},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:oe,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:qe},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:qe},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:oe,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:qe},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:oe,modelSelectionField:ut,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Pi={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},_i="session",As="sessions",Es=Re(_i,As,Pi,[{type:"get",operationName:"currentSession",defaultSelection:Pi,modelApiIdentifier:_i}]);var la;const Ti="production",Ns="development",Ps=Symbol.for("gadget/modelRelationships"),_s=()=>{try{return process.env.GADGET_ENV}catch{return}};class Ts{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[la]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async o=>await Oi(this.connection,"globalShopifySync",{apiKeys:{value:o.apiKeys,required:!1,type:"[String!]"},syncSince:{value:o.syncSince,required:!1,type:"DateTime"},models:{value:o.models,required:!1,type:"[String!]"},force:{value:o.force,required:!1,type:"Boolean"},startReason:{value:o.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await Oi(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async o=>await this.connection.transaction(o),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??_s()??Ns).toLocaleLowerCase();let r;this.apiRoots[this.environment]?r=this.apiRoots[this.environment]:r=`https://related-products-example${this.environment==Ti?"":`--${this.environment}`}.gadget.app`;const n={...t==null?void 0:t.exchanges};if(this.environment!==Ti){const o=({forward:s})=>u=>{const l=s(u);return Mn(l,Dt(f=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const d=new CustomEvent("gadget:devharness:graphqlresult",{detail:f});window.dispatchEvent(d)}}catch(d){console.warn("[gadget] error dispatching gadget dev harness event",d)}return f}))};n.beforeAll=[o,...n.beforeAll??[]]}if(this.connection=new aa({endpoint:new URL("api/graphql",r).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:n,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==ne.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new ys(this.connection),this.session=new ms(this.connection),this.shopifyProduct=new hs(this.connection),this.shopifyProductImage=new bs(this.connection),this.shopifyProductOption=new gs(this.connection),this.shopifyProductVariant=new vs(this.connection),this.shopifyShop=new Ss(this.connection),this.productPairing=new ws(this.connection),this.shopifySync=new Is(this.connection),this.ambiguous=new ks(this.connection),this.unambiguous=new Os(this.connection),this.currentSession=new Es(this.connection),this.internal={user:new Me("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new Me("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new Me("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new Me("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new Me("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new Me("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new Me("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new Me("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new Me("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new Me("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new Me("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,r,n){const{data:i,error:o}=await this.connection.currentClient.query(t,r,n).toPromise();if(o)throw o;return i}async mutate(t,r,n){const{data:i,error:o}=await this.connection.currentClient.mutation(t,r,n).toPromise();if(o)throw o;return i}async fetch(t,r={}){return await this.connection.fetch(t,r)}async enqueue(t,r,n){An(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,o;return typeof n<"u"?(i=r,o=n):!t.variables||Object.keys(t.variables).length==0?(i={},o=r):(typeof r=="string"?i={id:r}:i=r,o={}),await Mo(this.connection,t,i,o)}handle(t,r){return new Er(this.connection,t,r)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}la=Ps;var ca={},$r=ve.createContext(ca),Cs=$r.Provider;$r.Consumer;$r.displayName="UrqlContext";var da=()=>{var e=ve.useContext($r);if(e===ca&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},Cn={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},Rs=(e,t)=>e===t||!(!e||!t||e.key!==t.key),pn=(e,t)=>{var r={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((n,i)=>{for(var o in n)if(!(o in i))return!0;for(var s in i)if(s==="operation"?!Rs(n[s],i[s]):n[s]!==i[s])return!0;return!1})(e,r)?r:e},xs=(e,t)=>{for(var r=0,n=t.length;r<n;r++)if(e[r]!==t[r])return!0;return!1},yn=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function xr(e,t){process.env.NODE_ENV!=="production"&&yn&&yn.ReactCurrentOwner&&yn.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function Ds(e){var t=ve.useRef(!0),r=da(),[n,i]=ve.useState(Cn),o=ve.useCallback((s,u)=>(xr(i,{...Cn,fetching:!0}),Dr(br(1)(ee(l=>!l.hasNext)(Nt(l=>{t.current&&xr(i,{fetching:!1,stale:l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation})})(r.executeMutation(ur(e,s),u||{})))))),[r,e,i]);return ve.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),[n,o]}function Fs(e,t){var r=ve.useRef(void 0);return ve.useMemo(()=>{var n=ur(e,t);return r.current!==void 0&&r.current.key===n.key?r.current:(r.current=n,n)},[e,t])}var js=e=>{if(!e._react){var t=new Set,r=new Map;e.operations$&&Pt(n=>{n.kind==="teardown"&&t.has(n.key)&&(t.delete(n.key),r.delete(n.key))})(e.operations$),e._react={get:n=>r.get(n),set(n,i){t.delete(n),r.set(n,i)},dispose(n){t.add(n)}}}return e._react},Ms=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function $s(e){var t=da(),r=js(t),n=Ms(t,e.context),i=Fs(e.query,e.variables),o=ve.useMemo(()=>{if(e.pause)return null;var m=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return n?Nt(h=>{r.set(i.key,h)})(m):m},[r,t,i,n,e.pause,e.requestPolicy,e.context]),s=ve.useCallback((m,h)=>{if(!m)return{fetching:!1};var v=r.get(i.key);if(v){if(h&&v!=null&&"then"in v)throw v}else{var E,j=Pt(k=>{v=k,E&&E(v)})(Fi(()=>h&&!E||!v)(m));if(v==null&&h){var F=new Promise(k=>{E=k});throw r.set(i.key,F),F}else j.unsubscribe()}return v||{fetching:!0}},[r,i]),u=[t,i,e.requestPolicy,e.context,e.pause],[l,f]=ve.useState(()=>[o,pn(Cn,s(o,n)),u]),d=l[1];o!==l[0]&&xs(l[2],u)&&f([o,d=pn(l[1],s(o,n)),u]),ve.useEffect(()=>{var m=l[0],h=l[2][1],v=!1,E=F=>{v=!0,xr(f,k=>{var B=pn(k[1],F);return k[1]!==B?[k[0],B,k[2]]:k})};if(m){var j=Pt(E)(Dn(()=>{E({fetching:!1})})(m));return v||E({fetching:!0}),()=>{r.dispose(h.key),j.unsubscribe()}}else E({fetching:!1})},[r,l[0],l[2][1]]);var y=ve.useCallback(m=>{var h={requestPolicy:e.requestPolicy,...e.context,...m};xr(f,v=>[n?Nt(E=>{r.set(i.key,E)})(t.executeQuery(i,h)):t.executeQuery(i,h),v[1],u])},[t,r,i,n,s,e.requestPolicy,e.context]);return[d,y]}const Hn=_.createContext(void 0),qs=_.createContext(void 0),Bs="/",Us="signOut",Vs="/";function Gs(e){let t,r;if("api"in e){if(!wa(e.api))throw new Error("Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");t=e.api,r=e.api.connection.currentClient}else if(e.value)r=e.value;else throw new Error("No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");r.suspense=!0;let n=Bs,i=Us,o=Vs;if("auth"in e){const{auth:s}=e;s!=null&&s.signInPath&&(n=s.signInPath),s!=null&&s.signOutActionApiIdentifier&&(i=s.signOutActionApiIdentifier),s!=null&&s.redirectOnSuccessfulSignInPath&&(o=s.redirectOnSuccessfulSignInPath)}return _.createElement(Hn.Provider,{value:r},_.createElement(qs.Provider,{value:{api:t,navigate:e.navigate,auth:{signInPath:n,signOutActionApiIdentifier:i,redirectOnSuccessfulSignInPath:o}}},_.createElement(Cs,{value:r},e.children)))}const fa="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",Ls=(e,t)=>{let r="";return e!==void 0?r=`[Network] ${e.message}`:t!==void 0?t.forEach(n=>{r+=`[GraphQL] ${n.message}
`}):r="Unknown error",r.trim()},Ws=e=>typeof e=="string"?new yr(e):e!=null&&e.message&&!e.code?new yr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class At extends Error{static forClientSideError(t,r){return new At({executionErrors:[t],response:r})}static forErrorsResponse(t,r){return new At({executionErrors:t.map(Bn),response:r})}static forMaybeCombinedError(t){if(t)return new At({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,r,n=!1){const i=ko(t,r);let o=At.forMaybeCombinedError(t.error);return!o&&i&&!n&&(o=At.forClientSideError(i)),o}constructor({networkError:t,executionErrors:r,response:n}){const i=(r||[]).map(Ws),o=Ls(t,i);super(o),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=o,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=n}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(r=>r.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const zs=e=>{const{context:t,suspense:r,...n}=e??{},i=_.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...n,context:i}},Ks=(e,t)=>({query:e.query,variables:e.variables,...t}),Ys=e=>{if(!_.useContext(Hn))throw new Error(fa);const t=zs(e);return $s(t)};var Js=typeof Element<"u",Hs=typeof Map=="function",Qs=typeof Set=="function",Xs=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Nr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Nr(e[n],t[n]))return!1;return!0}var o;if(Hs&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!Nr(n.value[1],t.get(n.value[0])))return!1;return!0}if(Qs&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Xs&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(Js&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!Nr(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var Zs=function(t,r){try{return Nr(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const eu=Di(Zs),tu=e=>{const t=_.useRef();return e?(t.current===void 0||!eu(e,t.current))&&(t.current=e):t.current=void 0,t.current},ru=e=>{if(!_.useContext(Hn))throw new Error(fa);return Ds(e)},nu=(e,t)=>{const r=tu(t),n=_.useMemo(()=>Kn(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,r),[e,r]),[i,o]=Ys(Ks(n,t));return[_.useMemo(()=>{const u=[e.findMany.operationName];let l=i.data;if(l){const d=qt(i.data,u);if(d){const y=mr(i,d);l=Bt.boot(e,y,d)}}const f=At.errorIfDataAbsent(i,u,t==null?void 0:t.pause);return{...i,data:l,error:f}},[e,t==null?void 0:t.pause,i]),o]};var Rn={exports:{}},ar={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci;function iu(){if(Ci)return ar;Ci=1;var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},m=null,h=null;f!==void 0&&(m=""+f),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(h=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:m,ref:h,props:y,_owner:i.current}}return ar.Fragment=r,ar.jsx=s,ar.jsxs=s,ar}var Or={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri;function au(){return Ri||(Ri=1,process.env.NODE_ENV!=="production"&&function(){var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function j(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function k(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];B("error",a,p)}}function B(a,c,p){{var g=F.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(I){return String(I)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,U=!1,Ne=!1,Pe;Pe=Symbol.for("react.module.reference");function xe(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ne||a===i||a===f||a===d||U||a===h||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===m||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===Pe||a.getModuleId!==void 0))}function Xe(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function J(a){return a.displayName||"Context"}function G(a){if(a==null)return null;if(typeof a.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return J(c)+".Consumer";case s:var p=a;return J(p._context)+".Provider";case l:return Xe(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:G(a.type)||"Memo";case m:{var O=a,A=O._payload,I=O._init;try{return G(I(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,x,L,we,q,_e,De;function Ve(){}Ve.__reactDisabledLog=!0;function Ge(){{if(M===0){$=console.log,x=console.info,L=console.warn,we=console.error,q=console.group,_e=console.groupCollapsed,De=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ve,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function H(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:x}),warn:N({},a,{value:L}),error:N({},a,{value:we}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:_e}),groupEnd:N({},a,{value:De})})}M<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var W=F.ReactCurrentDispatcher,at;function Fe(a,c,p){{if(at===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);at=g&&g[1]||""}return`
`+at+a}}var pt=!1,Ze;{var qr=typeof WeakMap=="function"?WeakMap:Map;Ze=new qr}function Vt(a,c){if(!a||pt)return"";{var p=Ze.get(a);if(p!==void 0)return p}var g;pt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=W.current,W.current=null,Ge();try{if(c){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(re){g=re}Reflect.construct(a,[],I)}else{try{I.call()}catch(re){g=re}a.call(I.prototype)}}else{try{throw Error()}catch(re){g=re}a()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var w=re.stack.split(`
`),V=g.stack.split(`
`),T=w.length-1,C=V.length-1;T>=1&&C>=0&&w[T]!==V[C];)C--;for(;T>=1&&C>=0;T--,C--)if(w[T]!==V[C]){if(T!==1||C!==1)do if(T--,C--,C<0||w[T]!==V[C]){var z=`
`+w[T].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),typeof a=="function"&&Ze.set(a,z),z}while(T>=1&&C>=0);break}}}finally{pt=!1,W.current=A,H(),Error.prepareStackTrace=O}var ke=a?a.displayName||a.name:"",tr=ke?Fe(ke):"";return typeof a=="function"&&Ze.set(a,tr),tr}function Br(a,c,p){return Vt(a,!1)}function Ur(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function et(a,c,p){if(a==null)return"";if(typeof a=="function")return Vt(a,Ur(a));if(typeof a=="string")return Fe(a);switch(a){case f:return Fe("Suspense");case d:return Fe("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Br(a.render);case y:return et(a.type,c,p);case m:{var g=a,O=g._payload,A=g._init;try{return et(A(O),c,p)}catch{}}}return""}var tt=Object.prototype.hasOwnProperty,Gt={},Lt=F.ReactDebugCurrentFrame;function rt(a){if(a){var c=a._owner,p=et(a.type,a._source,c?c.type:null);Lt.setExtraStackFrame(p)}else Lt.setExtraStackFrame(null)}function Vr(a,c,p,g,O){{var A=Function.call.bind(tt);for(var I in a)if(A(a,I)){var w=void 0;try{if(typeof a[I]!="function"){var V=Error((g||"React class")+": "+p+" type `"+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[I]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw V.name="Invariant Violation",V}w=a[I](c,I,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(T){w=T}w&&!(w instanceof Error)&&(rt(O),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,I,typeof w),rt(null)),w instanceof Error&&!(w.message in Gt)&&(Gt[w.message]=!0,rt(O),k("Failed %s type: %s",p,w.message),rt(null))}}}var Gr=Array.isArray;function yt(a){return Gr(a)}function Lr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function Wr(a){try{return Wt(a),!1}catch{return!0}}function Wt(a){return""+a}function zt(a){if(Wr(a))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Lr(a)),Wt(a)}var je=F.ReactCurrentOwner,zr={key:!0,ref:!0,__self:!0,__source:!0},Kt,Yt,mt;mt={};function Kr(a){if(tt.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function Yr(a){if(tt.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function Jr(a,c){if(typeof a.ref=="string"&&je.current&&c&&je.current.stateNode!==c){var p=G(je.current.type);mt[p]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',G(je.current.type),a.ref),mt[p]=!0)}}function Hr(a,c){{var p=function(){Kt||(Kt=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function Qr(a,c){{var p=function(){Yt||(Yt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var Xr=function(a,c,p,g,O,A,I){var w={$$typeof:t,type:a,key:c,ref:p,props:I,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function Zr(a,c,p,g,O){{var A,I={},w=null,V=null;p!==void 0&&(zt(p),w=""+p),Yr(c)&&(zt(c.key),w=""+c.key),Kr(c)&&(V=c.ref,Jr(c,O));for(A in c)tt.call(c,A)&&!zr.hasOwnProperty(A)&&(I[A]=c[A]);if(a&&a.defaultProps){var T=a.defaultProps;for(A in T)I[A]===void 0&&(I[A]=T[A])}if(w||V){var C=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&Hr(I,C),V&&Qr(I,C)}return Xr(a,w,V,O,g,je.current,I)}}var ht=F.ReactCurrentOwner,Jt=F.ReactDebugCurrentFrame;function Ie(a){if(a){var c=a._owner,p=et(a.type,a._source,c?c.type:null);Jt.setExtraStackFrame(p)}else Jt.setExtraStackFrame(null)}var bt;bt=!1;function gt(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function Ht(){{if(ht.current){var a=G(ht.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function en(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var Qt={};function tn(a){{var c=Ht();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function Xt(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=tn(c);if(Qt[p])return;Qt[p]=!0;var g="";a&&a._owner&&a._owner!==ht.current&&(g=" It was passed a child from "+G(a._owner.type)+"."),Ie(a),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ie(null)}}function Zt(a,c){{if(typeof a!="object")return;if(yt(a))for(var p=0;p<a.length;p++){var g=a[p];gt(g)&&Xt(g,c)}else if(gt(a))a._store&&(a._store.validated=!0);else if(a){var O=j(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),I;!(I=A.next()).done;)gt(I.value)&&Xt(I.value,c)}}}function rn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=G(c);Vr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!bt){bt=!0;var O=G(c);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function nn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ie(a),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ie(null);break}}a.ref!==null&&(Ie(a),k("Invalid attribute `ref` supplied to `React.Fragment`."),Ie(null))}}function er(a,c,p,g,O,A){{var I=xe(a);if(!I){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var V=en(O);V?w+=V:w+=Ht();var T;a===null?T="null":yt(a)?T="array":a!==void 0&&a.$$typeof===t?(T="<"+(G(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):T=typeof a,k("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",T,w)}var C=Zr(a,c,p,O,A);if(C==null)return C;if(I){var z=c.children;if(z!==void 0)if(g)if(yt(z)){for(var ke=0;ke<z.length;ke++)Zt(z[ke],a);Object.freeze&&Object.freeze(z)}else k("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Zt(z,a)}return a===n?nn(C):rn(C),C}}function an(a,c,p){return er(a,c,p,!0)}function on(a,c,p){return er(a,c,p,!1)}var sn=on,un=an;Or.Fragment=n,Or.jsx=sn,Or.jsxs=un}()),Or}process.env.NODE_ENV==="production"?Rn.exports=iu():Rn.exports=au();var xi=Rn.exports;const ou=_.forwardRef(function({open:e,onShow:t,onHide:r,children:n,...i},o){const[s,u]=_.useState(),{titleBar:l,modalContent:f}=_.Children.toArray(n).reduce((y,m)=>{const h=typeof m=="object"&&"type"in m?m.type:void 0;return h==="ui-title-bar"||typeof h=="object"&&h.displayName==="ui-title-bar"?{...y,titleBar:m}:(y.modalContent.push(m),y)},{modalContent:[]}),d=s?ha.createPortal(f,s.content):null;return _.useEffect(()=>{s&&(e?s.show():s.hide())},[s,e]),_.useEffect(()=>{if(!(!s||!t))return s.addEventListener("show",t),()=>{s.removeEventListener("show",t)}},[s,t]),_.useEffect(()=>{if(!(!s||!r))return s.addEventListener("hide",r),()=>{s.removeEventListener("hide",r)}},[s,r]),_.useEffect(()=>{if(s)return()=>{s.hide()}},[s]),xi.jsxs("ui-modal",{...i,ref:y=>{u(y),o&&(typeof o=="function"?o(y):o.current=y)},children:[l,xi.jsx("div",{children:d})]})});ou.displayName="ui-modal";const su=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function uu(){if(typeof window>"u")return su;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}var ct;(function(e){e[e.Standalone=0]="Standalone",e[e.Embedded=1]="Embedded"})(ct||(ct={}));const lu=`
  mutation ShopifyFetchOrInstallShop($shopifySessionToken: String!) {
    shopifyConnection {
      fetchOrInstallShop(shopifySessionToken: $shopifySessionToken) {
        isAuthenticated
        redirectToOauth
        missingScopes
      }
    }
  }
`,cu=_.memo(({children:e,gadgetAppUrl:t,originalQueryParams:r,api:n,type:i,host:o,isReady:s,isRootFrameRequest:u})=>{const l=uu(),f=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),d=l.environment.embedded||l.environment.mobile,y=d&&i===ct.Embedded,m=s&&typeof o<"u"&&!y,[h,v]=_.useState({isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!0,appBridge:l,isRootFrameRequest:!1}),[E,j]=_.useState(null),[F,k]=_.useState();_.useEffect(()=>{l&&l.idToken().then(j).catch(k)},[l]),_.useEffect(()=>{if(!E){console.debug("[gadget-rsab] no app bridge, skipping client auth setup");return}n.connection.setAuthenticationMode({custom:{async processFetch(J,G){const N=new Headers(G.headers);N.append("Authorization",`ShopifySessionToken ${E}`),G.headers??(G.headers={}),N.forEach(function(M,$){G.headers[$]=M})},async processTransactionConnectionParams(J){J.auth.shopifySessionToken=E}}}),console.debug("[gadget-rsab] set up client auth for session tokens")},[n.connection,E]);let B=!1,b=!1,P=[];const S=_.useRef(!1),[{data:U,fetching:Ne,error:Pe},xe]=ru(lu);U&&(console.debug({fetchOrInstallShopData:U},"[gadget-rsab] fetched or installed shop data"),B=U.shopifyConnection.fetchOrInstallShop.redirectToOauth,b=U.shopifyConnection.fetchOrInstallShop.isAuthenticated,P=U.shopifyConnection.fetchOrInstallShop.missingScopes??[]),_.useEffect(()=>{S.current||E&&(S.current=!0,xe({shopifySessionToken:E}).catch(J=>{console.error({err:J},"[gadget-rsab] error fetching or installing shop")}))},[E,xe]),_.useEffect(()=>{if(!B||u)return;const J=new URL("/api/connections/auth/shopify",t);J.search=(r==null?void 0:r.toString())??"";const G=J.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process",{appType:i,isInstallRequest:f,isEmbedded:d,redirectURL:G,gadgetAppUrl:t}),open(G,"_top")},[t,u,r,B]);const Xe=(m||B||Ne)&&!u;return _.useEffect(()=>{const J={isAuthenticated:b,isEmbedded:d,canAuth:!!l,loading:Xe,appBridge:l,error:Pe||F,isRootFrameRequest:u};return console.debug("[gadget-rsab] context changed",J),v(J)},[Xe,d,l,b,Pe,F,u]),_.useEffect(()=>{if(P.length>0&&!B){const J=new CustomEvent("gadget:devharness:rsab.shopifyManagedInstallation.missingScopes",{detail:{missingScopes:P}});globalThis.dispatchEvent(J)}},[B,P]),_.createElement(pa.Provider,{value:h},e)}),du=({isRootFrameRequest:e,children:t,query:r,gadgetAppUrl:n,type:i})=>{const o=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),s=o;return _.useEffect(()=>{if(!s||e)return;const u=new URL("/api/connections/auth/shopify",n);u.search=(r==null?void 0:r.toString())??"";const l=u.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process in standalone mode or missing app bridge global",{appType:i,isInstallRequest:o,redirectURL:l,gadgetAppUrl:n}),window.location.assign(l)},[n,e,r,s]),_.createElement(pa.Provider,{value:{isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!1,appBridge:null,isRootFrameRequest:e}},t)},fu=({type:e,children:t,api:r})=>{const n=!!(globalThis&&globalThis.shopify),[i,o]=_.useState(null),s=!!i,{query:u}=i??{},l=(u==null?void 0:u.get("host"))??void 0,f=e??ct.Embedded,d=_.useMemo(()=>u,[s]),y=!(u!=null&&u.has("hmac"))&&!(u!=null&&u.has("shop"))&&e==ct.Embedded,m=new URL(r.connection.options.endpoint).origin;if(_.useEffect(()=>{o({asPath:`${window.location.pathname}${window.location.search}`,query:new URLSearchParams(window.location.search)})},[]),console.debug("[gadget-rsab] provider rendering",{host:l,coalescedType:f,isReady:s}),f==ct.Embedded&&!n&&globalThis.top&&globalThis.top!==globalThis.self){let h;try{const v=document.referrer;h=new URL(v)}catch{const E=new CustomEvent("gadget:devharness:rsab.invalidReferrer",{detail:{url:document.referrer}});globalThis.dispatchEvent(E)}if(h&&h.hostname==="admin.shopify.com")throw new Error("Expected app bridge to be defined in embedded context, but it was not. This is likely due to a missing script tag, see https://shopify.dev/docs/api/app-bridge-library")}if(f===ct.Embedded&&globalThis.top===globalThis.self){const h=new CustomEvent("gadget:devharness:rsab.embeddedInRootContext");globalThis.dispatchEvent(h)}return _.createElement(Gs,{api:r},f===ct.Embedded&&n?_.createElement(cu,{gadgetAppUrl:m,api:r,originalQueryParams:d,type:f,host:l,isReady:s,isRootFrameRequest:y},t):_.createElement(du,{isRootFrameRequest:y,query:u,type:f,gadgetAppUrl:m},t))},pa=_.createContext({loading:!0,isEmbedded:!1,isAuthenticated:!1,canAuth:!1,appBridge:null,isRootFrameRequest:!1}),ya=new Ts,ma=()=>{const[{data:e}]=nu(ya.shopifyProduct);return Pr.jsx(Pr.Fragment,{children:JSON.stringify(e)})},pu=()=>Pr.jsx(fu,{api:ya,shopifyApiKey:"deadbeef",children:Pr.jsx(ma,{})});exports.App=pu;exports.Reader=ma;exports.commonjsGlobal=ga;exports.getDefaultExportFromCjs=Di;
