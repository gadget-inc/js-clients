{"version":3,"file":"useFindOne.js","sourceRoot":"","sources":["../../src/useFindOne.ts"],"names":[],"mappings":";;;AACA,qDAAkD;AAElD,yCAA0C;AAE1C,IAAI,cAAc,GAAe,IAAA,+BAAc,EAAC,YAAY,CAAC,CAAC;AAE9D,IAAA,+BAAc,EAAC,YAAY,EAAE,CAAC,OAAuB,EAAE,SAAoB,EAAE,EAAE;IAC7E,cAAc,GAAG,CAAC,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE;QACxC,MAAM,eAAe,GAAG,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAC7D,MAAM,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE;YAC1C,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,eAAe,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC,CAAC;QACnC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,SAAS,CAAC,cAAc,CAAC,IAAA,uBAAY,EAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;QAEnF,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE;YAC5C,OAAO,EAAE,GAAG,SAAS,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;QAC1G,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,EAAE,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC;QAEvE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC3B,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC;AAEI,MAAM,UAAU,GAAe,CAAC,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;AAAxF,QAAA,UAAU,cAA8E","sourcesContent":["import type { RuntimeAdapter } from \"./adapter.js\";\nimport { createHookStub } from \"./createHooks.js\";\nimport type { CoreHooks, UseFindOne } from \"./types.js\";\nimport { useQueryArgs } from \"./utils.js\";\n\nlet useFindOneImpl: UseFindOne = createHookStub(\"useFindOne\");\n\ncreateHookStub(\"useFindOne\", (adapter: RuntimeAdapter, coreHooks: CoreHooks) => {\n  useFindOneImpl = (manager, id, options) => {\n    const memoizedOptions = coreHooks.useStructuralMemo(options);\n    const plan = adapter.framework.useMemo(() => {\n      return manager.findOne.plan(id, memoizedOptions);\n    }, [manager, id, memoizedOptions]);\n    const [rawResult, refresh] = coreHooks.useGadgetQuery(useQueryArgs(plan, options));\n\n    const result = adapter.framework.useMemo(() => {\n      return { ...rawResult, ...manager.findOne.processResult(rawResult, { pause: memoizedOptions?.pause }) };\n    }, [manager.findOne.operationName, rawResult, memoizedOptions?.pause]);\n\n    return [result, refresh];\n  };\n});\n\nexport const useFindOne: UseFindOne = (manager, id, options) => useFindOneImpl(manager, id, options);\n"]}