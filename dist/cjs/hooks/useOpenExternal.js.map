{"version":3,"file":"useOpenExternal.js","sourceRoot":"","sources":["../../../src/hooks/useOpenExternal.ts"],"names":[],"mappings":";;;AAAA,iCAAoC;AAEpC;;;;;;;;;;;;;;;GAeG;AACH,SAAgB,eAAe;IAC7B,MAAM,YAAY,GAAG,IAAA,mBAAW,EAAC,CAAC,IAAY,EAAE,EAAE;QAChD,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE,CAAC;YAClC,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;QAC1E,CAAC;QAED,2CAA2C;QAC3C,IAAI,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC;YACjC,IAAI,CAAC;gBACH,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;gBACrC,OAAO;YACT,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,IAAI,CAAC,kDAAkD,EAAE,KAAK,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QAED,oCAAoC;QACpC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,qBAAqB,CAAC,CAAC;IACrD,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,YAAY,CAAC;AACtB,CAAC;AArBD,0CAqBC","sourcesContent":["import { useCallback } from \"react\";\n\n/**\n * Hook for opening external URLs in a new tab or window.\n *\n * This hook provides a callback function that attempts to use ChatGPT's native\n * link handler (`window.openai.openExternal`) when available, falling back to\n * the standard `window.open` behavior if not. Using this hook ensures links\n * are opened in the most appropriate way for the ChatGPT environment.\n *\n * @returns A callback function that takes a URL string and opens it externally\n *\n * @example\n * ```tsx\n * const openExternal = useOpenExternal();\n * return <button onClick={() => openExternal(\"https://example.com\")}>Open Link</button>;\n * ```\n */\nexport function useOpenExternal() {\n  const openExternal = useCallback((href: string) => {\n    if (typeof window === \"undefined\") {\n      throw new Error(\"window is not available. Cannot use useOpenExternal.\");\n    }\n\n    // Try to use ChatGPT's native link handler\n    if (window?.openai?.openExternal) {\n      try {\n        window.openai.openExternal({ href });\n        return;\n      } catch (error) {\n        console.warn(\"openExternal failed, falling back to window.open\", error);\n      }\n    }\n\n    // Fallback to standard web behavior\n    window.open(href, \"_blank\", \"noopener,noreferrer\");\n  }, []);\n\n  return openExternal;\n}\n"]}