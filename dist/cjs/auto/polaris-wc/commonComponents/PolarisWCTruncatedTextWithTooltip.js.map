{"version":3,"file":"PolarisWCTruncatedTextWithTooltip.js","sourceRoot":"","sources":["../../../../../src/auto/polaris-wc/commonComponents/PolarisWCTruncatedTextWithTooltip.tsx"],"names":[],"mappings":";;;;AAAA,uDAAyC;AACzC,yDAAmD;AACnD,uEAAiE;AACjE,+DAAyD;AAEzD,MAAM,eAAe,GAAwB;IAC3C,OAAO,EAAE,OAAO;IAChB,QAAQ,EAAE,QAAQ;IAClB,YAAY,EAAE,UAAU;IACxB,UAAU,EAAE,QAAQ;IACpB,QAAQ,EAAE,CAAC;CACZ,CAAC;AAOF;;;GAGG;AACI,MAAM,iCAAiC,GAAG,CAAC,KAA6C,EAAE,EAAE;IACjG,MAAM,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC;IACvB,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,YAAY,EAAE,aAAa,EAAE,GAAG,IAAA,oCAAe,EAAC;QACrF,mBAAmB,EAAE,IAAI;KAC1B,CAAC,CAAC;IAEH,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,aAAa,EAAE,CAAC;IAClB,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;IAE1B,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,GAAG,IAAA,sBAAQ,GAAE,CAAC;IAE5C,MAAM,aAAa,GAAG,CACpB,uCAAK,GAAG,EAAE,YAA+C,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE;QAClH,wCAAM,GAAG,EAAE,eAAmD,EAAE,KAAK,EAAE,eAAe;YACpF,8CAAS,IAAI,CAAU,CAClB,CACH,CACP,CAAC;IAEF,IAAI,CAAC,YAAY,EAAE,CAAC;QAClB,OAAO,aAAa,CAAC;IACvB,CAAC;IAED,OAAO,CACL,0CAAS,UAAU,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC,EAAE;QAC5D,8BAAC,sCAAgB,IACf,IAAI,EAAE,UAAU,EAChB,OAAO,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAW,CAAC,EACnD,MAAM,EAAE,aAAa,EACrB,SAAS,EAAC,OAAO,EACjB,YAAY,EAAE;gBACZ,GAAG,UAAU;gBACb,KAAK,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;aAC1B;YAED,8CAAS,IAAI,CAAU,CACN,CACf,CACP,CAAC;AACJ,CAAC,CAAC;AAxCW,QAAA,iCAAiC,qCAwC5C","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useHover } from \"../../hooks/useHover.js\";\nimport { useIsOverflowed } from \"../../hooks/useIsOverflowed.js\";\nimport { PolarisWCPopover } from \"./PolarisWCPopover.js\";\n\nconst truncationStyle: React.CSSProperties = {\n  display: \"block\",\n  overflow: \"hidden\",\n  textOverflow: \"ellipsis\",\n  whiteSpace: \"nowrap\",\n  minWidth: 0,\n};\n\nexport interface PolarisWCTruncatedTextWithTooltipProps {\n  /** The text (or content) to show; truncated with ellipsis when it overflows. */\n  text: string;\n}\n\n/**\n * Renders text with ellipsis when it overflows. When truncated, shows a popover\n * with the full content on hover over the truncated text only.\n */\nexport const PolarisWCTruncatedTextWithTooltip = (props: PolarisWCTruncatedTextWithTooltipProps) => {\n  const { text } = props;\n  const { isOverflowed, childElementRef, containerRef, checkOverflow } = useIsOverflowed({\n    useScrollWidthCheck: true,\n  });\n\n  useEffect(() => {\n    checkOverflow();\n  }, [checkOverflow, text]);\n\n  const [isHovering, hoverProps] = useHover();\n\n  const truncatedText = (\n    <div ref={containerRef as React.RefObject<HTMLDivElement>} style={{ overflow: \"hidden\", minWidth: 0, width: \"100%\" }}>\n      <span ref={childElementRef as React.RefObject<HTMLSpanElement>} style={truncationStyle}>\n        <s-text>{text}</s-text>\n      </span>\n    </div>\n  );\n\n  if (!isOverflowed) {\n    return truncatedText;\n  }\n\n  return (\n    <div {...hoverProps} style={{ cursor: \"default\", minWidth: 0 }}>\n      <PolarisWCPopover\n        open={isHovering}\n        onClose={() => hoverProps.onMouseLeave(null as any)}\n        anchor={truncatedText}\n        maxHeight=\"200px\"\n        contentProps={{\n          ...hoverProps,\n          style: { padding: \"8px\" },\n        }}\n      >\n        <s-text>{text}</s-text>\n      </PolarisWCPopover>\n    </div>\n  );\n};\n"]}