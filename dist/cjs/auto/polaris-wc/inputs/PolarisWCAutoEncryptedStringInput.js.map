{"version":3,"file":"PolarisWCAutoEncryptedStringInput.js","sourceRoot":"","sources":["../../../../../src/auto/polaris-wc/inputs/PolarisWCAutoEncryptedStringInput.tsx"],"names":[],"mappings":";;;;AAAA,uDAA2C;AAC3C,qDAA+C;AAC/C,yFAAmF;AAQnF;;;;;;;;;;;GAWG;AACU,QAAA,iCAAiC,GAAG,IAAA,wBAAS,EAAC,CAAC,KAA6C,EAAE,EAAE;IAC3G,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,CAAC;IACtD,MAAM,qBAAqB,GAAG,IAAA,sDAAwB,EAAC,SAAS,CAAC,CAAC;IAElE,MAAM,YAAY,GAAG,IAAA,mBAAW,EAC9B,CAAC,YAA4B,EAAE,EAAE;QAC/B,MAAM,KAAK,GACT,OAAO,YAAY,KAAK,QAAQ;YAC9B,CAAC,CAAC,YAAY;YACd,CAAC,CAAE,YAAY,CAAC,aAAuD,EAAE,KAAK,IAAI,EAAE,CAAC;QACzF,qBAAqB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC,EACD,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjC,CAAC;IAEF,kCAAkC;IAClC,MAAM,KAAK,GAAW,OAAO,KAAK,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;IAExH,OAAO,CACL;QACE,oDACE,EAAE,EAAE,qBAAqB,CAAC,EAAE,EAC5B,IAAI,EAAE,qBAAqB,CAAC,IAAI,EAChC,KAAK,EAAE,KAAK,EACZ,KAAK,EAAE,qBAAqB,CAAC,KAAK,IAAI,EAAE,EACxC,WAAW,EAAE,WAAW,EACxB,QAAQ,EAAE,QAAQ,EAClB,QAAQ,EAAE,qBAAqB,CAAC,QAAQ,CAAC,wBAAwB,EACjE,KAAK,EAAE,qBAAqB,CAAC,YAAY,EACzC,QAAQ,EAAE,YAAY,GACtB;QAEF,yCACE,IAAI,EAAC,UAAU,EACf,IAAI,EAAE,qBAAqB,CAAC,IAAI,EAChC,KAAK,EAAE,qBAAqB,CAAC,KAAK,IAAI,EAAE,EACxC,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAC/D,MAAM,EAAE,qBAAqB,CAAC,MAAM,EACpC,GAAG,EAAE,qBAAqB,CAAC,GAAG,EAC9B,QAAQ,EAAE,QAAQ,iBACN,MAAM,EAClB,QAAQ,EAAE,CAAC,CAAC,EACZ,KAAK,EAAE;gBACL,QAAQ,EAAE,UAAU;gBACpB,KAAK,EAAE,CAAC;gBACR,MAAM,EAAE,CAAC;gBACT,OAAO,EAAE,CAAC;gBACV,IAAI,EAAE,eAAe;aACtB,GACD,CACD,CACJ,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["import React, { useCallback } from \"react\";\nimport { autoInput } from \"../../AutoInput.js\";\nimport { useStringInputController } from \"../../hooks/useStringInputController.js\";\nimport { type AutoEncryptedStringInputProps } from \"../../shared/AutoInputTypes.js\";\n\nexport type PolarisWCAutoEncryptedStringInputProps = AutoEncryptedStringInputProps & {\n  placeholder?: string;\n  disabled?: boolean;\n};\n\n/**\n * An encrypted string input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoEncryptedStringInput field=\"encryptedStringField\" />\n * </AutoForm>\n * ```\n * @param props.field - API identifier of the EncryptedString field.\n * @param props.label - Label of the EncryptedString input.\n * @returns The AutoEncryptedStringInput component.\n */\nexport const PolarisWCAutoEncryptedStringInput = autoInput((props: PolarisWCAutoEncryptedStringInputProps) => {\n  const { placeholder, disabled, ...restProps } = props;\n  const stringInputController = useStringInputController(restProps);\n\n  const handleChange = useCallback(\n    (eventOrValue: Event | string) => {\n      const value =\n        typeof eventOrValue === \"string\"\n          ? eventOrValue\n          : (eventOrValue.currentTarget as HTMLInputElement & { value?: string })?.value ?? \"\";\n      stringInputController.onChange(value);\n    },\n    [stringInputController.onChange]\n  );\n\n  // Ensure label is always a string\n  const label: string = typeof props.label === \"string\" ? props.label : String(stringInputController.metadata.name ?? \"\");\n\n  return (\n    <>\n      <s-password-field\n        id={stringInputController.id}\n        name={stringInputController.name}\n        label={label}\n        value={stringInputController.value ?? \"\"}\n        placeholder={placeholder}\n        disabled={disabled}\n        required={stringInputController.metadata.requiredArgumentForInput}\n        error={stringInputController.errorMessage}\n        onChange={handleChange}\n      />\n      {/* Hidden native input for form registration and testability (Cypress can type into it; WC does not sync from shadow DOM to React in tests) */}\n      <input\n        type=\"password\"\n        name={stringInputController.name}\n        value={stringInputController.value ?? \"\"}\n        onChange={(e) => stringInputController.onChange(e.target.value)}\n        onBlur={stringInputController.onBlur}\n        ref={stringInputController.ref}\n        disabled={disabled}\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        style={{\n          position: \"absolute\",\n          width: 1,\n          height: 1,\n          opacity: 0,\n          clip: \"rect(0,0,0,0)\",\n        }}\n      />\n    </>\n  );\n});\n"]}