{"version":3,"file":"PolarisWCAutoTextInput.js","sourceRoot":"","sources":["../../../../../src/auto/polaris-wc/inputs/PolarisWCAutoTextInput.tsx"],"names":[],"mappings":";;;;AAAA,uDAAgE;AAChE,qDAA+C;AAC/C,yFAAmF;AA6BnF;;;GAGG;AACH,SAAgB,0BAA0B,CAAC,KAAoC;IAC7E,MAAM,qBAAqB,GAAG,IAAA,sDAAwB,EAAC,KAA2B,CAAC,CAAC;IACpF,MAAM,EAAE,QAAQ,EAAE,GAAG,qBAAqB,CAAC;IAC3C,MAAM,YAAY,GAAG,IAAA,mBAAW,EAC9B,CAAC,KAAY,EAAE,EAAE;QACf,MAAM,MAAM,GAAG,KAAK,CAAC,aAAsD,CAAC;QAC5E,QAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IAC/B,CAAC,EACD,CAAC,QAAQ,CAAC,CACX,CAAC;IAEF,MAAM,KAAK,GAAW,CAAC,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAW,CAAC;IAEnG,MAAM,cAAc,GAAoD;QACtE,KAAK;QACL,KAAK,EAAE,qBAAqB,CAAC,KAAK,IAAI,EAAE;QACxC,WAAW,EAAE,KAAK,CAAC,WAAW,IAAI,qBAAqB,CAAC,WAAW;QACnE,QAAQ,EAAE,KAAK,CAAC,QAAQ;QACxB,QAAQ,EAAE,qBAAqB,CAAC,QAAQ,CAAC,wBAAwB;QACjE,KAAK,EAAE,qBAAqB,CAAC,YAAY;QACzC,QAAQ,EAAE,YAAY;KACvB,CAAC;IAEF,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,qBAAqB,EAAE,CAAC;AAC1D,CAAC;AAxBD,gEAwBC;AAED;;;;;;;;;;;GAWG;AACU,QAAA,sBAAsB,GAAG,IAAA,wBAAS,EAAC,CAAC,KAAkC,EAAE,EAAE;IACrF,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,IAAI,EAAE,GAAG,KAAK,CAAC;IAC3E,MAAM,EAAE,cAAc,EAAE,qBAAqB,EAAE,GAAG,0BAA0B,CAAC,KAAK,CAAC,CAAC;IAEpF,MAAM,mBAAmB,GAA4B,EAAE,GAAG,cAAc,EAAE,EAAE,EAAE,qBAAqB,CAAC,EAAE,EAAE,CAAC;IAEzG,OAAO,mDAAkB,mBAAmB,EAAE,YAAY,EAAC,KAAK,KAAK,IAAI,GAAI,CAAC;AAChF,CAAC,CAAC,CAAC;AAEH;;;;;;;;;;;GAWG;AACI,MAAM,uBAAuB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,8BAAC,8BAAsB,OAAK,KAAK,GAAI,CAAC;AAAxG,QAAA,uBAAuB,2BAAiF;AAErH;;;;;;;;;;;GAWG;AACI,MAAM,wBAAwB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,8BAAC,8BAAsB,OAAK,KAAK,GAAI,CAAC;AAAzG,QAAA,wBAAwB,4BAAiF;AAEtH;;;;;;;;;;;GAWG;AACI,MAAM,qBAAqB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,8BAAC,8BAAsB,OAAK,KAAK,GAAI,CAAC;AAAtG,QAAA,qBAAqB,yBAAiF","sourcesContent":["import React, { type ComponentProps, useCallback } from \"react\";\nimport { autoInput } from \"../../AutoInput.js\";\nimport { useStringInputController } from \"../../hooks/useStringInputController.js\";\nimport { type AutoTextInputProps, type StringOnlyLabel } from \"../../shared/AutoInputTypes.js\";\n\nexport type PolarisWCAutoTextInputProps = StringOnlyLabel<AutoTextInputProps> &\n  Partial<ComponentProps<\"s-text-field\">> &\n  Partial<Pick<ComponentProps<\"input\">, \"step\" | \"min\" | \"type\">>;\n\nexport type PolarisWCTextInputPropsParams = (\n  | AutoTextInputProps\n  | { field: string; label?: unknown; afterChange?: (...args: any[]) => void }\n) & {\n  placeholder?: string;\n  disabled?: boolean;\n};\n\nexport type PolarisWCTextInputPropsResult = {\n  label: string;\n  textFieldProps: {\n    label: string;\n    value: string;\n    placeholder?: string;\n    disabled?: boolean;\n    required: boolean | undefined;\n    error: string | undefined;\n    onChange: (event: Event) => void;\n  };\n  stringInputController: ReturnType<typeof useStringInputController>;\n};\n\n/**\n * Shared hook for Polaris WC text-like inputs (text and number).\n * Sets up string input controller, change handler, label, and base text field props.\n */\nexport function usePolarisWCTextInputProps(props: PolarisWCTextInputPropsParams): PolarisWCTextInputPropsResult {\n  const stringInputController = useStringInputController(props as AutoTextInputProps);\n  const { onChange } = stringInputController;\n  const handleChange = useCallback(\n    (event: Event) => {\n      const target = event.currentTarget as HTMLInputElement & { value?: string };\n      onChange(target.value ?? \"\");\n    },\n    [onChange]\n  );\n\n  const label: string = (props.label ?? String(stringInputController.metadata.name ?? \"\")) as string;\n\n  const textFieldProps: PolarisWCTextInputPropsResult[\"textFieldProps\"] = {\n    label,\n    value: stringInputController.value ?? \"\",\n    placeholder: props.placeholder ?? stringInputController.placeholder,\n    disabled: props.disabled,\n    required: stringInputController.metadata.requiredArgumentForInput,\n    error: stringInputController.errorMessage,\n    onChange: handleChange,\n  };\n\n  return { label, textFieldProps, stringInputController };\n}\n\n/**\n * A text input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoTextInput field=\"fieldA\" />\n * </AutoForm>\n * ```\n * @param props.field - The field API identifier.\n * @param props.label - Label of the input.\n * @returns The AutoTextInput component.\n */\nexport const PolarisWCAutoTextInput = autoInput((props: PolarisWCAutoTextInputProps) => {\n  const { field: _field, label: _label, control: _control, ...rest } = props;\n  const { textFieldProps, stringInputController } = usePolarisWCTextInputProps(props);\n\n  const finalTextFieldProps: Record<string, unknown> = { ...textFieldProps, id: stringInputController.id };\n\n  return <s-text-field {...finalTextFieldProps} autocomplete=\"off\" {...rest} />;\n});\n\n/**\n * An email input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoEmailInput field=\"fieldA\" />\n * </AutoForm>\n * ```\n * @param props.field - The email field API identifier\n * @param props.label - Label of the email input.\n * @returns The AutoEmailInput component\n */\nexport const PolarisWCAutoEmailInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n\n/**\n * A string input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoStringInput field=\"name\" />\n * </AutoForm>\n * ```\n * @param props.field - The string field API identifier.\n * @param props.label - Label of the string input.\n * @returns The AutoStringInput component\n */\nexport const PolarisWCAutoStringInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n\n/**\n * A url input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoUrlInput field=\"website\" />\n * </AutoForm>\n * ```\n * @param props.field - The url field API identifier.\n * @param props.label - Label of the url input.\n * @returns The AutoUrlInput component\n */\nexport const PolarisWCAutoUrlInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n"]}