{"version":3,"file":"PolarisWCAutoBulkActionModal.js","sourceRoot":"","sources":["../../../../../src/auto/polaris-wc/tableComponents/PolarisWCAutoBulkActionModal.tsx"],"names":[],"mappings":";;;;AAAA,uDAAuC;AACvC,+EAM4C;AAC5C,6EAAuE;AAEhE,MAAM,4BAA4B,GAAG,CAAC,KAA0B,EAAE,EAAE;IACzE,MAAM,EAAE,KAAK,EAAE,kBAAkB,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC;IAEjD,MAAM,EAAE,cAAc,EAAE,aAAa,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,IAAA,oDAA2B,EAAC,KAAK,CAAC,CAAC;IAE/H,IAAI,CAAC,cAAc,IAAI,CAAC,kBAAkB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAClE,OAAO,IAAI,CAAC;IACd,CAAC;IAED,OAAO,CACL,8BAAC,kCAAc,IACb,IAAI,EAAE,SAAS,EACf,YAAY,EAAE,CAAC,IAAI,EAAE,EAAE;YACrB,IAAI,CAAC,IAAI;gBAAE,KAAK,EAAE,CAAC;QACrB,CAAC,EACD,OAAO,EAAE,UAAU;QAEnB,8BAAC,4BAA4B,IAC3B,KAAK,EAAE,KAAK,EACZ,kBAAkB,EAAE,kBAAkB,EACtC,WAAW,EAAE,UAAU,EACvB,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,aAAa,GACpB,CACa,CAClB,CAAC;AACJ,CAAC,CAAC;AA1BW,QAAA,4BAA4B,gCA0BvC;AAEF;;GAEG;AACH,MAAM,4BAA4B,GAAG,CAAC,KAAwC,EAAE,EAAE;IAChF,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC;IAC7B,MAAM,EAAE,MAAM,EAAE,mBAAmB,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAA,wDAA+B,EAAC,KAAK,CAAC,CAAC;IAE9G,OAAO,CACL;QACE;YACG,QAAQ,IAAI,8BAAC,eAAe,OAAG;YAC/B,CAAC,QAAQ;gBACR,CAAC,MAAM,CAAC,CAAC,CAAC,CACR,yCAAO,eAAe,EAAC,MAAM;oBAC3B,4CAAU,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,IAAG,mBAAmB,CAAY,CAC7E,CACT,CAAC,CAAC,CAAC,CACF,8BAAC,yBAAyB,IAAC,KAAK,EAAE,GAAG,CAAC,MAAM,GAAI,CACjD,CAAC,CACE;QAER;YACE,2CAAS,SAAS,EAAC,QAAQ,EAAC,GAAG,EAAC,OAAO,EAAC,cAAc,EAAC,KAAK;gBAC1D,4CAAU,OAAO,EAAC,WAAW,EAAC,OAAO,EAAE,KAAK,YAEjC;gBACV,CAAC,CAAC,CAAC,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CACvC,4CAAU,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,UAEtD,CACZ,CACO,CACJ,CACP,CACJ,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG,GAAG,EAAE,CAAC,CAC5B,2CAAS,UAAU,EAAC,QAAQ,EAAC,cAAc,EAAC,QAAQ;IAClD,6CAAW,kBAAkB,EAAC,gBAAgB,EAAC,IAAI,EAAC,OAAO,GAAG,CACtD,CACX,CAAC;AAEF,MAAM,yBAAyB,GAAG,CAAC,KAAwB,EAAE,EAAE;IAC7D,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC;IACxB,OAAO,IAAA,eAAO,EAAC,GAAG,EAAE,CAAC,8CAAS,IAAA,qDAA4B,EAAC,KAAK,CAAC,CAAU,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AACxF,CAAC,CAAC","sourcesContent":["import React, { useMemo } from \"react\";\nimport {\n  getRunActionConfirmationText,\n  useAutoTableBulkActionModal,\n  useGadgetBulkActionModalContent,\n  type AutoBulkActionModal,\n  type GadgetBulkActionModalContentProps,\n} from \"../../hooks/useTableBulkActions.js\";\nimport { PolarisWCModal } from \"../commonComponents/PolarisWCModal.js\";\n\nexport const PolarisWCAutoBulkActionModal = (props: AutoBulkActionModal) => {\n  const { model, modelActionDetails, ids } = props;\n\n  const { actionIsLoaded, closeAndClear, close, isBulkGadgetAction, modalTitle, showModal } = useAutoTableBulkActionModal(props);\n\n  if (!actionIsLoaded || !isBulkGadgetAction || !modelActionDetails) {\n    return null;\n  }\n\n  return (\n    <PolarisWCModal\n      open={showModal}\n      onOpenChange={(open) => {\n        if (!open) close();\n      }}\n      heading={modalTitle}\n    >\n      <GadgetBulkActionModalContent\n        model={model}\n        modelActionDetails={modelActionDetails}\n        actionLabel={modalTitle}\n        ids={ids}\n        close={closeAndClear}\n      />\n    </PolarisWCModal>\n  );\n};\n\n/**\n * Modal content for executing Gadget bulk actions\n */\nconst GadgetBulkActionModalContent = (props: GadgetBulkActionModalContentProps) => {\n  const { ids, close } = props;\n  const { hasRun, actionResultMessage, fetching, hasError, runAction } = useGadgetBulkActionModalContent(props);\n\n  return (\n    <>\n      <s-box>\n        {fetching && <CenteredSpinner />}\n        {!fetching &&\n          (hasRun ? (\n            <s-box paddingBlockEnd=\"base\">\n              <s-banner tone={hasError ? \"critical\" : \"success\"}>{actionResultMessage}</s-banner>\n            </s-box>\n          ) : (\n            <RunActionConfirmationText count={ids.length} />\n          ))}\n      </s-box>\n\n      <s-box>\n        <s-stack direction=\"inline\" gap=\"small\" justifyContent=\"end\">\n          <s-button variant=\"secondary\" onClick={close}>\n            Close\n          </s-button>\n          {((!hasError && !hasRun) || fetching) && (\n            <s-button variant=\"primary\" loading={fetching} onClick={runAction}>\n              Run\n            </s-button>\n          )}\n        </s-stack>\n      </s-box>\n    </>\n  );\n};\n\nconst CenteredSpinner = () => (\n  <s-stack alignItems=\"center\" justifyContent=\"center\">\n    <s-spinner accessibilityLabel=\"Running action\" size=\"large\" />\n  </s-stack>\n);\n\nconst RunActionConfirmationText = (props: { count: number }) => {\n  const { count } = props;\n  return useMemo(() => <s-text>{getRunActionConfirmationText(count)}</s-text>, [count]);\n};\n"]}