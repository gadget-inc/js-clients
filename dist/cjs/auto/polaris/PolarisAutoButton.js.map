{"version":3,"file":"PolarisAutoButton.js","sourceRoot":"","sources":["../../../../src/auto/polaris/PolarisAutoButton.tsx"],"names":[],"mappings":";;;;AACA,gEAAyD;AACzD,8CAA0C;AAE1C,0DAA0B;AAG1B,oFAA8E;AAE9E;;GAEG;AACI,MAAM,iBAAiB,GAAG,CAK/B,KAAyF,EACzF,EAAE;IACF,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,oDAAuB,EAAC;QACnF,SAAS,EAAE,CAAC,OAAO,EAAE,EAAE;YACrB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,aAAa,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE;YAC1B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,0BAA0B,KAAK,CAAC,OAAO,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAC5F,CAAC;QACD,GAAG,KAAK;KACT,CAAC,CAAC;IACH,MAAM,OAAO,GAAG,IAAA,+BAAY,GAAE,CAAC;IAE/B,OAAO,CACL,8BAAC,gBAAM,IAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,EAAE,OAAO,EAAE,GAAG,KAAM,WAAW,IACvH,KAAK,EAAE,QAAQ,IAAI,KAAK,CAClB,CACV,CAAC;AACJ,CAAC,CAAC;AAvBW,QAAA,iBAAiB,qBAuB5B","sourcesContent":["import type { ActionFunction, GlobalActionFunction } from \"@gadgetinc/api-client-core\";\nimport { useAppBridge } from \"@shopify/app-bridge-react\";\nimport { Button } from \"@shopify/polaris\";\nimport type { ComponentProps } from \"react\";\nimport React from \"react\";\nimport type { OptionsType } from \"../../utils.js\";\nimport type { AutoButtonProps } from \"../hooks/useAutoButtonController.js\";\nimport { useAutoButtonController } from \"../hooks/useAutoButtonController.js\";\n\n/**\n * Render a button that invokes an action when clicked, and shows a toast notification when the action succeeds or encounters an error by default.\n */\nexport const PolarisAutoButton = <\n  GivenOptions extends OptionsType,\n  SchemaT,\n  ActionFunc extends ActionFunction<GivenOptions, any, any, SchemaT, any> | GlobalActionFunction<any>\n>(\n  props: AutoButtonProps<GivenOptions, SchemaT, ActionFunc> & ComponentProps<typeof Button>\n) => {\n  const { fetching, isDestructive, run, label, buttonProps } = useAutoButtonController({\n    onSuccess: (_result) => {\n      shopify.toast.show(`${label} succeeded.`);\n    },\n    onError: (error, _result) => {\n      shopify.toast.show(`${label} encountered an error: ${error.message}.`, { isError: true });\n    },\n    ...props,\n  });\n  const shopify = useAppBridge();\n\n  return (\n    <Button loading={fetching} disabled={fetching} tone={isDestructive ? \"critical\" : undefined} onClick={run} {...buttonProps}>\n      {props?.children ?? label}\n    </Button>\n  );\n};\n"]}