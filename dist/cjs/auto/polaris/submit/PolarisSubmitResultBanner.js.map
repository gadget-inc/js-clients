{"version":3,"file":"PolarisSubmitResultBanner.js","sourceRoot":"","sources":["../../../../../src/auto/polaris/submit/PolarisSubmitResultBanner.tsx"],"names":[],"mappings":";;;;AAAA,8CAAuD;AACvD,uDAAmD;AACnD,iEAA+D;AAExD,MAAM,yBAAyB,GAAG,CAAC,KAA2E,EAAE,EAAE;IACvH,MAAM,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,GAAG,KAAK,CAAC;IAEvD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAA,wCAAmB,GAAE,CAAC;IAEzD,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAChE,MAAM,UAAU,GAAG,GAAG,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAEnD,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC,EAAE,CAAC,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC;IAEtD,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACtB,IAAI,YAAY,EAAE,YAAY,EAAE,CAAC;YAC/B,OAAO,CACL,8BAAC,gBAAM,IACL,KAAK,EAAE,SAAS,GAAG,QAAQ,EAAE,IAAI,GAAG,eAAe,EACnD,IAAI,EAAC,SAAS,KACV,kBAAkB,EACtB,SAAS,EAAE,GAAG,EAAE;oBACd,UAAU,EAAE,CAAC;oBACb,kBAAkB,EAAE,SAAS,EAAE,EAAE,CAAC;gBACpC,CAAC,GACD,CACH,CAAC;QACJ,CAAC;aAAM,IAAI,YAAY,EAAE,KAAK,EAAE,CAAC;YAC/B,OAAO,CACL,8BAAC,gBAAM,IACL,KAAK,EAAE,YAAY,EAAE,KAAK,CAAC,OAAO,EAClC,IAAI,EAAC,UAAU,KACX,gBAAgB,EACpB,SAAS,EAAE,GAAG,EAAE;oBACd,UAAU,EAAE,EAAE,CAAC;oBACf,gBAAgB,EAAE,SAAS,EAAE,EAAE,CAAC;gBAClC,CAAC,GACD,CACH,CAAC;QACJ,CAAC;IACH,CAAC;IAED,OAAO,6DAAK,CAAC;AACf,CAAC,CAAC;AAzCW,QAAA,yBAAyB,6BAyCpC","sourcesContent":["import { Banner, BannerProps } from \"@shopify/polaris\";\nimport React, { useEffect, useState } from \"react\";\nimport { useAutoFormMetadata } from \"../../AutoFormContext.js\";\n\nexport const PolarisSubmitResultBanner = (props: { successBannerProps?: BannerProps; errorBannerProps?: BannerProps }) => {\n  const { successBannerProps, errorBannerProps } = props;\n\n  const { metadata, submitResult } = useAutoFormMetadata();\n\n  const [isManuallyClosed, setIsManuallyClosed] = useState(false);\n  const hideBanner = () => setIsManuallyClosed(true);\n\n  useEffect(() => {\n    setIsManuallyClosed(false);\n  }, [submitResult?.isSuccessful, submitResult?.error]);\n\n  if (!isManuallyClosed) {\n    if (submitResult?.isSuccessful) {\n      return (\n        <Banner\n          title={`Saved ${`${metadata?.name} `}successfully.`}\n          tone=\"success\"\n          {...successBannerProps}\n          onDismiss={() => {\n            hideBanner();\n            successBannerProps?.onDismiss?.();\n          }}\n        />\n      );\n    } else if (submitResult?.error) {\n      return (\n        <Banner\n          title={submitResult?.error.message}\n          tone=\"critical\"\n          {...errorBannerProps}\n          onDismiss={() => {\n            hideBanner?.();\n            errorBannerProps?.onDismiss?.();\n          }}\n        />\n      );\n    }\n  }\n\n  return <></>;\n};\n"]}