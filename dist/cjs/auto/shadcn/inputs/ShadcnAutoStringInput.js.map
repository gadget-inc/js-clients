{"version":3,"file":"ShadcnAutoStringInput.js","sourceRoot":"","sources":["../../../../../src/auto/shadcn/inputs/ShadcnAutoStringInput.tsx"],"names":[],"mappings":";;;;AAAA,0DAAwD;AACxD,qDAA+C;AAC/C,yFAAmF;AAEnF,4DAAsD;AAGtD;;;;GAIG;AACI,MAAM,yBAAyB,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,EAA2C,EAAE,EAAE;IACrG,SAAS,qBAAqB,CAC5B,KAG4E;QAE5E,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,CAAC;QAClE,MAAM,qBAAqB,GAAG,IAAA,sDAAwB,EAAC,KAAK,CAAC,CAAC;QAC9D,MAAM,EACJ,IAAI,EACJ,WAAW,EACX,KAAK,EACL,YAAY,EACZ,IAAI,EACJ,KAAK,EAAE,eAAe,EACtB,QAAQ,EACR,YAAY,EACZ,QAAQ,EACR,MAAM,GACP,GAAG,qBAAqB,CAAC;QAE1B,MAAM,EAAE,GAAG,IAAI,IAAI,GAAG,KAAK,QAAQ,CAAC;QAEpC,MAAM,UAAU,GAAG,WAAW,IAAI,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC;QAEnE,MAAM,iBAAiB,GAAG,QAAQ,CAAC,wBAAwB,CAAC,CAAC,CAAC,8BAAC,kCAAc,YAAmB,CAAC,CAAC,CAAC,IAAI,CAAC;QAExG,OAAO,CACL,uCAAK,SAAS,EAAC,qBAAqB;YAClC,8BAAC,KAAK,IAAC,OAAO,EAAE,EAAE;gBACf,UAAU;;gBAAG,iBAAiB,CACzB;YACR,uCACE,SAAS,EACP,MAAM;oBACJ,CAAC,CAAC,qIAAqI;oBACvI,CAAC,CAAC,UAAU;gBAGhB,uCAAK,SAAS,EAAC,4BAA4B;oBACzC,8BAAC,KAAK,IACJ,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,IAAI,MAAM,EACpB,EAAE,EAAE,EAAE,EACN,KAAK,EAAE,KAAK,IAAI,EAAE,EAClB,YAAY,EAAE,YAAY,EAC1B,QAAQ,EAAE,QAAQ,EAClB,MAAM,EAAE,MAAM,EACd,QAAQ,EAAE,QAAQ,CAAC,wBAAwB,IAAI,KAAK,EACpD,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,qEAAqE,CAAC,CAAC,CAAC,EAAE,EAC9F,WAAW,EAAE,WAAW,KACpB,SAAS,GACb;oBACD,MAAM,IAAI,uCAAK,SAAS,EAAC,6BAA6B,IAAE,MAAM,CAAO,CAClE;gBACL,YAAY,IAAI,qCAAG,SAAS,EAAC,sBAAsB,IAAE,YAAY,CAAK,CACnE,CACF,CACP,CAAC;IACJ,CAAC;IAED,OAAO,IAAA,wBAAS,EAAC,qBAAqB,CAAC,CAAC;AAC1C,CAAC,CAAC;AA/DW,QAAA,yBAAyB,6BA+DpC","sourcesContent":["import React, { type InputHTMLAttributes } from \"react\";\nimport { autoInput } from \"../../AutoInput.js\";\nimport { useStringInputController } from \"../../hooks/useStringInputController.js\";\nimport { type AutoTextInputProps } from \"../../shared/AutoInputTypes.js\";\nimport { ShadcnRequired } from \"../ShadcnRequired.js\";\nimport type { ShadcnElements } from \"../elements.js\";\n\n/**\n * Make the Shadcn components for the auto string input\n * @param elements - The Shadcn elements to use\n * @returns The Shadcn components for the auto string input\n */\nexport const makeShadcnAutoStringInput = ({ Input, Label }: Pick<ShadcnElements, \"Input\" | \"Label\">) => {\n  function ShadcnAutoStringInput(\n    props: {\n      suffix?: React.ReactNode;\n    } & AutoTextInputProps &\n      Partial<Omit<InputHTMLAttributes<HTMLInputElement>, \"onChange\" | \"value\">>\n  ) {\n    const { field, label: customLabel, suffix, ...restProps } = props;\n    const stringInputController = useStringInputController(props);\n    const {\n      name,\n      placeholder,\n      value,\n      autoComplete,\n      type,\n      label: controllerLabel,\n      metadata,\n      errorMessage,\n      onChange,\n      onBlur,\n    } = stringInputController;\n\n    const id = name || `${field}-input`;\n\n    const inputLabel = customLabel || controllerLabel || metadata.name;\n\n    const requiredIndicator = metadata.requiredArgumentForInput ? <ShadcnRequired>*</ShadcnRequired> : null;\n\n    return (\n      <div className=\"flex flex-col gap-2\">\n        <Label htmlFor={id}>\n          {inputLabel} {requiredIndicator}\n        </Label>\n        <div\n          className={\n            suffix\n              ? \"relative group border border-input rounded-md focus-within:ring-ring/50 focus-within:ring-3 transition-shadow duration-200 ease-out\"\n              : \"relative\"\n          }\n        >\n          <div className=\"relative flex items-center\">\n            <Input\n              name={name}\n              type={type || \"text\"}\n              id={id}\n              value={value ?? \"\"}\n              autoComplete={autoComplete}\n              onChange={onChange}\n              onBlur={onBlur}\n              required={metadata.requiredArgumentForInput || false}\n              className={suffix ? \"border-0 shadow-none rounded-none focus:ring-0 focus-visible:ring-0\" : \"\"}\n              placeholder={placeholder}\n              {...restProps}\n            />\n            {suffix && <div className=\"h-10 flex items-center px-3\">{suffix}</div>}\n          </div>\n          {errorMessage && <p className=\"text-sm text-red-500\">{errorMessage}</p>}\n        </div>\n      </div>\n    );\n  }\n\n  return autoInput(ShadcnAutoStringInput);\n};\n"]}