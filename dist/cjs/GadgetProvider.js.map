{"version":3,"file":"GadgetProvider.js","sourceRoot":"","sources":["../../src/GadgetProvider.tsx"],"names":[],"mappings":";;;;AACA,0DAA8D;AAE9D,yCAAwD;AAExD,mCAAuC;AACvC,6CAA6C;AAE7C,MAAM,gBAAgB,GAAG,IAAA,sBAAa,EAAuB,IAAuC,CAAC,CAAC;AAOtG,SAAgB,QAAQ,CAAC,KAAoB;IAC3C,MAAM,EAAE,YAAY,EAAE,gBAAgB,EAAE,UAAU,EAAE,GAAG,IAAA,kCAAmB,EAAC,KAAK,CAAC,GAAG,EAAE,EAAE,GAAG,0BAAa,EAAE,gBAAgB,EAAE,CAAC,CAAC;IAC9H,OAAO,CACL,uBAAC,gBAAgB,CAAC,QAAQ,IACxB,KAAK,EAAE;YACL,GAAG,EAAE,YAAY;YACjB,UAAU,EAAE,gBAAgB;SAC7B,YAED,uBAAC,iBAAY,IAAC,KAAK,EAAE,UAAU,YAAG,KAAK,CAAC,QAAQ,GAAgB,GACtC,CAC7B,CAAC;AACJ,CAAC;AAZD,4BAYC","sourcesContent":["import type { GadgetApiContext as GadgetApiContextType } from \"@gadgetinc/client-hooks\";\nimport { registerClientHooks } from \"@gadgetinc/client-hooks\";\nimport type { AnyClient } from \"@gadgetinc/core\";\nimport { Provider as UrqlProvider } from \"@urql/preact\";\nimport type { ComponentChildren } from \"preact\";\nimport { createContext } from \"preact\";\nimport { preactAdapter } from \"./adapter.js\";\n\nconst GadgetApiContext = createContext<GadgetApiContextType>(null as unknown as GadgetApiContextType);\n\nexport interface ProviderProps {\n  api: AnyClient;\n  children: ComponentChildren;\n}\n\nexport function Provider(props: ProviderProps) {\n  const { gadgetClient, gadgetConnection, urqlClient } = registerClientHooks(props.api, { ...preactAdapter, GadgetApiContext });\n  return (\n    <GadgetApiContext.Provider\n      value={{\n        api: gadgetClient,\n        connection: gadgetConnection,\n      }}\n    >\n      <UrqlProvider value={urqlClient}>{props.children}</UrqlProvider>\n    </GadgetApiContext.Provider>\n  );\n}\n"]}