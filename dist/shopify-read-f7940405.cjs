"use strict";const _=require("react"),Sa=require("react-dom");function wa(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const we=wa(_);var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gn={exports:{}},ir={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri;function ka(){if(ri)return ir;ri=1;var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return ir.Fragment=r,ir.jsx=s,ir.jsxs=s,ir}var ar={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni;function Oa(){return ni||(ni=1,process.env.NODE_ENV!=="production"&&function(){var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function j(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];U("error",a,p)}}function U(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,V=!1,Oe=!1,Re;Re=Symbol.for("react.module.reference");function Me(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Oe||a===i||a===f||a===d||V||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===Re||a.getModuleId!==void 0))}function re(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function Z(a){return a.displayName||"Context"}function W(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return Z(c)+".Consumer";case s:var p=a;return Z(p._context)+".Provider";case l:return re(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:W(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return W(k(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,D,L,Ae,q,xe,$e;function ze(){}ze.__reactDisabledLog=!0;function Ke(){{if(M===0){$=console.log,D=console.info,L=console.warn,Ae=console.error,q=console.group,xe=console.groupCollapsed,$e=console.groupEnd;var a={configurable:!0,enumerable:!0,value:ze,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function Q(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:D}),warn:N({},a,{value:L}),error:N({},a,{value:Ae}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:xe}),groupEnd:N({},a,{value:$e})})}M<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var z=R.ReactCurrentDispatcher,lt;function qe(a,c,p){{if(lt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);lt=g&&g[1]||""}return`
`+lt+a}}var mt=!1,rt;{var Vr=typeof WeakMap=="function"?WeakMap:Map;rt=new Vr}function Lt(a,c){if(!a||mt)return"";{var p=rt.get(a);if(p!==void 0)return p}var g;mt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=z.current,z.current=null,Ke();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ne){g=ne}Reflect.construct(a,[],k)}else{try{k.call()}catch(ne){g=ne}a.call(k.prototype)}}else{try{throw Error()}catch(ne){g=ne}a()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),B=g.stack.split(`
`),T=w.length-1,C=B.length-1;T>=1&&C>=0&&w[T]!==B[C];)C--;for(;T>=1&&C>=0;T--,C--)if(w[T]!==B[C]){if(T!==1||C!==1)do if(T--,C--,C<0||w[T]!==B[C]){var K=`
`+w[T].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),typeof a=="function"&&rt.set(a,K),K}while(T>=1&&C>=0);break}}}finally{mt=!1,z.current=A,Q(),Error.prepareStackTrace=O}var Ne=a?a.displayName||a.name:"",nr=Ne?qe(Ne):"";return typeof a=="function"&&rt.set(a,nr),nr}function Gr(a,c,p){return Lt(a,!1)}function Lr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function nt(a,c,p){if(a==null)return"";if(typeof a=="function")return Lt(a,Lr(a));if(typeof a=="string")return qe(a);switch(a){case f:return qe("Suspense");case d:return qe("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Gr(a.render);case y:return nt(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return nt(A(O),c,p)}catch{}}}return""}var it=Object.prototype.hasOwnProperty,Wt={},zt=R.ReactDebugCurrentFrame;function at(a){if(a){var c=a._owner,p=nt(a.type,a._source,c?c.type:null);zt.setExtraStackFrame(p)}else zt.setExtraStackFrame(null)}function Wr(a,c,p,g,O){{var A=Function.call.bind(it);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var B=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(T){w=T}w&&!(w instanceof Error)&&(at(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),at(null)),w instanceof Error&&!(w.message in Wt)&&(Wt[w.message]=!0,at(O),I("Failed %s type: %s",p,w.message),at(null))}}}var zr=Array.isArray;function bt(a){return zr(a)}function Kr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function Yr(a){try{return Kt(a),!1}catch{return!0}}function Kt(a){return""+a}function Yt(a){if(Yr(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Kr(a)),Kt(a)}var Be=R.ReactCurrentOwner,Jr={key:!0,ref:!0,__self:!0,__source:!0},Jt,Qt,gt;gt={};function Qr(a){if(it.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function Hr(a){if(it.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function Xr(a,c){if(typeof a.ref=="string"&&Be.current&&c&&Be.current.stateNode!==c){var p=W(Be.current.type);gt[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(Be.current.type),a.ref),gt[p]=!0)}}function Zr(a,c){{var p=function(){Jt||(Jt=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function en(a,c){{var p=function(){Qt||(Qt=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var tn=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function rn(a,c,p,g,O){{var A,k={},w=null,B=null;p!==void 0&&(Yt(p),w=""+p),Hr(c)&&(Yt(c.key),w=""+c.key),Qr(c)&&(B=c.ref,Xr(c,O));for(A in c)it.call(c,A)&&!Jr.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var T=a.defaultProps;for(A in T)k[A]===void 0&&(k[A]=T[A])}if(w||B){var C=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&Zr(k,C),B&&en(k,C)}return tn(a,w,B,O,g,Be.current,k)}}var vt=R.ReactCurrentOwner,Ht=R.ReactDebugCurrentFrame;function Ee(a){if(a){var c=a._owner,p=nt(a.type,a._source,c?c.type:null);Ht.setExtraStackFrame(p)}else Ht.setExtraStackFrame(null)}var St;St=!1;function wt(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function Xt(){{if(vt.current){var a=W(vt.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function nn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var Zt={};function an(a){{var c=Xt();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function er(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=an(c);if(Zt[p])return;Zt[p]=!0;var g="";a&&a._owner&&a._owner!==vt.current&&(g=" It was passed a child from "+W(a._owner.type)+"."),Ee(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ee(null)}}function tr(a,c){{if(typeof a!="object")return;if(bt(a))for(var p=0;p<a.length;p++){var g=a[p];wt(g)&&er(g,c)}else if(wt(a))a._store&&(a._store.validated=!0);else if(a){var O=j(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)wt(k.value)&&er(k.value,c)}}}function on(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=W(c);Wr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!St){St=!0;var O=W(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function sn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ee(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ee(null);break}}a.ref!==null&&(Ee(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ee(null))}}function rr(a,c,p,g,O,A){{var k=Me(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=nn(O);B?w+=B:w+=Xt();var T;a===null?T="null":bt(a)?T="array":a!==void 0&&a.$$typeof===t?(T="<"+(W(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):T=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",T,w)}var C=rn(a,c,p,O,A);if(C==null)return C;if(k){var K=c.children;if(K!==void 0)if(g)if(bt(K)){for(var Ne=0;Ne<K.length;Ne++)tr(K[Ne],a);Object.freeze&&Object.freeze(K)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else tr(K,a)}return a===n?sn(C):on(C),C}}function un(a,c,p){return rr(a,c,p,!0)}function ln(a,c,p){return rr(a,c,p,!1)}var cn=ln,dn=un;ar.Fragment=n,ar.jsx=cn,ar.jsxs=dn}()),ar}process.env.NODE_ENV==="production"?gn.exports=ka():gn.exports=Oa();var Tr=gn.exports;const Aa=e=>e&&"connection"in e&&e.connection&&"endpoint"in e.connection;var jn=()=>{},Ie=jn;function We(e){return{tag:0,0:e}}function gr(e){return{tag:1,0:e}}var Ea=e=>e;function ee(e){return t=>r=>{var n=Ie;t(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):e(i[0])?r(i):n(0)})}}function Mt(e){return t=>r=>t(n=>{n===0||n.tag===0?r(n):r(gr(e(n[0])))})}function yr(e){return t=>r=>{var n=[],i=Ie,o=!1,s=!1;t(u=>{s||(u===0?(s=!0,n.length||r(0)):u.tag===0?i=u[0]:(o=!1,function(f){var d=Ie;f(y=>{if(y===0){if(n.length){var h=n.indexOf(d);h>-1&&(n=n.slice()).splice(h,1),n.length||(s?r(0):o||(o=!0,i(0)))}}else y.tag===0?(n.push(d=y[0]),d(0)):n.length&&(r(y),d(0))})}(e(u[0])),o||(o=!0,i(0))))}),r(We(u=>{if(u===1){s||(s=!0,i(1));for(var l=0,f=n,d=n.length;l<d;l++)f[l](1);n.length=0}else{!s&&!o?(o=!0,i(0)):o=!1;for(var y=0,h=n,m=n.length;y<m;y++)h[y](0)}}))}}function Na(e){return yr(Ea)(e)}function $t(e){return Na(Ta(e))}function Mn(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0),e();else if(i.tag===0){var o=i[0];r(We(s=>{s===1?(n=!0,o(1),e()):o(s)}))}else r(i)})}}function Tt(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var o=i[0];r(We(s=>{s===1&&(n=!0),o(s)}))}else e(i[0]),r(i)})}}function ii(e){return t=>r=>t(n=>{n===0?r(0):n.tag===0?(r(n),e()):r(n)})}function hr(e){var t=[],r=Ie,n=!1;return i=>{t.push(i),t.length===1&&e(o=>{if(o===0){for(var s=0,u=t,l=t.length;s<l;s++)u[s](0);t.length=0}else if(o.tag===0)r=o[0];else{n=!1;for(var f=0,d=t,y=t.length;f<y;f++)d[f](o)}}),i(We(o=>{if(o===1){var s=t.indexOf(i);s>-1&&(t=t.slice()).splice(s,1),t.length||r(1)}else n||(n=!0,r(0))}))}}function ai(e){return t=>r=>{var n=Ie,i=Ie,o=!1,s=!1,u=!1,l=!1;t(f=>{l||(f===0?(l=!0,u||r(0)):f.tag===0?n=f[0]:(u&&(i(1),i=Ie),o?o=!1:(o=!0,n(0)),function(y){u=!0,y(h=>{u&&(h===0?(u=!1,l?r(0):o||(o=!0,n(0))):h.tag===0?(s=!1,(i=h[0])(0)):(r(h),s?s=!1:i(0)))})}(e(f[0]))))}),r(We(f=>{f===1?(l||(l=!0,n(1)),u&&(u=!1,i(1))):(!l&&!o&&(o=!0,n(0)),u&&!s&&(s=!0,i(0)))}))}}function vr(e){return t=>r=>{var n=Ie,i=!1,o=0;t(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?e<=0?(i=!0,r(0),s[0](1)):n=s[0]:o++<e?(r(s),!i&&o>=e&&(i=!0,r(0),n(1))):r(s))}),r(We(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&o<e&&n(0)}))}}function $n(e){return t=>r=>{var n=Ie,i=Ie,o=!1;t(s=>{o||(s===0?(o=!0,i(1),r(0)):s.tag===0?(n=s[0],e(u=>{u===0||(u.tag===0?(i=u[0])(0):(o=!0,i(1),n(1),r(0)))})):r(s))}),r(We(s=>{s===1&&!o?(o=!0,n(1),i(1)):o||n(0)}))}}function Bi(e,t){return r=>n=>{var i=Ie,o=!1;r(s=>{o||(s===0?(o=!0,n(0)):s.tag===0?(i=s[0],n(s)):e(s[0])?n(s):(o=!0,t&&n(s),n(0),i(1)))})}}function Pa(e){return t=>e()(t)}function Ui(e){return t=>{var r=e[Symbol.asyncIterator](),n=!1,i=!1,o=!1,s;t(We(async u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),t(0);else try{o=!1,t(gr(s.value))}catch(l){if(r.throw)(n=!!(await r.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function _a(e){return e[Symbol.asyncIterator]?Ui(e):t=>{var r=e[Symbol.iterator](),n=!1,i=!1,o=!1,s;t(We(u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),t(0);else try{o=!1,t(gr(s.value))}catch(l){if(r.throw)(n=!!r.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Ta=_a;function lr(e){return t=>{var r=!1;t(We(n=>{n===1?r=!0:r||(r=!0,t(gr(e)),t(0))}))}}function qn(e){return t=>{var r=!1,n=e({next(i){r||t(gr(i))},complete(){r||(r=!0,t(0))}});t(We(i=>{i===1&&!r&&(r=!0,n())}))}}function oi(){var e,t;return{source:hr(qn(r=>(e=r.next,t=r.complete,jn))),next(r){e&&e(r)},complete(){t&&t()}}}function si(e){return qn(t=>(e.then(r=>{Promise.resolve(r).then(()=>{t.next(r),t.complete()})}),jn))}function Ct(e){return t=>{var r=Ie,n=!1;return t(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(e(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function Ca(e){Ct(t=>{})(e)}var fn={done:!0},Ra=e=>({[Symbol.asyncIterator](){var t=[],r=!1,n=Ie,i;return e(o=>{r||(o===0?(i&&(i=i(fn)),r=!0):o.tag===0?(n=o[0])(0):i?i=i({value:o[0],done:!1}):t.push(o[0]))}),{async next(){return r&&!t.length?fn:(!r&&t.length<=1&&n(0),t.length?{value:t.shift(),done:!1}:new Promise(o=>i=o))},async return(){return r||(i=n(1)),r=!0,fn}}}});function Mr(e){return new Promise(t=>{var r=Ie,n;e(i=>{i===0?Promise.resolve(n).then(t):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var Bn=(...e)=>{for(var t=e[0],r=1,n=e.length;r<n;r++)t=e[r](t);return t},jt={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class mr extends Error{constructor(t,r,n,i,o,s,u){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var f=s.extensions;f&&typeof f=="object"&&(l=f)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var Y,x;function te(e){return new mr(`Syntax Error: Unexpected token at ${x} in ${e}`)}function Te(e){if(e.lastIndex=x,e.test(Y))return Y.slice(x,x=e.lastIndex)}var Ir=/ +(?=[^\s])/y;function xa(e){for(var t=e.split(`
`),r="",n=0,i=0,o=t.length-1,s=0;s<t.length;s++)Ir.lastIndex=0,Ir.test(t[s])&&(s&&(!n||Ir.lastIndex<n)&&(n=Ir.lastIndex),i=i||s,o=s);for(var u=i;u<=o;u++)u!==i&&(r+=`
`),r+=t[u].slice(n).replace(/\\"""/g,'"""');return r}function F(){for(var e=0|Y.charCodeAt(x++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|Y.charCodeAt(x++))if(e===35)for(;(e=Y.charCodeAt(x++))!==10&&e!==13;);x--}var Vi=/[_A-Za-z]\w*/y;function tt(){var e;if(e=Te(Vi))return{kind:"Name",value:e}}var Da=/(?:null|true|false)/y,Gi=/\$[_A-Za-z]\w*/y,Fa=/-?\d+/y,ja=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Ma=/\\/g,$a=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,qa=/"(?:"|[^\r\n]*?[^\\]")/y;function Cr(e){var t,r;if(r=Te(Da))t=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!e&&(r=Te(Gi)))t={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=Te(Fa)){var n=r;(r=Te(ja))?t={kind:"FloatValue",value:n+r}:t={kind:"IntValue",value:n}}else if(r=Te(Vi))t={kind:"EnumValue",value:r};else if(r=Te($a))t={kind:"StringValue",value:xa(r.slice(3,-3)),block:!0};else if(r=Te(qa))t={kind:"StringValue",value:Ma.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(t=function(o){var s;if(Y.charCodeAt(x)===91){x++,F();for(var u=[];s=Cr(o);)u.push(s);if(Y.charCodeAt(x++)!==93)throw te("ListValue");return F(),{kind:"ListValue",values:u}}}(e)||function(o){if(Y.charCodeAt(x)===123){x++,F();for(var s=[],u;u=tt();){if(F(),Y.charCodeAt(x++)!==58)throw te("ObjectField");F();var l=Cr(o);if(!l)throw te("ObjectField");s.push({kind:"ObjectField",name:u,value:l})}if(Y.charCodeAt(x++)!==125)throw te("ObjectValue");return F(),{kind:"ObjectValue",fields:s}}}(e))return t;return F(),t}function Li(e){var t=[];if(F(),Y.charCodeAt(x)===40){x++,F();for(var r;r=tt();){if(F(),Y.charCodeAt(x++)!==58)throw te("Argument");F();var n=Cr(e);if(!n)throw te("Argument");t.push({kind:"Argument",name:r,value:n})}if(!t.length||Y.charCodeAt(x++)!==41)throw te("Argument");F()}return t}function qt(e){var t=[];for(F();Y.charCodeAt(x)===64;){x++;var r=tt();if(!r)throw te("Directive");F(),t.push({kind:"Directive",name:r,arguments:Li(e)})}return t}function Ba(){var e=tt();if(e){F();var t;if(Y.charCodeAt(x)===58){if(x++,F(),t=e,!(e=tt()))throw te("Field");F()}return{kind:"Field",alias:t,name:e,arguments:Li(!1),directives:qt(!1),selectionSet:$r()}}}function Wi(){var e;if(F(),Y.charCodeAt(x)===91){x++,F();var t=Wi();if(!t||Y.charCodeAt(x++)!==93)throw te("ListType");e={kind:"ListType",type:t}}else if(e=tt())e={kind:"NamedType",name:e};else throw te("NamedType");return F(),Y.charCodeAt(x)===33?(x++,F(),{kind:"NonNullType",type:e}):e}var Ua=/on/y;function zi(){if(Te(Ua)){F();var e=tt();if(!e)throw te("NamedType");return F(),{kind:"NamedType",name:e}}}var Va=/\.\.\./y;function Ga(){if(Te(Va)){F();var e=x,t;if((t=tt())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:qt(!1)};x=e;var r=zi(),n=qt(!1),i=$r();if(!i)throw te("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function $r(){var e;if(F(),Y.charCodeAt(x)===123){x++,F();for(var t=[];e=Ga()||Ba();)t.push(e);if(!t.length||Y.charCodeAt(x++)!==125)throw te("SelectionSet");return F(),{kind:"SelectionSet",selections:t}}}var La=/fragment/y;function Wa(){if(Te(La)){F();var e=tt();if(!e)throw te("FragmentDefinition");F();var t=zi();if(!t)throw te("FragmentDefinition");var r=qt(!1),n=$r();if(!n)throw te("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:r,selectionSet:n}}}var za=/(?:query|mutation|subscription)/y;function Ka(){var e,t,r=[],n=[];(e=Te(za))&&(F(),t=tt(),r=function(){var s,u=[];if(F(),Y.charCodeAt(x)===40){for(x++,F();s=Te(Gi);){if(F(),Y.charCodeAt(x++)!==58)throw te("VariableDefinition");var l=Wi(),f=void 0;if(Y.charCodeAt(x)===61&&(x++,F(),!(f=Cr(!0))))throw te("VariableDefinition");F(),u.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:l,defaultValue:f,directives:qt(!0)})}if(Y.charCodeAt(x++)!==41)throw te("VariableDefinition");F()}return u}(),n=qt(!1));var i=$r();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:r,directives:n,selectionSet:i}}function Ya(e,t){return Y=typeof e.body=="string"?e.body:e,x=0,function(){var n;F();for(var i=[];n=Wa()||Ka();)i.push(n);return{kind:"Document",definitions:i}}()}function Ja(e){return JSON.stringify(e)}function Qa(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var De=e=>!(!e||!e.length),pe={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!De(e.variableDefinitions)&&!De(e.directives))return pe.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),De(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(pe.VariableDefinition).join(", ")+")"),De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),t+" "+pe.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=pe.Variable(e.variable)+": "+Fe(e.type);return e.defaultValue&&(t+=" = "+Fe(e.defaultValue)),De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(De(e.arguments)){var r=e.arguments.map(pe.Argument),n=t+"("+r.join(", ")+")";t=n.length>80?t+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),e.selectionSet?t+" "+pe.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?Qa(e.value):Ja(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Fe).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(pe.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Fe(e.value),Document:e=>De(e.definitions)?e.definitions.map(Fe).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Fe).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Fe(e.value),FragmentSpread(e){var t="..."+e.name.value;return De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),t+" "+Fe(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,De(e.directives)&&(t+=" "+e.directives.map(pe.Directive).join(" ")),t+" "+Fe(e.selectionSet)},Directive(e){var t="@"+e.name.value;return De(e.arguments)&&(t+="("+e.arguments.map(pe.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Fe(e.type)+"]",NonNullType:e=>Fe(e.type)+"!"};function Fe(e){return pe[e.kind]?pe[e.kind](e):""}var Ha=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new mr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new mr(e);class Sr extends Error{constructor(t){var r=(t.graphQLErrors||[]).map(Ha),n=((i,o)=>{var s="";if(i)return`[Network] ${i.message}`;if(o)for(var u of o)s&&(s+=`
`),s+=`[GraphQL] ${u.message}`;return s})(t.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var vn=(e,t)=>{for(var r=0|(t||5381),n=0,i=0|e.length;n<i;n++)r=(r<<5)+r+e.charCodeAt(n);return r},_t=new Set,ui=new WeakMap,Dt=e=>{if(e===null||_t.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return Dt(e.toJSON());if(Array.isArray(e)){var t="[";for(var r of e)t.length>1&&(t+=","),t+=Dt(r)||"null";return t+="]"}else if(xr!==Bt&&e instanceof xr||Dr!==Bt&&e instanceof Dr)return"null";var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var i=ui.get(e)||Math.random().toString(36).slice(2);return ui.set(e,i),Dt({__key:i})}_t.add(e);var o="{";for(var s of n){var u=Dt(e[s]);u&&(o.length>1&&(o+=","),o+=Dt(s)+":"+u)}return _t.delete(e),o+="}"},Sn=(e,t,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||_t.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)Sn(e,`${t}.${n}`,r[n]);else if(r instanceof xr||r instanceof Dr)e.set(t,r);else{_t.add(r);for(var o of Object.keys(r))Sn(e,`${t}.${o}`,r[o])}},Rr=e=>(_t.clear(),Dt(e));class Bt{}var xr=typeof File<"u"?File:Bt,Dr=typeof Blob<"u"?Blob:Bt,Xa=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,Za=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,eo=(e,t)=>t%2==0?e.replace(Za,`
`):e,li=e=>e.split(Xa).map(eo).join("").trim(),ci=new Map,Nr=new Map,Un=e=>{var t;return typeof e=="string"?t=li(e):e.loc&&Nr.get(e.__key)===e?t=e.loc.source.body:(t=ci.get(e)||li(Fe(e)),ci.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},di=e=>{var t=vn(Un(e));if(e.definitions){var r=Yi(e);r&&(t=vn(`
# ${r}`,t))}return t},Ki=e=>{var t,r;return typeof e=="string"?(t=di(e),r=Nr.get(t)||Ya(e)):(t=e.__key||di(e),r=Nr.get(t)||e),r.loc||Un(r),r.__key=t,Nr.set(t,r),r},cr=(e,t,r)=>{var n=t||{},i=Ki(e),o=Rr(n),s=i.__key;return o!=="{}"&&(s=vn(o,s)),{key:s,query:i,variables:n,extensions:r}},Yi=e=>{for(var t of e.definitions)if(t.kind===jt.OPERATION_DEFINITION)return t.name?t.name.value:void 0},to=e=>{for(var t of e.definitions)if(t.kind===jt.OPERATION_DEFINITION)return t.operation},wn=(e,t,r)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new Sr({graphQLErrors:t.errors,response:r}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?n:t.hasNext,stale:!1}},In=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var r of Object.keys(t))e[r]=In(e[r],t[r]);return e}return t},kn=(e,t,r)=>{var n=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},s=t.incremental;"path"in t&&(s=[t]);var u={data:e.data};if(s)for(var l of s){Array.isArray(l.errors)&&n.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var f="data",d=u,y=0,h=l.path.length;y<h;f=l.path[y++])d=d[f]=Array.isArray(d[f])?[...d[f]]:{...d[f]};if(l.items)for(var m=+f>=0?f:0,v=0,E=l.items.length;v<E;v++)d[m+v]=In(d[m+v],l.items[v]);else l.data!==void 0&&(d[f]=In(d[f],l.data))}else u.data=t.data||e.data,n=t.errors||n;return{operation:e.operation,data:u.data,error:n.length?new Sr({graphQLErrors:n,response:r}):void 0,extensions:i?o:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},Ji=(e,t,r)=>({operation:e,data:void 0,error:new Sr({networkError:t,response:r}),extensions:void 0,hasNext:!1,stale:!1});function Qi(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:Un(e.query),operationName:Yi(e.query),variables:e.variables||void 0,extensions:e.extensions}}var ro=(e,t)=>{var r=e.kind==="query"&&e.context.preferGetMethod;if(!r||!t)return e.context.url;var n=new URL(e.context.url);for(var i in t){var o=t[i];o&&n.searchParams.set(i,typeof o=="object"?Rr(o):o)}var s=n.toString();return s.length>2047&&r!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},no=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var r=Rr(t),n=(u=>{var l=new Map;return(xr!==Bt||Dr!==Bt)&&(_t.clear(),Sn(l,"variables",u)),l})(t.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",Rr({...[...n.keys()].map(u=>[u])}));var o=0;for(var s of n.values())i.append(""+o++,s);return i}return r}},io=(e,t)=>{var r={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var o=no(e,t);return typeof o=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:o?"POST":"GET",body:o,headers:r}},ao=typeof TextDecoder<"u"?new TextDecoder:null,oo=/boundary="?([^=";]+)"?/i,so=/data: ?([^\n]+)/,fi=e=>e.constructor.name==="Buffer"?e.toString():ao.decode(e);async function*pi(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield fi(t);else{var r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield fi(n.value)}finally{r.cancel()}}}async function*yi(e,t){var r="",n;for await(var i of e)for(r+=i;(n=r.indexOf(t))>-1;)yield r.slice(0,n),r=r.slice(n+t.length)}async function*uo(e,t,r){var n=!0,i=null,o;try{yield await Promise.resolve();var s=(o=await(e.context.fetch||fetch)(t,r)).headers.get("Content-Type")||"",u;if(/multipart\/mixed/i.test(s))u=async function*(d,y){var h=d.match(oo),m="--"+(h?h[1]:"-"),v=!0,E;for await(var j of yi(pi(y),`\r
`+m)){if(v){v=!1;var R=j.indexOf(m);if(R>-1)j=j.slice(R+m.length);else continue}try{yield E=JSON.parse(j.slice(j.indexOf(`\r
\r
`)+4))}catch(I){if(!E)throw I}if(E&&E.hasNext===!1)break}E&&E.hasNext!==!1&&(yield{hasNext:!1})}(s,o);else if(/text\/event-stream/i.test(s))u=async function*(d){var y;for await(var h of yi(pi(d),`

`)){var m=h.match(so);if(m){var v=m[1];try{yield y=JSON.parse(v)}catch(E){if(!y)throw E}if(y&&y.hasNext===!1)break}}y&&y.hasNext!==!1&&(yield{hasNext:!1})}(o);else if(!/text\//i.test(s))u=async function*(d){yield JSON.parse(await d.text())}(o);else throw new Error(await o.text());for await(var l of u)i=i?kn(i,l,o):wn(e,l,o),n=!1,yield i,n=!0;i||(yield i=wn(e,{},o))}catch(f){if(!n)throw f;yield Ji(e,o&&(o.status<200||o.status>=300)&&o.statusText?new Error(o.statusText):f,o)}}function lo(e,t,r){var n;return typeof AbortController<"u"&&(r.signal=(n=new AbortController).signal),Mn(()=>{n&&n.abort()})(ee(i=>!!i)(Ui(uo(e,t,r))))}var On=(e,t)=>{if(Array.isArray(e))for(var r of e)On(r,t);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?t.add(e[n]):On(e[n],t);return t},An=e=>{var t=!1;if("definitions"in e){var r=[];for(var n of e.definitions){var i=An(n);t=t||i!==n,r.push(i)}if(t)return{...e,definitions:r}}else if("selectionSet"in e){var o=[],s=e.kind===jt.OPERATION_DEFINITION;if(e.selectionSet){for(var u of e.selectionSet.selections||[]){s=s||u.kind===jt.FIELD&&u.name.value==="__typename"&&!u.alias;var l=An(u);t=t||l!==u,o.push(l)}if(s||(t=!0,o.push({kind:jt.FIELD,name:{kind:jt.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:o}}}}return e},hi=new Map,co=e=>{var t=Ki(e),r=hi.get(t.__key);return r||(hi.set(t.__key,r=An(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},En=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>En(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var r={};for(var n in e)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=En(e[n]);return r}else return e};function mi(e){var t=r=>e(r);return t.toPromise=()=>Mr(vr(1)(ee(r=>!r.stale&&!r.hasNext)(t))),t.then=(r,n)=>t.toPromise().then(r,n),t.subscribe=r=>Ct(r)(t),t}function Ut(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var bi=(e,t)=>Ut(e.kind,e,{meta:{...e.context.meta,...t}}),fo=()=>{},pn=({kind:e})=>e!=="mutation"&&e!=="query",po=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,i=new Map,o=u=>{var l=Ut(u.kind,u);return l.query=co(u.query),l},s=u=>u.kind==="query"&&u.context.requestPolicy!=="network-only"&&(u.context.requestPolicy==="cache-only"||n.has(u.key));return u=>{var l=Mt(d=>{var y=n.get(d.key);process.env.NODE_ENV!=="production"&&r({operation:d,...y?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var h=y;return process.env.NODE_ENV!=="production"&&(h={...h,operation:process.env.NODE_ENV!=="production"?bi(d,{cacheOutcome:y?"hit":"miss"}):d}),d.context.requestPolicy==="cache-and-network"&&(h.stale=!0,gi(t,d)),h})(ee(d=>!pn(d)&&s(d))(u)),f=Tt(d=>{var{operation:y}=d;if(y){var h=y.context.additionalTypenames||[];if(d.operation.kind!=="subscription"&&(h=(S=>[...On(S,new Set)])(d.data).concat(h)),d.operation.kind==="mutation"||d.operation.kind==="subscription"){var m=new Set;process.env.NODE_ENV!=="production"&&r({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${h}`,operation:y,data:{typenames:h,response:d},source:"cacheExchange"});for(var v=0;v<h.length;v++){var E=h[v],j=i.get(E);j||i.set(E,j=new Set);for(var R of j.values())m.add(R);j.clear()}for(var I of m.values())n.has(I)&&(y=n.get(I).operation,n.delete(I),gi(t,y))}else if(y.kind==="query"&&d.data){n.set(y.key,d);for(var U=0;U<h.length;U++){var b=h[U],P=i.get(b);P||i.set(b,P=new Set),P.add(y.key)}}}})(e(ee(d=>d.kind!=="query"||d.context.requestPolicy!=="cache-only")(Mt(d=>process.env.NODE_ENV!=="production"?bi(d,{cacheOutcome:"miss"}):d)($t([Mt(o)(ee(d=>!pn(d)&&!s(d))(u)),ee(d=>pn(d))(u)])))));return $t([l,f])}},gi=(e,t)=>e.reexecuteOperation(Ut(t.kind,t,{requestPolicy:"network-only"})),yn=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:i})=>{var o=r||(s=>s.kind==="subscription"||!!t&&(s.kind==="query"||s.kind==="mutation"));return s=>{var u=yr(f=>{var{key:d}=f,y=ee(h=>h.kind==="teardown"&&h.key===d)(s);return $n(y)((h=>{var m=e(Qi(h),h);return qn(({next:v,complete:E})=>{var j=!1,R,I;return Promise.resolve().then(()=>{j||(R=m.subscribe({next(U){v(I=I?kn(I,U):wn(h,U))},error(U){v(Ji(h,U))},complete(){j||(j=!0,h.kind==="subscription"&&n.reexecuteOperation(Ut("teardown",h,h.context)),I&&I.hasNext&&v(kn(I,{hasNext:!1})),E())}}))}),()=>{j=!0,R&&R.unsubscribe()}})})(f))})(ee(f=>f.kind!=="teardown"&&o(f))(s)),l=i(ee(f=>f.kind==="teardown"||!o(f))(s));return $t([u,l])}},yo=({forward:e,dispatchDebug:t})=>r=>{var n=yr(o=>{var s=Qi(o),u=ro(o,s),l=io(o,s);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:o,data:{url:u,fetchOptions:l},source:"fetchExchange"});var f=$n(ee(d=>d.kind==="teardown"&&d.key===o.key)(r))(lo(o,u,l));return process.env.NODE_ENV!=="production"?Tt(d=>{var y=d.data?void 0:d.error;process.env.NODE_ENV!=="production"&&t({type:y?"fetchError":"fetchSuccess",message:`A ${y?"failed":"successful"} fetch response has been returned.`,operation:o,data:{url:u,fetchOptions:l,value:y||d},source:"fetchExchange"})})(f):f})(ee(o=>o.kind!=="teardown"&&(o.kind!=="subscription"||!!o.context.fetchSubscriptions))(r)),i=e(ee(o=>o.kind==="teardown"||o.kind==="subscription"&&!o.context.fetchSubscriptions)(r));return $t([n,i])},ho=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((i,o)=>{var s=!1;return o({client:t,forward(u){if(process.env.NODE_ENV!=="production"){if(s)throw new Error("forward() must only be called once in each Exchange.");s=!0}return hr(i(hr(u)))},dispatchDebug(u){process.env.NODE_ENV!=="production"&&n({timestamp:Date.now(),source:o.name,...u})}})},r),Hi=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>yr(o=>{r&&o.error&&r(o.error,o.operation);var s=t&&t(o)||o;return"then"in s?si(s):lr(s)})(n(yr(o=>{var s=e&&e(o)||o;return"then"in s?si(s):lr(s)})(i))),mo=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=Tt(r=>{if(r.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var n=`No exchange has handled operations of kind "${r.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:n,operation:r,source:"fallbackExchange"}),console.warn(n)}})(t)),ee(r=>!1)(t)),vi=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var r=0,n=new Map,i=new Map,o=new Set,s=[],u={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=oi();function f(b){(b.kind==="mutation"||b.kind==="teardown"||!o.has(b.key))&&(b.kind==="teardown"?o.delete(b.key):b.kind!=="mutation"&&o.add(b.key),l.next(b))}var d=!1;function y(b){if(b&&f(b),!d){for(d=!0;d&&(b=s.shift());)f(b);d=!1}}var h=b=>{var P=$n(ee(S=>S.kind==="teardown"&&S.key===b.key)(l.source))(ee(S=>S.operation.kind===b.kind&&S.operation.key===b.key&&(!S.operation.context._instance||S.operation.context._instance===b.context._instance))(U));return b.kind!=="query"?P=Bi(S=>!!S.hasNext,!0)(P):P=ai(S=>{var V=lr(S);return S.stale||S.hasNext?V:$t([V,Mt(()=>(S.stale=!0,S))(vr(1)(ee(Oe=>Oe.key===b.key)(l.source)))])})(P),b.kind!=="mutation"?P=Mn(()=>{o.delete(b.key),n.delete(b.key),i.delete(b.key),d=!1;for(var S=s.length-1;S>=0;S--)s[S].key===b.key&&s.splice(S,1);f(Ut("teardown",b,b.context))})(Tt(S=>{if(S.stale){for(var V of s)if(V.key===S.operation.key){o.delete(V.key);break}}else S.hasNext||o.delete(b.key);n.set(b.key,S)})(P)):P=ii(()=>{f(b)})(P),t.maskTypename&&(P=Mt(S=>({...S,data:En(S.data,!0)}))(P)),hr(P)},m=this instanceof e?this:Object.create(e.prototype),v=Object.assign(m,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(b){b.kind==="teardown"?y(b):(b.kind==="mutation"||i.has(b.key))&&(s.push(b),Promise.resolve().then(y))},createRequestOperation(b,P,S){S||(S={});var V;if(process.env.NODE_ENV!=="production"&&b!=="teardown"&&(V=to(P.query))!==b)throw new Error(`Expected operation of type "${b}" but found "${V}"`);return Ut(b,P,{_instance:b==="mutation"?r=r+1|0:void 0,...u,...S,requestPolicy:S.requestPolicy||u.requestPolicy,suspense:S.suspense||S.suspense!==!1&&v.suspense})},executeRequestOperation(b){return b.kind==="mutation"?mi(h(b)):mi(Pa(()=>{var P=i.get(b.key);P||i.set(b.key,P=h(b)),P=ii(()=>{y(b)})(P);var S=n.get(b.key);return b.kind==="query"&&S&&(S.stale||S.hasNext)?ai(lr)($t([P,ee(V=>V===n.get(b.key))(lr(S))])):P}))},executeQuery(b,P){var S=v.createRequestOperation("query",b,P);return v.executeRequestOperation(S)},executeSubscription(b,P){var S=v.createRequestOperation("subscription",b,P);return v.executeRequestOperation(S)},executeMutation(b,P){var S=v.createRequestOperation("mutation",b,P);return v.executeRequestOperation(S)},readQuery(b,P,S){var V=null;return Ct(Oe=>{V=Oe})(v.query(b,P,S)).unsubscribe(),V},query:(b,P,S)=>v.executeQuery(cr(b,P),S),subscription:(b,P,S)=>v.executeSubscription(cr(b,P),S),mutation:(b,P,S)=>v.executeMutation(cr(b,P),S)}),E=fo;if(process.env.NODE_ENV!=="production"){var{next:j,source:R}=oi();v.subscribeToDebugTarget=b=>Ct(b)(R),E=j}var I=ho(t.exchanges),U=hr(I({client:v,dispatchDebug:E,forward:mo({dispatchDebug:E})})(l.source));return Ca(U),v};const Nn=e=>Object.entries(e).flatMap(([t,r])=>{if(typeof r=="boolean")return r?t:!1;if(r instanceof Vn){let n="";const i=Object.entries(r.args).filter(([o,s])=>s!=null).map(([o,s])=>{var u;return`${o}: ${s instanceof Gn?`$${(u=s.name)!==null&&u!==void 0?u:o}`:JSON.stringify(s)}`});return i.length>0&&(n=`(${i.join(", ")})`),r.subselection?[`${t}${n} {`,...Nn(r.subselection),"}"]:`${t}${n}`}else return[`${t} {`,...Nn(r),"}"]}).filter(t=>!!t).map(t=>"  "+t),Fr=e=>{const t={},r=n=>{let i=1;if(t[n]){for(;t[`${n}${i}`];)i++;return`${n}${i}`}return n};return Object.entries(e).forEach(([n,i])=>{i instanceof Vn?(Object.entries(i.args).forEach(([o,s])=>{var u;s instanceof Gn&&(t[(u=s.name)!==null&&u!==void 0?u:r(o)]=s)}),i.subselection&&Object.assign(t,Fr(i.subselection))):typeof i=="object"&&i!==null&&Object.assign(t,Fr(i))}),t},bo=e=>{const t=Fr(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([n,i])=>`$${n}: ${i.type}`).join(", ")})`};class Vn{constructor(t,r){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Gn{constructor(t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:n})}present(){return this.value!=null}}const me=(e,t)=>new Vn(e,t),G=e=>new Gn(e.type+(e.required?"!":""),e.name,e.value),go=e=>{var t;const r=bo(e),n=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${r}${n} {
${Nn(e.fields).join(`
`)}
}`},ke=e=>{const t=Fr(e.fields);return{query:go(e),variables:Object.entries(t??{}).reduce((r,[n,i])=>(typeof i.value<"u"&&(r[n]=i.value),r),{})}},vo={DateTime(e){return new Date(e)}};class So{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(r=>this.hydrateObject(r)):this.hydrateObject(t)}hydrateObject(t){const r={...t};for(const[n,i]of Object.entries(this.plan)){const o=r[n];o!=null&&(r[n]=vo[i](o))}return r}}function Se(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=Se(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:Se(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=Se(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=Se(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(Se(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(Se(o),Se(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(Se(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}var ye;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(ye||(ye={}));class wo{constructor(t){Object.defineProperty(this,"__gadget",{enumerable:!0,configurable:!0,writable:!0,value:{fields:{},instantiatedFields:{},persistedFields:{},fieldKeys:[],fieldKeysTracker:{},touched:!1}}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.__gadget.instantiatedFields=Se(t),this.__gadget.persistedFields=Se(t),Object.assign(this.__gadget.fields,t),!t||Object.keys(t).length===0?this.empty=!0:(this.__gadget.fieldKeys=Object.keys(this.__gadget.fields),this.__gadget.fieldKeys.forEach(n=>this.__gadget.fieldKeysTracker[n]=!0));const r={get:(n,i)=>{if(i in this)return this[i];if(i in n)return n[i]},set:(n,i,o)=>(this.trackKey(i),n[i.toString()]=o,!0)};return new Proxy(this.__gadget.fields,r)}trackKey(t){const r=t.toString();this.__gadget.fieldKeysTracker[r]||(this.__gadget.fieldKeysTracker[r]=!0,this.__gadget.fieldKeys.push(r))}hasChanges(t=ye.SinceLoaded){if(this.__gadget.touched)return!0;const r=t==ye.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;return this.__gadget.fieldKeys.some(n=>!kr(r[n],this.__gadget.fields[n]))}isEmpty(){return this.empty}getField(t){return this.__gadget.fields[t]}setField(t,r){return this.trackKey(t),this.__gadget.fields[t]=r}changes(t,r=ye.SinceLoaded){const i=(typeof t=="string"?r:t||r)==ye.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;if(t&&typeof t=="string"){const o=i[t],s=this.__gadget.fields[t],u=!kr(s,o);return u?{changed:u,current:s,previous:o}:{changed:u}}else{const o={};for(let s=0;s<this.__gadget.fieldKeys.length;s++){const u=this.__gadget.fieldKeys[s];kr(i[u],this.__gadget.fields[u])||(o[u]={current:this.__gadget.fields[u],previous:i[u]})}return o}}toChangedJSON(t=ye.SinceLoaded){const r=t==ye.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields,n={};for(let i=0;i<this.__gadget.fieldKeys.length;i++){const o=this.__gadget.fieldKeys[i];kr(r[o],this.__gadget.fields[o])||(n[o]=this.__gadget.fields[o])}return n}changed(t,r=ye.SinceLoaded){return t&&typeof t=="string"?this.changes(t,r).changed:this.hasChanges(t===void 0?r:t)}flushChanges(t=ye.SinceLoaded){t==ye.SinceLoaded?this.__gadget.instantiatedFields=Se(this.__gadget.fields):t==ye.SinceLastPersisted&&(this.__gadget.persistedFields=Se(this.__gadget.fields)),this.__gadget.touched=!1}revertChanges(t=ye.SinceLoaded){let r;t==ye.SinceLoaded?r=Object.keys(this.__gadget.instantiatedFields):r=Object.keys(this.__gadget.persistedFields);for(const n of this.__gadget.fieldKeys)r.includes(n)||delete this.__gadget.fields[n];t==ye.SinceLoaded?Object.assign(this.__gadget.fields,Se(this.__gadget.instantiatedFields)):Object.assign(this.__gadget.fields,Se(this.__gadget.persistedFields)),this.__gadget.touched=!1}toJSON(){return Cn({...this.__gadget.fields})}touch(){this.__gadget.touched=!0}}const Xi=wo;class Zi extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Pn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class qr extends Error{constructor(t,r){super(t.startsWith("GGT_")?t:`${r}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Si extends Error{constructor(t){let r;Tn(t)?r=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:r="GraphQL websocket closed unexpectedly by the server",super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class Io extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class ko extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Oo extends Error{constructor(t,r,n,i){const o=r.slice(0,3),s=r.length>3?`, and ${r.length-3} more error${r.length>4?"s":""} need${r.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${n??"Record"} is invalid and can't be saved. ${o.map(({apiIdentifier:u,message:l})=>`${u} ${l}`).join(", ")}${s}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=r,this.modelApiIdentifier=n,this.record=i}}class ea extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Ln extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Ao extends Error{constructor(t,r){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var r;return(r=t.code)!==null&&r!==void 0?r:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var r;return(r=t.statusCode)!==null&&r!==void 0?r:500}))}}function _n(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const Vt=(e,t)=>{const r=t.length;let n=0;for(;e!=null&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0},Tn=e=>(e==null?void 0:e.type)=="close",Le=(e,t)=>typeof e!="string"?"":wr(e,t),wi=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},wr=(e,t=!0)=>{let r=""+e;return t?r=r.replace(/^[a-z\d]*/,n=>wi(n)):r=r.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),n=>n.toLowerCase()),r=r.replace(/(?:_|(\/))([a-z\d]*)/gi,(n,i,o,s,u)=>(i||(i=""),""+i+wi(o))),r},Wn=(e,t)=>[...Array.isArray(t)?t:t?[t]:[],e].map(i=>wr(i)).join(""),ta=(e,t)=>`${Wn(e,t)}Sort`,zn=(e,t)=>`${Wn(e,t)}Filter`,Eo=(e,t,r)=>new ea(`More than one record found for ${e}.${t} = ${r}. Please confirm your unique validation is not reporting an error.`),No=(e,t)=>{if(e.fetching)return;const r=Vt(e.data,t);if(r===void 0)return new Zi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(r===null)return new Ln(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},et=(e,t,r=!1)=>{var n;if(e.error)throw e.error instanceof Sr&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(u=>"[Network] "+u.message).join(`
`)),e.error;const i=Vt(e.data,t),o=Vt(i,["edges"]),s=o??i;if(i===void 0)throw new Zi(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||r&&Array.isArray(s)&&s.length===0)throw new Ln(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},dr=(e,t)=>{var r;if(e.error)throw e.error instanceof Sr&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const n=Vt(e.data,t);return n??null},Kn=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new Oo(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new ea(e.message):new qr(e.message,e.code)},pt=(e,t)=>{const r=et(e,t);return ra(r)},ra=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?Kn(t):new qr("Gadget API operation not successful.","GGT_UNKNOWN")}return e},na=e=>{var t,r,n,i;if(!((r=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||r===void 0)&&r.hydrations)return new So((i=(n=e.data)===null||n===void 0?void 0:n.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},fr=(e,t)=>{const r=na(e);return r&&(t=r.apply(t)),new Xi(t)},Yn=(e,t)=>{const r=na(e);return r&&(t=r.apply(t)),t==null?void 0:t.map(n=>new Xi(n))},br=(e,t)=>{const r=t.edges.map(n=>n.node);return Yn(e,r)},Cn=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t[r]=n===void 0?null:Cn(n)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)==="[object Object]"){const t={};for(const r of Object.keys(e)){const n=Cn(e[r]);n!==void 0&&(t[r]=n)}return t}}}},hn="gstk",Ii=e=>{try{const t=window[e];return t.setItem(hn,hn),t.removeItem(hn),!0}catch{return!1}},ki=Object.prototype.toString,Oi=Object.getPrototypeOf,Ai=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,ur=(e,t,r)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(r.indexOf(e)>-1&&r.indexOf(t)>-1)return!0;const n=ki.call(e),i=ki.call(t);let o,s,u;if(r.push(e,t),n!=i||(o=Ai(e),s=Ai(t),o.length!=s.length||o.some(function(l){return!ur(e[l],t[l],r)})))return!1;switch(n.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{o=e.entries(),s=t.entries();do if(u=o.next(),!ur(u.value,s.next().value,r))return!1;while(!u.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(u=0;u<e.length;u++)if(!(!(u in e)&&!(u in t))&&(u in e!=u in t||!ur(e[u],t[u],r)))return!1;return!0;case"Object":return ur(Oi(e),Oi(t),r);default:return!1}},kr=(e,t)=>ur(e,t,[]),ia=(e,t)=>{var r,n;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(o=>{var s;return o!=="id"&&!(!((s=e.paramOnlyVariables)===null||s===void 0)&&s.includes(o))&&o!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((r=e.acceptsModelInput)!==null&&r!==void 0?r:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[o,s]of Object.entries(t))!((n=e.paramOnlyVariables)===null||n===void 0)&&n.includes(o)?i[o]=s:o=="id"?i.id=s:i[e.modelApiIdentifier][o]=s}else i=t;return i},Po=(e,t={})=>{var r;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((r=Array.isArray(t)?t:t.inputs)!==null&&r!==void 0?r:[]).map(i=>ia(e,i))}},_o=(e,t)=>{const r={};for(const[n,i]of Object.entries(e))r[n]={...i,value:t[n]};return r},ht=(e,t)=>(t&&e.unshift(...Array.isArray(t)?t:[t]),e),ut=(e,t)=>{const r=t?[...Array.isArray(t)?t:[t],e].join("."):e;return{gadgetMeta:{hydrations:me({modelName:r})}}};function Ce(e,t){if(!e)return t;if(Array.isArray(e)||(e=[e]),e)for(let r=e.length-1;r>=0;r--)t={[e[r]]:t};return t}const Rt={errors:{message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}}};class Gt extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,r,n){const i=new Gt;return i.push(...r),i.modelManager=t,i.pagination=n,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new qr("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new Pn("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:r,last:n,before:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,after:this.pagination.pageInfo.endCursor,first:r||n})}async previousPage(){var t;if(!this.hasPreviousPage)throw new Pn("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:r,last:n,after:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,before:this.pagination.pageInfo.startCursor,last:n||r})}}const Jn=(e,t=!1)=>{const r={...e};return t&&(r.__typename=!0),r},Br=e=>{if(e!=null&&e.live)return["@live"]},To=(e,t,r,n,i,o)=>{const s={};typeof t<"u"&&(s.id=G({type:"GadgetID!",value:t}));let u={[e]:me(s,Jn((i==null?void 0:i.select)||r,!0))};return u=Ce(o,u),ke({type:"query",name:e,fields:{...u,...ut(n,o)},directives:Br(i)})},Co=(e,t,r,n,i,o,s)=>Qn(e,n,i,{...o,first:2,filter:{[t]:{equals:r}}},s),Qn=(e,t,r,n,i)=>{let o={[e]:me({after:G({value:n==null?void 0:n.after,type:"String"}),first:G({value:n==null?void 0:n.first,type:"Int"}),before:G({value:n==null?void 0:n.before,type:"String"}),last:G({value:n==null?void 0:n.last,type:"Int"}),sort:n!=null&&n.sort?G({value:n.sort,type:`[${ta(r,i)}!]`}):void 0,filter:n!=null&&n.filter?G({value:n.filter,type:`[${zn(r,i)}!]`}):void 0,search:n!=null&&n.search?G({value:n.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:Jn((n==null?void 0:n.select)||t,!0)}})};return i&&(o=Ce(i,o)),ke({type:"query",name:e,fields:{...o,...ut(r,i)},directives:Br(n)})},Hn=e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,G(r)])),aa=(e,t,r)=>({success:!0,...Rt,[e]:t&&!r?Jn(t,!0):!1,result:!!r}),Ro=(e,t,r,n,i,o,s,u,l)=>{const f=(o==null?void 0:o.select)||t;let d={[e]:me(Hn(i),aa(n,f,l))};d=Ce(s,d);const y={type:"mutation",name:e,fields:{...d,...ut(r,s)},directives:Br(o)};return ke(y)},xo=(e,t,r)=>{let n={},i=t.operationName,o;switch(t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),t.operationReturnType?o=`${t.operationReturnType}Result`:o=`${wr(i)}Result`,t.type){case"action":{const u=(r==null?void 0:r.select)||t.defaultSelection;n={[`... on ${o}`]:aa(t.modelApiIdentifier,u,t.hasReturnType)};break}case"globalAction":n={[`... on ${o}`]:oa()}}const s={type:"subscription",name:Le(i)+"BackgroundResult",fields:{backgroundAction:me({id:G({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...n}})}};return ke(s)},oa=()=>({success:!0,...Rt,result:!0}),Do=(e,t,r,n)=>{let i={[e]:me(Hn(t),oa())};return i=Ce(r,i),ke({type:"mutation",name:e,fields:i,directives:Br(n)})},Fo=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const r of Object.keys(t))["id","retries","queue","priority","startAt"].includes(r)||delete t[r];return t},jo=(e,t,r,n,i)=>{let o={[e]:me({...Hn(t),backgroundOptions:G({type:"EnqueueBackgroundActionOptions",value:Fo(n)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})};return o=Ce(r,o),ke({type:"mutation",name:"enqueue"+wr(e),fields:{background:o}})},Mo=(e,t)=>({[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator]();return{async next(){const{done:n,value:i}=await r.next();return{done:n,value:typeof i<"u"?t(i):void 0}},async return(n){var i;return await((i=r.return)===null||i===void 0?void 0:i.call(r,n))}}}});function Xn(e,t,r){return r!=null&&r.live?Mo(Ra(e),t):Bn(e,ee(i=>!i.stale&&!i.hasNext),vr(1),Mr).then(i=>t(i))}const Ei=(e,t,r,n,i,o,s=!0,u)=>{const l=To(t,r,n,i,o,u),f=e.connection.currentClient.query(l.query,l.variables);return Xn(f,d=>{const y=s?et:dr,h=ht([t],u),m=y(d,h);return fr(d,m)},o)},$o=(e,t,r,n,i,o,s,u=!0,l)=>{const f=Co(t,r,n,i,o,s),d=ht([t],l),y=e.connection.currentClient.query(f.query,f.variables);return Xn(y,h=>{const m=et(h,d),v=br(h,m);if(v.length>1)throw Eo(o,r,n);const E=v[0];if(!E&&u)throw new Ln(`${o} record with ${r}=${n} not found`);return E??null},s)},Ni=(e,t,r,n,i,o,s)=>{const u=Qn(t,r,n,i,s),l=e.connection.currentClient.query(u.query,u.variables),f=ht([t],s);return Xn(l,d=>{let y;o===!1?y=dr(d,f):y=et(d,f,o);const h=br(d,y);return Gt.boot(e,h,{options:i,pageInfo:y.pageInfo})},i)},Pi=async(e,t,r,n,i,o,s,u,l,f)=>{const d=Ro(t,r,n,i,s,u,l,o,f),y=await e.connection.currentClient.mutation(d.query,d.variables).toPromise(),h=ht([t],l);if(o){const m=Vt(y.data,h),v=m[i]&&r?Yn(y,m[i]):void 0;if(m.errors){const E=m.errors.map(j=>Kn(j));throw new Ao(E,v)}return v}else{const m=pt(y,h);return sa(r,y,m,i,f)}},sa=(e,t,r,n,i)=>{if(e!=null)return i?r.result:fr(t,r[n])},_i=async(e,t,r,n)=>{const i=Do(t,r,n),o=await e.currentClient.mutation(i.query,i.variables).toPromise(),s=ht([t],n);return pt(o,s).result};async function qo(e,t,r,n={}){const i=t.isBulk?Po(t,r):ia(t,r),o=_o(t.variables,i),s=jo(t.operationName,o,t.namespace,n,t.isBulk),u=await e.currentClient.mutation(s.query,s.variables,n).toPromise(),l=["background",...ht([t.operationName],t.namespace)];try{const f=pt(u,l);return t.isBulk?f.backgroundActions.map(d=>new Pr(e,t,d.id)):new Pr(e,t,f.backgroundAction.id)}catch(f){if("code"in f&&f.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(n!=null&&n.id)&&n.onDuplicateID=="ignore")return new Pr(e,t,n.id);throw f}}const Bo=async(e,t,r,n)=>{const i=xo(t,r,n),o=e.currentClient.subscription(i.query,i.variables),s=await Bn(o,ee(l=>{var f,d;return l.error||((d=(f=l.data)===null||f===void 0?void 0:f.backgroundAction)===null||d===void 0?void 0:d.outcome)}),vr(1),Mr),u=et(s,["backgroundAction"]);switch(ra(u.result),r.type){case"action":{u.result=sa(r.defaultSelection,s.data,u.result,r.isBulk?r.modelApiIdentifier:r.modelSelectionField,r.hasReturnType);break}case"globalAction":{u.result=u.result.result;break}}return u};class Pr{constructor(t,r,n){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n})}async result(t){return(await Bo(this.connection,this.id,this.action,t)).result}}var pr;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(pr||(pr={}));function ve(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Nt(e){return ve(e)==="object"}function Uo(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function Ti(e,t){return e.length<124?e:t}const Vo="graphql-transport-ws";var he;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(he||(he={}));var X;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(X||(X={}));function ua(e){if(!Nt(e))throw new Error(`Message is expected to be an object, but got ${ve(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${ve(e.type)}`);switch(e.type){case X.ConnectionInit:case X.ConnectionAck:case X.Ping:case X.Pong:{if(e.payload!=null&&!Nt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case X.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${ve(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Nt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${ve(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${ve(e.payload.query)}`);if(e.payload.variables!=null&&!Nt(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${ve(e.payload.variables)}`);if(e.payload.operationName!=null&&ve(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${ve(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Nt(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${ve(e.payload.extensions)}`);break}case X.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${ve(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Nt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${ve(e.payload)}`);break}case X.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${ve(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Uo(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case X.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${ve(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Go(e,t){return ua(typeof e=="string"?JSON.parse(e,t):e)}function or(e,t){return ua(e),JSON.stringify(e,t)}function Lo(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:s=0,disablePong:u,connectionAckWaitTimeout:l=0,retryAttempts:f=5,retryWait:d=async function(M){let $=1e3;for(let D=0;D<M;D++)$*=2;await new Promise(D=>setTimeout(D,$+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:y=Or,isFatalConnectionProblem:h,on:m,webSocketImpl:v,generateID:E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,M=>{const $=Math.random()*16|0;return(M=="x"?$:$&3|8).toString(16)})},jsonMessageReplacer:j,jsonMessageReviver:R}=e;let I;if(v){if(!zo(v))throw new Error("Invalid WebSocket implementation provided");I=v}else typeof WebSocket<"u"?I=WebSocket:typeof global<"u"?I=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(I=window.WebSocket||window.MozWebSocket);if(!I)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const U=I,b=(()=>{const N=(()=>{const $={};return{on(D,L){return $[D]=L,()=>{delete $[D]}},emit(D){var L;"id"in D&&((L=$[D.id])===null||L===void 0||L.call($,D))}}})(),M={connecting:m!=null&&m.connecting?[m.connecting]:[],opened:m!=null&&m.opened?[m.opened]:[],connected:m!=null&&m.connected?[m.connected]:[],ping:m!=null&&m.ping?[m.ping]:[],pong:m!=null&&m.pong?[m.pong]:[],message:m!=null&&m.message?[N.emit,m.message]:[N.emit],closed:m!=null&&m.closed?[m.closed]:[],error:m!=null&&m.error?[m.error]:[]};return{onMessage:N.on,on($,D){const L=M[$];return L.push(D),()=>{L.splice(L.indexOf(D),1)}},emit($,...D){for(const L of[...M[$]])L(...D)}}})();function P(N){const M=[b.on("error",$=>{M.forEach(D=>D()),N($)}),b.on("closed",$=>{M.forEach(D=>D()),N($)})]}let S,V=0,Oe,Re=!1,Me=0,re=!1;async function Z(){clearTimeout(Oe);const[N,M]=await(S??(S=new Promise((L,Ae)=>(async()=>{if(Re){if(await d(Me),!V)return S=void 0,Ae({code:1e3,reason:"All Subscriptions Gone"});Me++}b.emit("connecting");const q=new U(typeof t=="function"?await t():t,Vo);let xe,$e;function ze(){isFinite(s)&&s>0&&(clearTimeout($e),$e=setTimeout(()=>{q.readyState===U.OPEN&&(q.send(or({type:X.Ping})),b.emit("ping",!1,void 0))},s))}P(Q=>{S=void 0,clearTimeout(xe),clearTimeout($e),Ae(Q),Or(Q)&&Q.code===4499&&(q.close(4499,"Terminated"),q.onerror=null,q.onclose=null)}),q.onerror=Q=>b.emit("error",Q),q.onclose=Q=>b.emit("closed",Q),q.onopen=async()=>{try{b.emit("opened",q);const Q=typeof r=="function"?await r():r;if(q.readyState!==U.OPEN)return;q.send(or(Q?{type:X.ConnectionInit,payload:Q}:{type:X.ConnectionInit},j)),isFinite(l)&&l>0&&(xe=setTimeout(()=>{q.close(he.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),ze()}catch(Q){b.emit("error",Q),q.close(he.InternalClientError,Ti(Q instanceof Error?Q.message:new Error(Q).message,"Internal client error"))}};let Ke=!1;q.onmessage=({data:Q})=>{try{const z=Go(Q,R);if(b.emit("message",z),z.type==="ping"||z.type==="pong"){b.emit(z.type,!0,z.payload),z.type==="pong"?ze():u||(q.send(or(z.payload?{type:X.Pong,payload:z.payload}:{type:X.Pong})),b.emit("pong",!1,z.payload));return}if(Ke)return;if(z.type!==X.ConnectionAck)throw new Error(`First message cannot be of type ${z.type}`);clearTimeout(xe),Ke=!0,b.emit("connected",q,z.payload),Re=!1,Me=0,L([q,new Promise((lt,qe)=>P(qe))])}catch(z){q.onmessage=null,b.emit("error",z),q.close(he.BadResponse,Ti(z instanceof Error?z.message:new Error(z).message,"Bad response"))}}})())));N.readyState===U.CLOSING&&await M;let $=()=>{};const D=new Promise(L=>$=L);return[N,$,Promise.race([D.then(()=>{if(!V){const L=()=>N.close(1e3,"Normal Closure");isFinite(o)&&o>0?Oe=setTimeout(()=>{N.readyState===U.OPEN&&L()},o):L()}}),M])]}function W(N){if(Or(N)&&(Wo(N.code)||[he.InternalServerError,he.InternalClientError,he.BadRequest,he.BadResponse,he.Unauthorized,he.SubprotocolNotAcceptable,he.SubscriberAlreadyExists,he.TooManyInitialisationRequests].includes(N.code)))throw N;if(re)return!1;if(Or(N)&&N.code===1e3)return V>0;if(!f||Me>=f||!y(N)||h!=null&&h(N))throw N;return Re=!0}return n||(async()=>{for(V++;;)try{const[,,N]=await Z();await N}catch(N){try{if(!W(N))return}catch(M){return i==null?void 0:i(M)}}})(),{on:b.on,subscribe(N,M){const $=E(N);let D=!1,L=!1,Ae=()=>{V--,D=!0};return(async()=>{for(V++;;)try{const[q,xe,$e]=await Z();if(D)return xe();const ze=b.onMessage($,Ke=>{switch(Ke.type){case X.Next:{M.next(Ke.payload);return}case X.Error:{L=!0,D=!0,M.error(Ke.payload),Ae();return}case X.Complete:{D=!0,Ae();return}}});q.send(or({id:$,type:X.Subscribe,payload:N},j)),Ae=()=>{!D&&q.readyState===U.OPEN&&q.send(or({id:$,type:X.Complete},j)),V--,D=!0,xe()},await $e.finally(ze);return}catch(q){if(!W(q))return}})().then(()=>{L||M.complete()}).catch(q=>{M.error(q)}),()=>{D||Ae()}},async dispose(){if(re=!0,S){const[N]=await S;N.close(1e3,"Normal Closure")}},terminate(){S&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Or(e){return Nt(e)&&"code"in e&&"reason"in e}function Wo(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function zo(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var Ft=null;typeof WebSocket<"u"?Ft=WebSocket:typeof MozWebSocket<"u"?Ft=MozWebSocket:typeof global<"u"?Ft=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ft=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ft=self.WebSocket||self.MozWebSocket);const Ko=Ft;class la extends Error{}class Yo{constructor(t,r){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw et(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new la("Transaction rolled back.")}async start(){et(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){et(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class Jo{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,r){this.values[t]=r}}const Qo=e=>{const t=[...e.definitions].reverse().find(r=>r.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(n=>n.kind=="Field").name.value},Ci=Hi({onOperation:e=>{var t,r;(t=(r=e.context).operationName)!==null&&t!==void 0||(r.operationName=Qo(e.query)||"unknown")}}),Ho=Hi({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,r]=e.context.url.split("?"),n=new URLSearchParams(r);n.set("operation",e.context.operationName),e.context.url=`${t}?${n.toString()}`}catch{}}});var Rn;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})(Rn||(Rn={}));const Xo=2,Zo=4800,es=1e4,ts=[he.ConnectionAcknowledgementTimeout,he.ConnectionInitialisationTimeout],Ri=Symbol.for("gadget/connection"),rs="token",ns=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var ie;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(ie||(ie={}));const Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class ca{constructor(t){var r,n,i,o,s;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:ie.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l)=>{let f,d;if(l?(f=l,d=u):(f=u,d={}),this.currentTransaction)return await f(this.currentTransaction);let y=null,h;try{y=await this.waitForOpenedConnection({isFatalConnectionProblem(E){return console.warn("Transport error encountered during transaction processing",E),!0},connectionAckWaitTimeout:Zo,...d,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const m=new vi({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,Ci,...this.exchanges.beforeAsync,yn({forwardSubscription(E){const j={...E,query:E.query||""};return{subscribe:R=>({unsubscribe:y.subscribe(j,R)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});m[Ri]=this,h=new Yo(m,y),this.currentTransaction=h,await h.start();const v=await f(h);return await h.commit(),v}catch(m){try{h!=null&&h.open&&await h.rollback()}catch(v){v instanceof la||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",v)}throw Tn(m)?new Si(m):m}finally{await(y==null?void 0:y.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l={})=>{var f;u=is(u,(f=this.options.baseRouteURL)!==null&&f!==void 0?f:this.options.endpoint),this.isGadgetRequest(u)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==ie.Custom&&await this.options.authenticationMode.custom.processFetch(u,l));const d=await this._fetchImplementation(u,l);if(this.authenticationMode==ie.BrowserSession){const y=d.headers.get("x-set-authorization"),h=y!=null&&y.startsWith("Session ")?y.replace("Session ",""):null;h&&this.sessionTokenStore.setItem(this.sessionStorageKey,h)}return d}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof Ar<"u"&&Ar.fetch?this._fetchImplementation=Ar.fetch.bind(Ar):this._fetchImplementation=async(...u)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-fa6b1126.cjs")).then(f=>f.browserPonyfill);return l.default&&(l=l.default),await l(...u)},this.websocketImplementation=(n=(r=t.websocketImplementation)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.WebSocket)!==null&&n!==void 0?n:Ko,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(o=t.environment)!==null&&o!==void 0?o:"Development",this.requestPolicy=(s=t.requestPolicy)!==null&&s!==void 0?s:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${rs}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var r;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=ie.InternalAuthToken:t.apiKey?this.authenticationMode=ie.APIKey:t.custom&&(this.authenticationMode=ie.Custom),this.options.authenticationMode=t),(r=this.authenticationMode)!==null&&r!==void 0||(this.authenticationMode=ie.Anonymous)}enableSessionMode(t){this.authenticationMode=ie.BrowserSession;const r=!t||typeof t=="boolean"?pr.Durable:t.storageType;let n;r==pr.Durable&&Ii("localStorage")?n=window.localStorage:r==pr.Session&&Ii("sessionStorage")?n=window.sessionStorage:n=new Jo,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&n.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=n,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let r;if(typeof t=="string"?r=t:typeof t=="object"&&"url"in t?r=t.url:r=String(t),xn(this.options.endpoint))return!!xn(r);const n=new URL(this.options.endpoint).host;return r.includes(n)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,Ci,Ho];typeof window<"u"&&t.push(po),t.push(...this.exchanges.beforeAsync,yn({forwardSubscription:n=>({subscribe:i=>{const o={...n,query:n.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(o,i)}}})}),yn({isSubscriptionOperation:n=>n.query.definitions.some(i=>os(i)),forwardSubscription:n=>({subscribe:i=>{let o;const s=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:u,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:f})=>{const d={...n,query:n.query||""};return o=u(l(f(y=>this.getBaseSubscriptionClient().subscribe(d,y))),i),o}).catch(u=>i.error(u));return{unsubscribe:()=>{o?o():s.then(u=>{u&&u()})}}}})}),yo,...this.exchanges.afterAll);const r=new vi({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return r[Ri]=this,r}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let r=this.websocketsEndpoint;if(t!=null&&t.urlParams){const n=new URLSearchParams;for(const[i,o]of Object.entries(t.urlParams))o&&n.set(i,o);r+="?"+n.toString()}return Lo({url:r,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var n,i;const o={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==ie.APIKey?o.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==ie.InternalAuthToken?o.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==ie.BrowserSession?o.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==ie.Custom&&await((i=(n=this.options.authenticationMode)===null||n===void 0?void 0:n.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(o)),o},onNonLazyError:()=>{},on:{connected:(n,i)=>{var o,s,u,l,f,d;if(this.authenticationMode==ie.BrowserSession&&(i!=null&&i.sessionToken)){const y=(o=this.options.authenticationMode)===null||o===void 0?void 0:o.browserSession;(y!==null&&typeof y=="object"?y.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(u=(s=this.subscriptionClientOptions)===null||s===void 0?void 0:s.on)===null||u===void 0?void 0:u.connected)===null||l===void 0||l.call(u,n,i),(d=(f=t==null?void 0:t.on)===null||f===void 0?void 0:f.connected)===null||d===void 0||d.call(f,n,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const r={};if(this.authenticationMode==ie.InternalAuthToken)r.authorization="Basic "+ns("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==ie.APIKey)r.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==ie.BrowserSession){const n=this.sessionTokenStore.getItem(this.sessionStorageKey);n&&(r.authorization=`Session ${n}`)}return r["x-gadget-environment"]=this.environment,r}async waitForOpenedConnection(t){let r=this.newSubscriptionClient(t),n=[],i=t.connectionAttempts||Xo;const o=t.connectionGlobalTimeoutMs||es,s=()=>{n.forEach(u=>u()),n=[]};return await new Promise((u,l)=>{const f=setTimeout(()=>{this.disposeClient(r),y(new Io("Timeout opening websocket connection to Gadget API"))},o),d=v=>{if(Tn(v)){if(v.code==Rn.TooManyRequests)return s(),y(new ko(v.reason));if(ts.includes(v.code)&&i>0){i-=1,this.disposeClient(r),r=this.newSubscriptionClient(t),m();return}}clearTimeout(f),l(new Si(v))},y=v=>{clearTimeout(f),l(v)},h=()=>{clearTimeout(f),u(r)},m=()=>{s(),n.push(r.on("connected",h)),n.push(r.on("closed",d)),n.push(r.on("error",y))};m()}).finally(s)}disposeClient(t){const r=t.dispose();r&&r.catch(n=>console.error(`Error closing SubscriptionClient: ${n.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(ca,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.24"});function is(e,t){if(typeof e!="string")return e;if(xn(e))try{return String(new URL(e,t))}catch{return e}return e}function xn(e){return e.startsWith("/")&&!e.startsWith("//")}const as=e=>{var t;return e.kind!=="OperationDefinition"||e.operation!=="query"?null:(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live")},os=e=>!!as(e),ss=(e,t,r,n)=>{const i=Le(e);return ke({type:"query",name:`InternalFind${i}`,fields:{internal:Ce(r,{[e]:me({id:G({value:t,type:"GadgetID!"}),select:G({value:ei(n),type:"[String!]"})})}),...ut(e,r)}})},da=(e,t,r)=>({search:r!=null&&r.search?G({value:r==null?void 0:r.search,type:"String"}):void 0,sort:r!=null&&r.sort?G({value:r==null?void 0:r.sort,type:`[${ta(e,t)}!]`}):void 0,filter:r!=null&&r.filter?G({value:r==null?void 0:r.filter,type:`[${zn(e,t)}!]`}):void 0,select:r!=null&&r.select?G({value:ei(r==null?void 0:r.select),type:"[String!]"}):void 0}),us=(e,t,r)=>{const n=Le(e),i=da(n,t,r);return ke({type:"query",name:`InternalFindFirst${n}`,fields:{internal:Ce(t,{[`list${n}`]:me({...i,first:G({value:1,type:"Int"})},{edges:{node:!0}})}),...ut(e,t)}})},ls=(e,t,r)=>{const n=Le(e),i=da(n,t,r);return ke({type:"query",name:`InternalFindMany${n}`,fields:{internal:Ce(t,{[`list${n}`]:me({...i,after:G({value:r==null?void 0:r.after,type:"String"}),before:G({value:r==null?void 0:r.before,type:"String"}),first:G({value:r==null?void 0:r.first,type:"Int"}),last:G({value:r==null?void 0:r.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}),...ut(e,t)}})},Zn=(e,t)=>`Internal${Wn(e,t)}Input`,cs=(e,t,r)=>{const n=Le(e);return ke({type:"mutation",name:`InternalCreate${n}`,fields:{internal:Ce(t,{[`create${n}`]:me({[e]:G({value:r,type:Zn(e,t)})},{success:!0,...Rt,[e]:!0})}),...ut(e,t)}})},ds=(e,t,r,n)=>{Le(e);const i=Le(t);return ke({type:"mutation",name:`InternalBulkCreate${i}`,fields:{internal:Ce(r,{[`bulkCreate${i}`]:me({[t]:G({value:n,type:`[${Zn(e,r)}]!`})},{success:!0,...Rt,[t]:!0})}),...ut(e,r)}})},fs=(e,t,r,n)=>{const i=Le(e);return ke({type:"mutation",name:`InternalUpdate${i}`,fields:{internal:Ce(t,{[`update${i}`]:me({id:G({value:r,type:"GadgetID!"}),[e]:G({value:n,type:Zn(e,t)})},{success:!0,...Rt,[e]:!0})}),...ut(e,t)}})},ps=(e,t,r)=>{const n=Le(e);return ke({type:"mutation",name:`InternalDelete${n}`,fields:{internal:Ce(t,{[`delete${n}`]:me({id:G({value:r,type:"GadgetID!"})},{success:!0,...Rt})})}})},ys=(e,t,r)=>{const n=Le(e);return ke({type:"mutation",name:`InternalDeleteMany${n}`,fields:{internal:Ce(t,{[`deleteMany${n}`]:me({search:G({value:r==null?void 0:r.search,type:"String"}),filter:G({value:r==null?void 0:r.filter,type:`[${zn(e,t)}!]`})},{success:!0,...Rt})})}})};class Ue{constructor(t,r,n){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=wr(t),this.namespace=(n==null?void 0:n.namespace)||[]}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(n=>n===this.apiIdentifier)}getRecordFromData(t,r){let n=t;if(!this.validateRecord(t))throw new qr(`Invalid arguments found in variables. Did you mean to use ${r}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(n=n[this.apiIdentifier]),n}async findOne(t,r,n=!0){const i=ss(this.apiIdentifier,t,this.namespace,ei(r==null?void 0:r.select)),o=await this.connection.currentClient.query(i.query,i.variables).toPromise(),u=(n?et:dr)(o,this.dataPath(this.apiIdentifier));return fr(o,u)}async maybeFindOne(t,r){const n=await this.findOne(t,r,!1);return n.isEmpty()?null:n}async findMany(t){const r=ls(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.query(r.query,r.variables).toPromise(),i=dr(n,this.dataPath(`list${this.capitalizedApiIdentifier}`)),o=br(n,i);return Gt.boot(this,o,{options:t,pageInfo:i.pageInfo})}async findFirst(t,r=!0){const n=us(this.apiIdentifier,this.namespace,t),i=await this.connection.currentClient.query(n.query,n.variables).toPromise(),o=this.dataPath(`list${this.capitalizedApiIdentifier}`);let s;r===!1?s=dr(i,o):s=et(i,o,r);const u=br(i,s);return Gt.boot(this,u,{options:t,pageInfo:s.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const r=cs(this.apiIdentifier,this.namespace,this.getRecordFromData(t,"create")),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise(),i=pt(n,this.dataPath(`create${this.capitalizedApiIdentifier}`));return fr(n,i[this.apiIdentifier])}async bulkCreate(t){var r;if(!(!((r=this.options)===null||r===void 0)&&r.pluralApiIdentifier))throw new Pn("Cannot perform bulkCreate without a pluralApiIdentifier");const n=Le(this.options.pluralApiIdentifier),i=ds(this.apiIdentifier,this.options.pluralApiIdentifier,this.namespace,t),o=await this.connection.currentClient.mutation(i.query,i.variables).toPromise(),s=pt(o,this.dataPath(`bulkCreate${n}`));return Yn(o,s[this.options.pluralApiIdentifier])}async update(t,r){_n(t,"Can't update a record without an ID passed");const n=fs(this.apiIdentifier,this.namespace,t,this.getRecordFromData(r,"update")),i=await this.connection.currentClient.mutation(n.query,n.variables).toPromise(),o=pt(i,this.dataPath(`update${this.capitalizedApiIdentifier}`));return fr(i,o[this.apiIdentifier])}async delete(t){_n(t,"Can't delete a record without an ID");const r=ps(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();pt(n,this.dataPath(`delete${this.capitalizedApiIdentifier}`))}async deleteMany(t){const r=ys(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();pt(n,this.dataPath(`deleteMany${this.capitalizedApiIdentifier}`))}dataPath(t){return["internal",...ht([t],this.namespace)]}}function ei(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[r,n]of Object.entries(e))n&&t.push(r);return t}const je=(e,t,r,n)=>{const i=class{constructor(o){this.connection=o}};for(const o of n)switch(o.type){case"maybeFindOne":case"findOne":{"functionName"in o?i.prototype[o.functionName]=Object.assign(async function(s,u){return await $o(this,o.operationName,o.findByField,s,r,e,u)},o):i.prototype[o.type]=Object.assign(async function(s,u){const l=await Ei(this,e,s,r,e,u,o.type!="maybeFindOne");return l.isEmpty()?null:l},o);break}case"findMany":{i.prototype.findMany=Object.assign(async function(s){return await Ni(this,t,r,e,s)},o);break}case"maybeFindFirst":case"findFirst":{i.prototype[o.type]=Object.assign(async function(s){const u=await Ni(this,t,r,e,{...s,first:1,last:void 0,before:void 0,after:void 0},o.type!="maybeFindFirst");return(u==null?void 0:u[0])??null},o);break}case"get":{i.prototype.get=Object.assign(async function(s){return await Ei(this,o.operationName,void 0,r,e,s)},o);break}case"action":{if(o.isBulk){const s=!!o.variables.ids;i.prototype[o.functionName]=Object.assign(async function(u,l){let f;return s?f={ids:{...o.variables.ids,value:u}}:f={inputs:{...o.variables.inputs,value:u.map(d=>fa(this[o.singleActionFunctionName],void 0,d))}},await Pi(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!0,f,l,o.namespace,o.hasReturnType)},o)}else{const s=!!o.variables.id,u=Object.keys(o.variables).filter(l=>l!="id").length>0;i.prototype[o.functionName]=Object.assign(async function(...l){const[f,d]=hs(o,s,u,l);return await Pi(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!1,f,d,o.namespace,o.hasReturnType)},o)}break}}return i};function fa(e,t,r={}){var o;if(e.hasAmbiguousIdentifier&&Object.keys(r).some(s=>{var u;return!((u=e.paramOnlyVariables)!=null&&u.includes(s))&&s!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let n;const i=Object.entries(e.variables).find(([s,u])=>s==="id"&&u.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in r&&typeof r[e.modelApiIdentifier]=="object"&&r[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])n=r;else{n={[e.modelApiIdentifier]:{}};for(const[s,u]of Object.entries(r))(o=e.paramOnlyVariables)!=null&&o.includes(s)?n[s]=u:i&&s===i[0]?n.id=u:n[e.modelApiIdentifier][s]=u}else n=r;return n.id??(n.id=t),n}function hs(e,t,r,n){let i,o;t&&(i=n.shift()),r&&(o=n.shift());const s=n.shift();let u=o;(i||o)&&(u=fa(e,i,o));const l={};for(const[f,d]of Object.entries(e.variables))l[f]={value:f=="id"?i:u==null?void 0:u[f],...d};return[l,s]}const Pe={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},H="user",ot="users",ms=je(H,ot,Pe,[{type:"findOne",operationName:H,modelApiIdentifier:H,findByVariableName:"id",defaultSelection:Pe},{type:"maybeFindOne",operationName:H,modelApiIdentifier:H,findByVariableName:"id",defaultSelection:Pe},{type:"findMany",operationName:ot,modelApiIdentifier:H,defaultSelection:Pe},{type:"findFirst",operationName:ot,modelApiIdentifier:H,defaultSelection:Pe},{type:"maybeFindFirst",operationName:ot,modelApiIdentifier:H,defaultSelection:Pe},{type:"findOne",operationName:ot,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:H,defaultSelection:Pe},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:H,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:Pe},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:H,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:Pe},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:H,modelSelectionField:ot,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:H,modelSelectionField:H,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:H,modelSelectionField:ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:Pe}]),Ye={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},be="session",xt="sessions",bs=je(be,xt,Ye,[{type:"findOne",operationName:be,modelApiIdentifier:be,findByVariableName:"id",defaultSelection:Ye},{type:"maybeFindOne",operationName:be,modelApiIdentifier:be,findByVariableName:"id",defaultSelection:Ye},{type:"findMany",operationName:xt,modelApiIdentifier:be,defaultSelection:Ye},{type:"findFirst",operationName:xt,modelApiIdentifier:be,defaultSelection:Ye},{type:"maybeFindFirst",operationName:xt,modelApiIdentifier:be,defaultSelection:Ye},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:be,modelSelectionField:be,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Ye},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:be,modelSelectionField:xt,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:Ye},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:be,modelSelectionField:be,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Ye},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:be,modelSelectionField:xt,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:Ye}]),Je={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},ue="shopifyProduct",It="shopifyProducts",gs=je(ue,It,Je,[{type:"findOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:Je},{type:"maybeFindOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:Je},{type:"findMany",operationName:It,modelApiIdentifier:ue,defaultSelection:Je},{type:"findFirst",operationName:It,modelApiIdentifier:ue,defaultSelection:Je},{type:"maybeFindFirst",operationName:It,modelApiIdentifier:ue,defaultSelection:Je},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Je},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ue,modelSelectionField:It,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:Je},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Je},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ue,modelSelectionField:It,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:Je},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ue,modelSelectionField:It,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Qe={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},le="shopifyProductImage",kt="shopifyProductImages",vs=je(le,kt,Qe,[{type:"findOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Qe},{type:"maybeFindOne",operationName:le,modelApiIdentifier:le,findByVariableName:"id",defaultSelection:Qe},{type:"findMany",operationName:kt,modelApiIdentifier:le,defaultSelection:Qe},{type:"findFirst",operationName:kt,modelApiIdentifier:le,defaultSelection:Qe},{type:"maybeFindFirst",operationName:kt,modelApiIdentifier:le,defaultSelection:Qe},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:le,modelSelectionField:kt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:Qe},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:le,modelSelectionField:kt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:Qe},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:le,modelSelectionField:le,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:le,modelSelectionField:kt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),He={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},ce="shopifyProductOption",Ot="shopifyProductOptions",Ss=je(ce,Ot,He,[{type:"findOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"maybeFindOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"findMany",operationName:Ot,modelApiIdentifier:ce,defaultSelection:He},{type:"findFirst",operationName:Ot,modelApiIdentifier:ce,defaultSelection:He},{type:"maybeFindFirst",operationName:Ot,modelApiIdentifier:ce,defaultSelection:He},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ce,modelSelectionField:Ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:He},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ce,modelSelectionField:Ot,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:He},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ce,modelSelectionField:Ot,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Xe={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},de="shopifyProductVariant",At="shopifyProductVariants",ws=je(de,At,Xe,[{type:"findOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"maybeFindOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"findMany",operationName:At,modelApiIdentifier:de,defaultSelection:Xe},{type:"findFirst",operationName:At,modelApiIdentifier:de,defaultSelection:Xe},{type:"maybeFindFirst",operationName:At,modelApiIdentifier:de,defaultSelection:Xe},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:de,modelSelectionField:At,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:Xe},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:de,modelSelectionField:At,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:Xe},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:de,modelSelectionField:At,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),ge={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},J="shopifyShop",st="shopifyShops",Is=je(J,st,ge,[{type:"findOne",operationName:J,modelApiIdentifier:J,findByVariableName:"id",defaultSelection:ge},{type:"maybeFindOne",operationName:J,modelApiIdentifier:J,findByVariableName:"id",defaultSelection:ge},{type:"findMany",operationName:st,modelApiIdentifier:J,defaultSelection:ge},{type:"findFirst",operationName:st,modelApiIdentifier:J,defaultSelection:ge},{type:"maybeFindFirst",operationName:st,modelApiIdentifier:J,defaultSelection:ge},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:J,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:ge},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:J,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:ge},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:J,modelSelectionField:st,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:J,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:ge},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:J,modelSelectionField:J,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:ge},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:J,modelSelectionField:st,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:ge}]),Ze={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},fe="productPairing",Et="productPairings",ks=je(fe,Et,Ze,[{type:"findOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"maybeFindOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"findMany",operationName:Et,modelApiIdentifier:fe,defaultSelection:Ze},{type:"findFirst",operationName:Et,modelApiIdentifier:fe,defaultSelection:Ze},{type:"maybeFindFirst",operationName:Et,modelApiIdentifier:fe,defaultSelection:Ze},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:fe,modelSelectionField:Et,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:fe,modelSelectionField:Et,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:fe,modelSelectionField:Et,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),_e={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},ae="shopifySync",ct="shopifySyncs",Os=je(ae,ct,_e,[{type:"findOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:_e},{type:"maybeFindOne",operationName:ae,modelApiIdentifier:ae,findByVariableName:"id",defaultSelection:_e},{type:"findMany",operationName:ct,modelApiIdentifier:ae,defaultSelection:_e},{type:"findFirst",operationName:ct,modelApiIdentifier:ae,defaultSelection:_e},{type:"maybeFindFirst",operationName:ct,modelApiIdentifier:ae,defaultSelection:_e},{type:"findOne",operationName:ct,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ae,defaultSelection:_e},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:ae,modelSelectionField:ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:_e},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:ae,modelSelectionField:ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:_e},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:ae,modelSelectionField:ae,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:ae,modelSelectionField:ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:_e}]),Ve={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},oe="ambiguous",dt="ambiguouss",As=je(oe,dt,Ve,[{type:"findOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:Ve},{type:"maybeFindOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:Ve},{type:"findMany",operationName:dt,modelApiIdentifier:oe,defaultSelection:Ve},{type:"findFirst",operationName:dt,modelApiIdentifier:oe,defaultSelection:Ve},{type:"maybeFindFirst",operationName:dt,modelApiIdentifier:oe,defaultSelection:Ve},{type:"findOne",operationName:dt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:oe,defaultSelection:Ve},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ve},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:oe,modelSelectionField:dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:Ve},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ve},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:oe,modelSelectionField:dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:Ve},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:oe,modelSelectionField:dt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ge={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},se="unambiguous",ft="unambiguouss",Es=je(se,ft,Ge,[{type:"findOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Ge},{type:"maybeFindOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Ge},{type:"findMany",operationName:ft,modelApiIdentifier:se,defaultSelection:Ge},{type:"findFirst",operationName:ft,modelApiIdentifier:se,defaultSelection:Ge},{type:"maybeFindFirst",operationName:ft,modelApiIdentifier:se,defaultSelection:Ge},{type:"findOne",operationName:ft,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:se,defaultSelection:Ge},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ge},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:se,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:Ge},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ge},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:se,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:Ge},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:se,modelSelectionField:ft,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),xi={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},Di="session",Ns="sessions",Ps=je(Di,Ns,xi,[{type:"get",operationName:"currentSession",defaultSelection:xi,modelApiIdentifier:Di}]);var pa;const Fi="production",_s="development",Ts=Symbol.for("gadget/modelRelationships"),Cs=()=>{try{return process.env.GADGET_ENV}catch{return}};class Rs{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[pa]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async o=>await _i(this.connection,"globalShopifySync",{apiKeys:{value:o.apiKeys,required:!1,type:"[String!]"},syncSince:{value:o.syncSince,required:!1,type:"DateTime"},models:{value:o.models,required:!1,type:"[String!]"},force:{value:o.force,required:!1,type:"Boolean"},startReason:{value:o.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await _i(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async o=>await this.connection.transaction(o),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??Cs()??_s).toLocaleLowerCase();let r;this.apiRoots[this.environment]?r=this.apiRoots[this.environment]:r=`https://related-products-example${this.environment==Fi?"":`--${this.environment}`}.gadget.app`;const n={...t==null?void 0:t.exchanges};if(this.environment!==Fi){const o=({forward:s})=>u=>{const l=s(u);return Bn(l,Mt(f=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const d=new CustomEvent("gadget:devharness:graphqlresult",{detail:f});window.dispatchEvent(d)}}catch(d){console.warn("[gadget] error dispatching gadget dev harness event",d)}return f}))};n.beforeAll=[o,...n.beforeAll??[]]}if(this.connection=new ca({endpoint:new URL("api/graphql",r).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:n,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==ie.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new ms(this.connection),this.session=new bs(this.connection),this.shopifyProduct=new gs(this.connection),this.shopifyProductImage=new vs(this.connection),this.shopifyProductOption=new Ss(this.connection),this.shopifyProductVariant=new ws(this.connection),this.shopifyShop=new Is(this.connection),this.productPairing=new ks(this.connection),this.shopifySync=new Os(this.connection),this.ambiguous=new As(this.connection),this.unambiguous=new Es(this.connection),this.currentSession=new Ps(this.connection),this.internal={user:new Ue("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new Ue("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new Ue("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new Ue("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new Ue("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new Ue("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new Ue("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new Ue("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new Ue("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new Ue("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new Ue("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,r,n){const{data:i,error:o}=await this.connection.currentClient.query(t,r,n).toPromise();if(o)throw o;return i}async mutate(t,r,n){const{data:i,error:o}=await this.connection.currentClient.mutation(t,r,n).toPromise();if(o)throw o;return i}async fetch(t,r={}){return await this.connection.fetch(t,r)}async enqueue(t,r,n){_n(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,o;return typeof n<"u"?(i=r,o=n):!t.variables||Object.keys(t.variables).length==0?(i={},o=r):(typeof r=="string"?i={id:r}:i=r,o={}),await qo(this.connection,t,i,o)}handle(t,r){return new Pr(this.connection,t,r)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}pa=Ts;var ya={},Ur=we.createContext(ya),xs=Ur.Provider;Ur.Consumer;Ur.displayName="UrqlContext";var ha=()=>{var e=we.useContext(Ur);if(e===ya&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},Dn={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},Ds=(e,t)=>e===t||!(!e||!t||e.key!==t.key),mn=(e,t)=>{var r={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((n,i)=>{for(var o in n)if(!(o in i))return!0;for(var s in i)if(s==="operation"?!Ds(n[s],i[s]):n[s]!==i[s])return!0;return!1})(e,r)?r:e},Fs=(e,t)=>{for(var r=0,n=t.length;r<n;r++)if(e[r]!==t[r])return!0;return!1},bn=we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function jr(e,t){process.env.NODE_ENV!=="production"&&bn&&bn.ReactCurrentOwner&&bn.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function js(e){var t=we.useRef(!0),r=ha(),[n,i]=we.useState(Dn),o=we.useCallback((s,u)=>(jr(i,{...Dn,fetching:!0}),Mr(vr(1)(ee(l=>!l.hasNext)(Tt(l=>{t.current&&jr(i,{fetching:!1,stale:l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation})})(r.executeMutation(cr(e,s),u||{})))))),[r,e,i]);return we.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),[n,o]}function Ms(e,t){var r=we.useRef(void 0);return we.useMemo(()=>{var n=cr(e,t);return r.current!==void 0&&r.current.key===n.key?r.current:(r.current=n,n)},[e,t])}var $s=e=>{if(!e._react){var t=new Set,r=new Map;e.operations$&&Ct(n=>{n.kind==="teardown"&&t.has(n.key)&&(t.delete(n.key),r.delete(n.key))})(e.operations$),e._react={get:n=>r.get(n),set(n,i){t.delete(n),r.set(n,i)},dispose(n){t.add(n)}}}return e._react},qs=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function Bs(e){var t=ha(),r=$s(t),n=qs(t,e.context),i=Ms(e.query,e.variables),o=we.useMemo(()=>{if(e.pause)return null;var h=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return n?Tt(m=>{r.set(i.key,m)})(h):h},[r,t,i,n,e.pause,e.requestPolicy,e.context]),s=we.useCallback((h,m)=>{if(!h)return{fetching:!1};var v=r.get(i.key);if(v){if(m&&v!=null&&"then"in v)throw v}else{var E,j=Ct(I=>{v=I,E&&E(v)})(Bi(()=>m&&!E||!v)(h));if(v==null&&m){var R=new Promise(I=>{E=I});throw r.set(i.key,R),R}else j.unsubscribe()}return v||{fetching:!0}},[r,i]),u=[t,i,e.requestPolicy,e.context,e.pause],[l,f]=we.useState(()=>[o,mn(Dn,s(o,n)),u]),d=l[1];o!==l[0]&&Fs(l[2],u)&&f([o,d=mn(l[1],s(o,n)),u]),we.useEffect(()=>{var h=l[0],m=l[2][1],v=!1,E=R=>{v=!0,jr(f,I=>{var U=mn(I[1],R);return I[1]!==U?[I[0],U,I[2]]:I})};if(h){var j=Ct(E)(Mn(()=>{E({fetching:!1})})(h));return v||E({fetching:!0}),()=>{r.dispose(m.key),j.unsubscribe()}}else E({fetching:!1})},[r,l[0],l[2][1]]);var y=we.useCallback(h=>{var m={requestPolicy:e.requestPolicy,...e.context,...h};jr(f,v=>[n?Tt(E=>{r.set(i.key,E)})(t.executeQuery(i,m)):t.executeQuery(i,m),v[1],u])},[t,r,i,n,s,e.requestPolicy,e.context]);return[d,y]}const ti=_.createContext(void 0),Us=_.createContext(void 0),Vs="/",Gs="signOut",Ls="/";function Ws(e){let t,r;if("api"in e){if(!Aa(e.api))throw new Error("Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");t=e.api,r=e.api.connection.currentClient}else if(e.value)r=e.value;else throw new Error("No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");r.suspense=!0;let n=Vs,i=Gs,o=Ls;if("auth"in e){const{auth:s}=e;s!=null&&s.signInPath&&(n=s.signInPath),s!=null&&s.signOutActionApiIdentifier&&(i=s.signOutActionApiIdentifier),s!=null&&s.redirectOnSuccessfulSignInPath&&(o=s.redirectOnSuccessfulSignInPath)}return _.createElement(ti.Provider,{value:r},_.createElement(Us.Provider,{value:{api:t,navigate:e.navigate,auth:{signInPath:n,signOutActionApiIdentifier:i,redirectOnSuccessfulSignInPath:o}}},_.createElement(xs,{value:r},e.children)))}const ma="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",zs=(e,t)=>{let r="";return e!==void 0?r=`[Network] ${e.message}`:t!==void 0?t.forEach(n=>{r+=`[GraphQL] ${n.message}
`}):r="Unknown error",r.trim()},Ks=e=>typeof e=="string"?new mr(e):e!=null&&e.message&&!e.code?new mr(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class Pt extends Error{static forClientSideError(t,r){return new Pt({executionErrors:[t],response:r})}static forErrorsResponse(t,r){return new Pt({executionErrors:t.map(Kn),response:r})}static forMaybeCombinedError(t){if(t)return new Pt({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,r,n=!1){const i=No(t,r);let o=Pt.forMaybeCombinedError(t.error);return!o&&i&&!n&&(o=Pt.forClientSideError(i)),o}constructor({networkError:t,executionErrors:r,response:n}){const i=(r||[]).map(Ks),o=zs(t,i);super(o),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=o,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=n}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(r=>r.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const Ys=e=>{const{context:t,suspense:r,...n}=e??{},i=_.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...n,context:i}},Js=(e,t)=>({query:e.query,variables:e.variables,...t}),Qs=e=>{if(!_.useContext(ti))throw new Error(ma);const t=Ys(e);return Bs(t)};var Hs=typeof Element<"u",Xs=typeof Map=="function",Zs=typeof Set=="function",eu=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function _r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!_r(e[n],t[n]))return!1;return!0}var o;if(Xs&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!_r(n.value[1],t.get(n.value[0])))return!1;return!0}if(Zs&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(eu&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(Hs&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!_r(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var tu=function(t,r){try{return _r(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const ru=qi(tu),nu=e=>{const t=_.useRef();return e?(t.current===void 0||!ru(e,t.current))&&(t.current=e):t.current=void 0,t.current},iu=e=>{if(!_.useContext(ti))throw new Error(ma);return js(e)},au=(e,t)=>{const r=nu(t),n=_.useMemo(()=>Qn(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,r,e.findMany.namespace),[e,r]),[i,o]=Qs(Js(n,t));return[_.useMemo(()=>{const u=ht([e.findMany.operationName],e.findMany.namespace);let l=i.data;if(l){const d=Vt(i.data,u);if(d){const y=br(i,d);l=Gt.boot(e,y,d)}}const f=Pt.errorIfDataAbsent(i,u,t==null?void 0:t.pause);return{...i,data:l,error:f}},[e,t==null?void 0:t.pause,i]),o]};var Fn={exports:{}},sr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji;function ou(){if(ji)return sr;ji=1;var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return sr.Fragment=r,sr.jsx=s,sr.jsxs=s,sr}var Er={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi;function su(){return Mi||(Mi=1,process.env.NODE_ENV!=="production"&&function(){var e=_,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function j(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];U("error",a,p)}}function U(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,V=!1,Oe=!1,Re;Re=Symbol.for("react.module.reference");function Me(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Oe||a===i||a===f||a===d||V||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===Re||a.getModuleId!==void 0))}function re(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function Z(a){return a.displayName||"Context"}function W(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return Z(c)+".Consumer";case s:var p=a;return Z(p._context)+".Provider";case l:return re(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:W(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return W(k(A))}catch{return null}}}return null}var N=Object.assign,M=0,$,D,L,Ae,q,xe,$e;function ze(){}ze.__reactDisabledLog=!0;function Ke(){{if(M===0){$=console.log,D=console.info,L=console.warn,Ae=console.error,q=console.group,xe=console.groupCollapsed,$e=console.groupEnd;var a={configurable:!0,enumerable:!0,value:ze,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}M++}}function Q(){{if(M--,M===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:$}),info:N({},a,{value:D}),warn:N({},a,{value:L}),error:N({},a,{value:Ae}),group:N({},a,{value:q}),groupCollapsed:N({},a,{value:xe}),groupEnd:N({},a,{value:$e})})}M<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var z=R.ReactCurrentDispatcher,lt;function qe(a,c,p){{if(lt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);lt=g&&g[1]||""}return`
`+lt+a}}var mt=!1,rt;{var Vr=typeof WeakMap=="function"?WeakMap:Map;rt=new Vr}function Lt(a,c){if(!a||mt)return"";{var p=rt.get(a);if(p!==void 0)return p}var g;mt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=z.current,z.current=null,Ke();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ne){g=ne}Reflect.construct(a,[],k)}else{try{k.call()}catch(ne){g=ne}a.call(k.prototype)}}else{try{throw Error()}catch(ne){g=ne}a()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),B=g.stack.split(`
`),T=w.length-1,C=B.length-1;T>=1&&C>=0&&w[T]!==B[C];)C--;for(;T>=1&&C>=0;T--,C--)if(w[T]!==B[C]){if(T!==1||C!==1)do if(T--,C--,C<0||w[T]!==B[C]){var K=`
`+w[T].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),typeof a=="function"&&rt.set(a,K),K}while(T>=1&&C>=0);break}}}finally{mt=!1,z.current=A,Q(),Error.prepareStackTrace=O}var Ne=a?a.displayName||a.name:"",nr=Ne?qe(Ne):"";return typeof a=="function"&&rt.set(a,nr),nr}function Gr(a,c,p){return Lt(a,!1)}function Lr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function nt(a,c,p){if(a==null)return"";if(typeof a=="function")return Lt(a,Lr(a));if(typeof a=="string")return qe(a);switch(a){case f:return qe("Suspense");case d:return qe("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Gr(a.render);case y:return nt(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return nt(A(O),c,p)}catch{}}}return""}var it=Object.prototype.hasOwnProperty,Wt={},zt=R.ReactDebugCurrentFrame;function at(a){if(a){var c=a._owner,p=nt(a.type,a._source,c?c.type:null);zt.setExtraStackFrame(p)}else zt.setExtraStackFrame(null)}function Wr(a,c,p,g,O){{var A=Function.call.bind(it);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var B=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(T){w=T}w&&!(w instanceof Error)&&(at(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),at(null)),w instanceof Error&&!(w.message in Wt)&&(Wt[w.message]=!0,at(O),I("Failed %s type: %s",p,w.message),at(null))}}}var zr=Array.isArray;function bt(a){return zr(a)}function Kr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function Yr(a){try{return Kt(a),!1}catch{return!0}}function Kt(a){return""+a}function Yt(a){if(Yr(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Kr(a)),Kt(a)}var Be=R.ReactCurrentOwner,Jr={key:!0,ref:!0,__self:!0,__source:!0},Jt,Qt,gt;gt={};function Qr(a){if(it.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function Hr(a){if(it.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function Xr(a,c){if(typeof a.ref=="string"&&Be.current&&c&&Be.current.stateNode!==c){var p=W(Be.current.type);gt[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(Be.current.type),a.ref),gt[p]=!0)}}function Zr(a,c){{var p=function(){Jt||(Jt=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function en(a,c){{var p=function(){Qt||(Qt=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var tn=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function rn(a,c,p,g,O){{var A,k={},w=null,B=null;p!==void 0&&(Yt(p),w=""+p),Hr(c)&&(Yt(c.key),w=""+c.key),Qr(c)&&(B=c.ref,Xr(c,O));for(A in c)it.call(c,A)&&!Jr.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var T=a.defaultProps;for(A in T)k[A]===void 0&&(k[A]=T[A])}if(w||B){var C=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&Zr(k,C),B&&en(k,C)}return tn(a,w,B,O,g,Be.current,k)}}var vt=R.ReactCurrentOwner,Ht=R.ReactDebugCurrentFrame;function Ee(a){if(a){var c=a._owner,p=nt(a.type,a._source,c?c.type:null);Ht.setExtraStackFrame(p)}else Ht.setExtraStackFrame(null)}var St;St=!1;function wt(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function Xt(){{if(vt.current){var a=W(vt.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function nn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var Zt={};function an(a){{var c=Xt();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function er(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=an(c);if(Zt[p])return;Zt[p]=!0;var g="";a&&a._owner&&a._owner!==vt.current&&(g=" It was passed a child from "+W(a._owner.type)+"."),Ee(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Ee(null)}}function tr(a,c){{if(typeof a!="object")return;if(bt(a))for(var p=0;p<a.length;p++){var g=a[p];wt(g)&&er(g,c)}else if(wt(a))a._store&&(a._store.validated=!0);else if(a){var O=j(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)wt(k.value)&&er(k.value,c)}}}function on(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=W(c);Wr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!St){St=!0;var O=W(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function sn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Ee(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Ee(null);break}}a.ref!==null&&(Ee(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ee(null))}}function rr(a,c,p,g,O,A){{var k=Me(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=nn(O);B?w+=B:w+=Xt();var T;a===null?T="null":bt(a)?T="array":a!==void 0&&a.$$typeof===t?(T="<"+(W(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):T=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",T,w)}var C=rn(a,c,p,O,A);if(C==null)return C;if(k){var K=c.children;if(K!==void 0)if(g)if(bt(K)){for(var Ne=0;Ne<K.length;Ne++)tr(K[Ne],a);Object.freeze&&Object.freeze(K)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else tr(K,a)}return a===n?sn(C):on(C),C}}function un(a,c,p){return rr(a,c,p,!0)}function ln(a,c,p){return rr(a,c,p,!1)}var cn=ln,dn=un;Er.Fragment=n,Er.jsx=cn,Er.jsxs=dn}()),Er}process.env.NODE_ENV==="production"?Fn.exports=ou():Fn.exports=su();var $i=Fn.exports;const uu=_.forwardRef(function({open:e,onShow:t,onHide:r,children:n,...i},o){const[s,u]=_.useState(),{titleBar:l,modalContent:f}=_.Children.toArray(n).reduce((y,h)=>{const m=typeof h=="object"&&"type"in h?h.type:void 0;return m==="ui-title-bar"||typeof m=="object"&&m.displayName==="ui-title-bar"?{...y,titleBar:h}:(y.modalContent.push(h),y)},{modalContent:[]}),d=s?Sa.createPortal(f,s.content):null;return _.useEffect(()=>{s&&(e?s.show():s.hide())},[s,e]),_.useEffect(()=>{if(!(!s||!t))return s.addEventListener("show",t),()=>{s.removeEventListener("show",t)}},[s,t]),_.useEffect(()=>{if(!(!s||!r))return s.addEventListener("hide",r),()=>{s.removeEventListener("hide",r)}},[s,r]),_.useEffect(()=>{if(s)return()=>{s.hide()}},[s]),$i.jsxs("ui-modal",{...i,ref:y=>{u(y),o&&(typeof o=="function"?o(y):o.current=y)},children:[l,$i.jsx("div",{children:d})]})});uu.displayName="ui-modal";const lu=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function cu(){if(typeof window>"u")return lu;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}var yt;(function(e){e[e.Standalone=0]="Standalone",e[e.Embedded=1]="Embedded"})(yt||(yt={}));const du=`
  mutation ShopifyFetchOrInstallShop($shopifySessionToken: String!) {
    shopifyConnection {
      fetchOrInstallShop(shopifySessionToken: $shopifySessionToken) {
        isAuthenticated
        redirectToOauth
        missingScopes
      }
    }
  }
`,fu=_.memo(({children:e,gadgetAppUrl:t,originalQueryParams:r,api:n,type:i,host:o,isReady:s,isRootFrameRequest:u})=>{const l=cu(),f=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),d=l.environment.embedded||l.environment.mobile,y=d&&i===yt.Embedded,h=s&&typeof o<"u"&&!y,[m,v]=_.useState({isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!0,appBridge:l,isRootFrameRequest:!1}),[E,j]=_.useState();_.useEffect(()=>{if(!l){console.debug("[gadget-rsab] no app bridge, skipping client auth setup");return}n.connection.setAuthenticationMode({custom:{async processFetch(re,Z){const W=new Headers(Z.headers),N=await l.idToken();W.append("Authorization",`ShopifySessionToken ${N}`),Z.headers??(Z.headers={}),W.forEach(function(M,$){Z.headers[$]=M})},async processTransactionConnectionParams(re){const Z=await l.idToken();re.auth.shopifySessionToken=Z}}}),console.debug("[gadget-rsab] set up client auth for session tokens")},[n.connection,l]);let R=!1,I=!1,U=_.useMemo(()=>[],[]);const b=_.useRef(!1),P=_.useRef(!1),[{data:S,fetching:V,error:Oe},Re]=iu(du);S&&(console.debug({fetchOrInstallShopData:S},"[gadget-rsab] fetched or installed shop data"),R=S.shopifyConnection.fetchOrInstallShop.redirectToOauth,I=S.shopifyConnection.fetchOrInstallShop.isAuthenticated,U=S.shopifyConnection.fetchOrInstallShop.missingScopes??[]),_.useEffect(()=>{V&&(P.current=!0)},[V]),_.useEffect(()=>{b.current||l&&(b.current=!0,console.debug("[gadget-rsab] getting sessionToken to fetch or install shop"),l.idToken().then(re=>{console.debug("[gadget-rsab] fetching or installing shop"),Re({shopifySessionToken:re}).catch(Z=>{console.error({err:Z},"[gadget-rsab] error fetching or installing shop")})}).catch(j))},[l,Re]),_.useEffect(()=>{if(!R||u)return;const re=new URL("/api/connections/auth/shopify",t);re.search=(r==null?void 0:r.toString())??"";const Z=re.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process",{appType:i,isInstallRequest:f,isEmbedded:d,redirectURL:Z,gadgetAppUrl:t}),open(Z,"_top")},[t,u,r,R]);const Me=h||R||V||!P.current;return _.useEffect(()=>{const re={isAuthenticated:I,isEmbedded:d,canAuth:!!l,loading:Me,appBridge:l,error:Oe||E,isRootFrameRequest:u};return console.debug("[gadget-rsab] context changed",re),v(re)},[Me,d,l,I,Oe,E,u]),_.useEffect(()=>{if(U.length>0&&!R){const re=new CustomEvent("gadget:devharness:rsab.shopifyManagedInstallation.missingScopes",{detail:{missingScopes:U}});globalThis.dispatchEvent(re)}},[R,U]),_.createElement(ba.Provider,{value:m},e)}),pu=({isRootFrameRequest:e,children:t,query:r,gadgetAppUrl:n,type:i})=>{const o=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),s=o;return _.useEffect(()=>{if(!s||e)return;const u=new URL("/api/connections/auth/shopify",n);u.search=(r==null?void 0:r.toString())??"";const l=u.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process in standalone mode or missing app bridge global",{appType:i,isInstallRequest:o,redirectURL:l,gadgetAppUrl:n}),window.location.assign(l)},[n,e,r,s]),_.createElement(ba.Provider,{value:{isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!1,appBridge:null,isRootFrameRequest:e}},t)},yu=({type:e,children:t,api:r})=>{const n=!!(globalThis&&globalThis.shopify),[i,o]=_.useState(null),s=!!i,{query:u}=i??{},l=(u==null?void 0:u.get("host"))??void 0,f=e??yt.Embedded,d=_.useMemo(()=>u,[s]),y=!(u!=null&&u.has("hmac"))&&!(u!=null&&u.has("shop"))&&e==yt.Embedded,h=new URL(r.connection.options.endpoint).origin;if(_.useEffect(()=>{o({asPath:`${window.location.pathname}${window.location.search}`,query:new URLSearchParams(window.location.search)})},[]),console.debug("[gadget-rsab] provider rendering",{host:l,location:i,coalescedType:f,isReady:s}),f==yt.Embedded&&!n&&globalThis.top&&globalThis.top!==globalThis.self){let m;try{const v=document.referrer;m=new URL(v)}catch{const E=new CustomEvent("gadget:devharness:rsab.invalidReferrer",{detail:{url:document.referrer}});globalThis.dispatchEvent(E)}if(m&&m.hostname==="admin.shopify.com")throw new Error("Expected app bridge to be defined in embedded context, but it was not. This is likely due to a missing script tag, see https://shopify.dev/docs/api/app-bridge-library")}if(f===yt.Embedded&&globalThis.top===globalThis.self){const m=new CustomEvent("gadget:devharness:rsab.embeddedInRootContext");globalThis.dispatchEvent(m)}return _.createElement(Ws,{api:r},f===yt.Embedded&&n?_.createElement(fu,{gadgetAppUrl:h,api:r,originalQueryParams:d,type:f,host:l,isReady:s,isRootFrameRequest:y},t):_.createElement(pu,{isRootFrameRequest:y,query:u,type:f,gadgetAppUrl:h},t))},ba=_.createContext({loading:!0,isEmbedded:!1,isAuthenticated:!1,canAuth:!1,appBridge:null,isRootFrameRequest:!1}),ga=new Rs,va=()=>{const[{data:e}]=au(ga.shopifyProduct);return Tr.jsx(Tr.Fragment,{children:JSON.stringify(e)})},hu=()=>Tr.jsx(yu,{api:ga,shopifyApiKey:"deadbeef",children:Tr.jsx(va,{})});exports.App=hu;exports.Reader=va;exports.commonjsGlobal=Ia;exports.getDefaultExportFromCjs=qi;
