{"version":3,"file":"PolarisWCAutoTextInput.js","sourceRoot":"","sources":["../../../../../src/auto/polaris-wc/inputs/PolarisWCAutoTextInput.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AAC3C,OAAO,EAAE,SAAS,EAAE,MAAM,oBAAoB,CAAC;AAC/C,OAAO,EAAE,wBAAwB,EAAE,MAAM,yCAAyC,CAAC;AAiCnF;;;GAGG;AACH,MAAM,UAAU,0BAA0B,CAAC,KAAoC;IAC7E,MAAM,qBAAqB,GAAG,wBAAwB,CAAC,KAA2B,CAAC,CAAC;IAEpF,MAAM,YAAY,GAAG,WAAW,CAC9B,CAAC,KAAY,EAAE,EAAE;QACf,MAAM,MAAM,GAAG,KAAK,CAAC,aAAsD,CAAC;QAC5E,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IACrD,CAAC,EACD,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACjC,CAAC;IAEF,MAAM,KAAK,GAAW,OAAO,KAAK,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;IAExH,MAAM,cAAc,GAAoD;QACtE,KAAK;QACL,KAAK,EAAE,qBAAqB,CAAC,KAAK,IAAI,EAAE;QACxC,WAAW,EAAE,KAAK,CAAC,WAAW,IAAI,qBAAqB,CAAC,WAAW;QACnE,QAAQ,EAAE,KAAK,CAAC,QAAQ;QACxB,QAAQ,EAAE,qBAAqB,CAAC,QAAQ,CAAC,wBAAwB;QACjE,KAAK,EAAE,qBAAqB,CAAC,YAAY;QACzC,QAAQ,EAAE,YAAY;KACvB,CAAC;IAEF,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,qBAAqB,EAAE,CAAC;AAC1D,CAAC;AAED;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,sBAAsB,GAAG,SAAS,CAAC,CAAC,KAAkC,EAAE,EAAE;IACrF,MAAM,EAAE,cAAc,EAAE,qBAAqB,EAAE,GAAG,0BAA0B,CAAC,KAAK,CAAC,CAAC;IAEpF,MAAM,mBAAmB,GAA4B,EAAE,GAAG,cAAc,EAAE,EAAE,EAAE,qBAAqB,CAAC,EAAE,EAAE,CAAC;IAEzG,OAAO,yCAAkB,mBAAmB,EAAE,YAAY,EAAC,KAAK,GAAG,CAAC;AACtE,CAAC,CAAC,CAAC;AAEH;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,oBAAC,sBAAsB,OAAK,KAAK,GAAI,CAAC;AAErH;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,oBAAC,sBAAsB,OAAK,KAAK,GAAI,CAAC;AAEtH;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,KAAkC,EAAE,EAAE,CAAC,oBAAC,sBAAsB,OAAK,KAAK,GAAI,CAAC","sourcesContent":["import React, { useCallback } from \"react\";\nimport { autoInput } from \"../../AutoInput.js\";\nimport { useStringInputController } from \"../../hooks/useStringInputController.js\";\nimport { type AutoTextInputProps } from \"../../shared/AutoInputTypes.js\";\n\nexport type PolarisWCAutoTextInputProps = AutoTextInputProps & {\n  type?: string;\n  step?: number;\n  min?: number;\n  placeholder?: string;\n  disabled?: boolean;\n};\n\nexport type PolarisWCTextInputPropsParams = (\n  | AutoTextInputProps\n  | { field: string; label?: unknown; afterChange?: (...args: any[]) => void }\n) & {\n  placeholder?: string;\n  disabled?: boolean;\n};\n\nexport type PolarisWCTextInputPropsResult = {\n  label: string;\n  textFieldProps: {\n    label: string;\n    value: string;\n    placeholder?: string;\n    disabled?: boolean;\n    required: boolean | undefined;\n    error: string | undefined;\n    onChange: (event: Event) => void;\n  };\n  stringInputController: ReturnType<typeof useStringInputController>;\n};\n\n/**\n * Shared hook for Polaris WC text-like inputs (text and number).\n * Sets up string input controller, change handler, label, and base text field props.\n */\nexport function usePolarisWCTextInputProps(props: PolarisWCTextInputPropsParams): PolarisWCTextInputPropsResult {\n  const stringInputController = useStringInputController(props as AutoTextInputProps);\n\n  const handleChange = useCallback(\n    (event: Event) => {\n      const target = event.currentTarget as HTMLInputElement & { value?: string };\n      stringInputController.onChange(target.value ?? \"\");\n    },\n    [stringInputController.onChange]\n  );\n\n  const label: string = typeof props.label === \"string\" ? props.label : String(stringInputController.metadata.name ?? \"\");\n\n  const textFieldProps: PolarisWCTextInputPropsResult[\"textFieldProps\"] = {\n    label,\n    value: stringInputController.value ?? \"\",\n    placeholder: props.placeholder ?? stringInputController.placeholder,\n    disabled: props.disabled,\n    required: stringInputController.metadata.requiredArgumentForInput,\n    error: stringInputController.errorMessage,\n    onChange: handleChange,\n  };\n\n  return { label, textFieldProps, stringInputController };\n}\n\n/**\n * A text input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoTextInput field=\"fieldA\" />\n * </AutoForm>\n * ```\n * @param props.field - The field API identifier.\n * @param props.label - Label of the input.\n * @returns The AutoTextInput component.\n */\nexport const PolarisWCAutoTextInput = autoInput((props: PolarisWCAutoTextInputProps) => {\n  const { textFieldProps, stringInputController } = usePolarisWCTextInputProps(props);\n\n  const finalTextFieldProps: Record<string, unknown> = { ...textFieldProps, id: stringInputController.id };\n\n  return <s-text-field {...finalTextFieldProps} autocomplete=\"off\" />;\n});\n\n/**\n * An email input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoEmailInput field=\"fieldA\" />\n * </AutoForm>\n * ```\n * @param props.field - The email field API identifier\n * @param props.label - Label of the email input.\n * @returns The AutoEmailInput component\n */\nexport const PolarisWCAutoEmailInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n\n/**\n * A string input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoStringInput field=\"name\" />\n * </AutoForm>\n * ```\n * @param props.field - The string field API identifier.\n * @param props.label - Label of the string input.\n * @returns The AutoStringInput component\n */\nexport const PolarisWCAutoStringInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n\n/**\n * A url input within AutoForm using Polaris Web Components.\n * @example\n * ```tsx\n * <AutoForm action={api.modelA.create}>\n *   <AutoUrlInput field=\"website\" />\n * </AutoForm>\n * ```\n * @param props.field - The url field API identifier.\n * @param props.label - Label of the url input.\n * @returns The AutoUrlInput component\n */\nexport const PolarisWCAutoUrlInput = (props: PolarisWCAutoTextInputProps) => <PolarisWCAutoTextInput {...props} />;\n"]}