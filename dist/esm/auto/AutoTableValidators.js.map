{"version":3,"file":"AutoTableValidators.js","sourceRoot":"","sources":["../../../src/auto/AutoTableValidators.ts"],"names":[],"mappings":"AAGA,MAAM,CAAC,MAAM,wBAAwB,GAAG,qCAAqC,CAAC;AAE9E,MAAM,CAAC,MAAM,sBAAsB,GAAG,CAAC,OAAuC,EAAE,EAAE;IAChF,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC5C,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,wBAAwB,GAAG,CAAC,KAA4E,EAAE,EAAE;IACvH,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;IAEpC,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,OAAO;IACT,CAAC;IAED,MAAM,mBAAmB,GAAG,QAAQ,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;IAE7D,IAAI,mBAAmB,EAAE,CAAC;QACxB,IAAI,OAAO,CAAC,UAAU,KAAK,IAAI,EAAE,CAAC;YAChC,MAAM,IAAI,KAAK,CAAC,UAAU,QAAQ,CAAC,aAAa,8DAA8D,CAAC,CAAC;QAClH,CAAC;QACD,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,UAAU,QAAQ,CAAC,aAAa,8DAA8D,CAAC,CAAC;QAClH,CAAC;IACH,CAAC;AACH,CAAC,CAAC","sourcesContent":["import { type ModelMetadata } from \"src/metadata.js\";\nimport type { useTable } from \"../useTable.js\";\n\nexport const InvalidModelErrorMessage = `\"model\" is not a valid Gadget model`;\n\nexport const validateAutoTableProps = (manager: Parameters<typeof useTable>[0]) => {\n  if (!manager) {\n    throw new Error(InvalidModelErrorMessage);\n  }\n};\n\nexport const validateAutoTableOptions = (props: { options: Parameters<typeof useTable>[1]; metadata?: ModelMetadata }) => {\n  const { options, metadata } = props;\n\n  if (!options) {\n    return;\n  }\n\n  const cannotSearchInModel = metadata && !metadata.searchable;\n\n  if (cannotSearchInModel) {\n    if (options.searchable === true) {\n      throw new Error(`Model \"${metadata.apiIdentifier}\" is not searchable and cannot have \"searchable\" set to true`);\n    }\n    if (options.search) {\n      throw new Error(`Model \"${metadata.apiIdentifier}\" is not searchable and cannot have a passed in search value`);\n    }\n  }\n};\n"]}