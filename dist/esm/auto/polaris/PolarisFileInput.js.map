{"version":3,"file":"PolarisFileInput.js","sourceRoot":"","sources":["../../../../src/auto/polaris/PolarisFileInput.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC1E,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AAO3C,MAAM,eAAe,GAAG,CAAC,WAAW,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC;AAEjE,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,KAA4B,EAAE,EAAE;IAC/D,MAAM,kBAAkB,GAAG,WAAW,CACpC,CAAC,UAAkB,EAAE,aAAqB,EAAE,cAAsB,EAAE,EAAE;QACpE,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,EACD,CAAC,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC;IAEF,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;IACzB,MAAM,UAAU,GAAG,CAAC,IAAI,IAAI,oBAAC,QAAQ,CAAC,UAAU,OAAG,CAAC;IACpD,MAAM,aAAa,GAAG,IAAI,IAAI,CAC5B,oBAAC,WAAW;QACV,oBAAC,SAAS,IAAC,IAAI,EAAC,OAAO,EAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAI;QACtI;YACG,IAAI,CAAC,IAAI;YAAE,GAAG;YACf,oBAAC,IAAI,IAAC,OAAO,EAAC,QAAQ,EAAC,EAAE,EAAC,GAAG;gBAC1B,IAAI,CAAC,IAAI;yBACL,CACH,CACM,CACf,CAAC;IAEF,OAAO,CACL,oBAAC,QAAQ,IAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,kBAAkB;QAC3E,aAAa;QACb,UAAU,CACF,CACZ,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { DropZone, InlineStack, Text, Thumbnail } from \"@shopify/polaris\";\nimport { NoteMinor } from \"@shopify/polaris-icons\";\nimport React, { useCallback } from \"react\";\n\nexport interface PolarisFileInputProps {\n  label?: string;\n  value?: File;\n  onChange: (value: File) => void;\n}\nconst validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/png\"];\n\nexport const PolarisFileInput = (props: PolarisFileInputProps) => {\n  const handleDropZoneDrop = useCallback(\n    (_dropFiles: File[], acceptedFiles: File[], _rejectedFiles: File[]) => {\n      props.onChange(acceptedFiles[0]);\n    },\n    [props.onChange]\n  );\n\n  const file = props.value;\n  const fileUpload = !file && <DropZone.FileUpload />;\n  const uploadedFiles = file && (\n    <InlineStack>\n      <Thumbnail size=\"small\" alt={file.name} source={validImageTypes.includes(file.type) ? window.URL.createObjectURL(file) : NoteMinor} />\n      <div>\n        {file.name}{\" \"}\n        <Text variant=\"bodySm\" as=\"p\">\n          {file.size} bytes\n        </Text>\n      </div>\n    </InlineStack>\n  );\n\n  return (\n    <DropZone label={props.label} allowMultiple={false} onDrop={handleDropZoneDrop}>\n      {uploadedFiles}\n      {fileUpload}\n    </DropZone>\n  );\n};\n"]}