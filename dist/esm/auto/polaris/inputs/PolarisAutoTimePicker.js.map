{"version":3,"file":"PolarisAutoTimePicker.js","sourceRoot":"","sources":["../../../../../src/auto/polaris/inputs/PolarisAutoTimePicker.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC5F,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACnD,OAAO,EAAE,cAAc,EAAE,MAAM,2BAA2B,CAAC;AAE3D,OAAO,EAAE,QAAQ,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,MAAM,gCAAgC,CAAC;AAEhH,MAAM,YAAY,GAAG,CACnB,KAAe,EACf,aAAqB,EACrB,MAAc,EACd,WAAyC,EACzC,cAAkF,EAClF,EAAE;IACF,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;QAC3B,OAAO,CACL,6BAAK,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE;YAChF,oBAAC,OAAO,CAAC,MAAM,IAAC,KAAK,EAAE,IAAI;gBACzB,6BACE,KAAK,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,EAC5B,YAAY,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAC3D,YAAY,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,IAEvD,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;oBACxD,CAAC,QAAQ,CAAC,aAAa,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC;oBAClD,CAAC,WAAW,EAAE,GAAG,IAAI,MAAM,IAAI,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CACrD,oBAAC,GAAG,IAAC,OAAO,EAAC,KAAK,EAAC,UAAU,EAAC,YAAY,EAAC,YAAY,EAAC,KAAK,EAAC,SAAS,EAAC,MAAM,EAAC,QAAQ,EAAC,MAAM;oBAC5F,oBAAC,IAAI,IAAC,EAAE,EAAC,GAAG,EAAC,IAAI,EAAC,cAAc,IAC7B,IAAI,CACA,CACH,CACP,CAAC,CAAC,CAAC,CACF,oBAAC,GAAG,IAAC,SAAS,EAAC,MAAM,EAAC,QAAQ,EAAC,MAAM,EAAC,OAAO,EAAC,KAAK,IAChD,IAAI,CACD,CACP,CACG,CACS,CACb,CACP,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AAC3F,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACpF,MAAM,OAAO,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAE7B,MAAM,eAAe,GAAG,IAAI,MAAM,CAAC,+CAA+C,CAAC,CAAC;AAEpF,MAAM,aAAa,GAAG,CAAC,QAAuB,EAAE,EAAE;IAChD,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;QACtC,OAAO,MAAM,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC;IACrD,CAAC;IACD,OAAO,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;AACjF,CAAC,CAAC;AAaF,MAAM,qBAAqB,GAAG,CAAC,KAS9B,EAAE,EAAE;IACH,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACxD,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,yBAAyB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/H,MAAM,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClE,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC5D,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACrE,MAAM,eAAe,GAAG,CAAC,IAAY,EAAE,EAAE;QACvC,IAAI,SAAS,EAAE,CAAC;YACd,KAAK,CAAC,QAAQ,EAAE,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC/F,OAAO;QACT,CAAC;QACD,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACrI,CAAC,CAAC;IACF,MAAM,cAAc,GAAG,CAAC,MAAc,EAAE,EAAE;QACxC,IAAI,SAAS,EAAE,CAAC;YACd,KAAK,CAAC,QAAQ,EAAE,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;YACjG,OAAO;QACT,CAAC;QACD,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IACvI,CAAC,CAAC;IACF,MAAM,eAAe,GAAG,CAAC,IAAY,EAAE,EAAE;QACvC,IAAI,SAAS,EAAE,CAAC;YACd,KAAK,CAAC,QAAQ,EAAE,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC/F,OAAO;QACT,CAAC;QACD,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC,EAAE,GAAG,yBAAyB,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACrI,CAAC,CAAC;IAEF,MAAM,kBAAkB,GAAG,CAAC,KAAa,EAAE,EAAE;QAC3C,aAAa,CAAC,KAAK,CAAC,CAAC;QACrB,IAAI,YAAY,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;QAChC,IAAI,KAAK,GAAG,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACrD,MAAM,MAAM,GAAG,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAE1C,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;YAChB,YAAY,GAAG,KAAK,GAAG,MAAM,CAAC;QAChC,CAAC;QAED,MAAM,MAAM,GAAG,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAElD,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACxB,OAAO;QACT,CAAC;QAED,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAEzB,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QACrC,MAAM,OAAO,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;QACrD,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAClC,MAAM,UAAU,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACvD,eAAe,CAAC,QAAQ,CAAC,CAAC;QAC1B,cAAc,CAAC,UAAU,CAAC,CAAC;QAC3B,eAAe,CAAC,OAAO,CAAC,CAAC;QAEzB,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;QAC9B,IAAI,OAAO,KAAK,IAAI,IAAI,KAAK,GAAG,EAAE,EAAE,CAAC;YACnC,KAAK,IAAI,EAAE,CAAC;QACd,CAAC;aAAM,IAAI,OAAO,KAAK,IAAI,IAAI,KAAK,KAAK,EAAE,EAAE,CAAC;YAC5C,KAAK,GAAG,CAAC,CAAC;QACZ,CAAC;QAED,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;QAEtE,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QAE3B,KAAK,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC;QAC/D,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC;QACxE,IAAI,SAAS,EAAE,CAAC;YACd,YAAY,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC;QAED,aAAa,CAAC,GAAG,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,IAAI,UAAU,IAAI,OAAO,EAAE,CAAC,CAAC;IAC9F,CAAC,CAAC;IAEF,MAAM,iBAAiB,GAAG,CAAC,KAAa,EAAE,EAAE;QAC1C,MAAM,YAAY,GAAG,SAAS,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;QACzD,OAAO,GAAG,KAAK,IAAI,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IACvH,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CACzE,EAAE,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,gBAAgB,GAAG,CAAC,KAAa,EAAE,EAAE;QACzC,MAAM,YAAY,GAAG,SAAS,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;QACzD,OAAO,GAAG,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAC3G,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CACzE,EAAE,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,iBAAiB,GAAG,CAAC,KAAa,EAAE,EAAE;QAC1C,MAAM,YAAY,GAAG,SAAS,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC;QACzD,OAAO,GAAG,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IACjF,YAAY,CAAC,CAAC,CAAC,yBAAyB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CACvG,IAAI,KAAK,EAAE,CAAC;IACd,CAAC,CAAC;IAEF,MAAM,SAAS,GAAG;QAChB,KAAK,EAAE,QAAQ;QACf,SAAS,EAAE,iBAAiB;QAC5B,GAAG,EAAE,MAAqB;KAC3B,CAAC;IACF,MAAM,QAAQ,GAAG;QACf,KAAK,EAAE,OAAO;QACd,SAAS,EAAE,gBAAgB;QAC3B,GAAG,EAAE,QAAuB;KAC7B,CAAC;IACF,MAAM,SAAS,GAAG;QAChB,KAAK,EAAE,OAAO;QACd,SAAS,EAAE,iBAAiB;QAC5B,GAAG,EAAE,MAAqB;KAC3B,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,IAAI,SAAS;YAAE,OAAO;QACjD,aAAa,CAAC,aAAa,CAAC,yBAAyB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5F,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;IAEvD,OAAO,CACL;QACE,oBAAC,OAAO,IACN,MAAM,EAAE,iBAAiB,EACzB,OAAO,EAAE,GAAG,EAAE,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAC1C,kBAAkB,EAAC,OAAO,EAC1B,SAAS,EACP,oBAAC,SAAS,IACR,MAAM,EAAE,oBAAC,IAAI,IAAC,MAAM,EAAE,SAAS,GAAI,EACnC,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,SAAS,iBAChC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,SAAS,EACtD,KAAK,EAAE,KAAK,CAAC,eAAe,EAAE,KAAK,IAAI,MAAM,EAC7C,YAAY,EAAC,KAAK,EAClB,KAAK,EAAE,UAAU,EACjB,QAAQ,EAAE,kBAAkB,EAC5B,OAAO,EAAE,GAAG,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,EACzC,KAAK,EAAE,cAAc,IAAI,qBAAqB,KAC1C,KAAK,CAAC,eAAe,GACzB;YAGJ,oBAAC,OAAO,CAAC,IAAI,IAAC,KAAK,UAChB,CAAC,KAAK,CAAC,eAAe,IAAI,CACzB,6BAAK,KAAK,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE;gBACrD,6BAAK,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,IAC5B,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,CAAC,EAAE,EAAE,CAAC,CAC/D,oBAAC,UAAU,IAAC,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE;oBACjE,oBAAC,OAAO,IAAC,QAAQ,EAAE,CAAC,KAAa,EAAE,EAAE,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAC1F,YAAY,CACX,kBAAkB,CAAC,KAAK,EACxB,SAAS;wBACP,CAAC,CAAC,GAAG,yBAAyB,CAAC,SAAS,CAAC,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;wBACnE,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK;4BACxB,CAAC,CAAC,GAAG,yBAAyB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;4BAC1F,CAAC,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,EAC/B,CAAC,EACD,WAAW,EACX,cAAc,CACf,CACO,CACC,CACd,CAAC,CACE,CACF,CACP,CACY,CACP,CACT,CACJ,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,qBAAqB,CAAC","sourcesContent":["import type { TextFieldProps } from \"@shopify/polaris\";\nimport { Box, Icon, Listbox, Popover, Scrollable, Text, TextField } from \"@shopify/polaris\";\nimport { ClockIcon } from \"@shopify/polaris-icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { zonedTimeToUtc } from \"../../../dateTimeUtils.js\";\nimport type { ControllerRenderProps, FieldValues } from \"../../../useActionForm.js\";\nimport { copyTime, getDateFromDateTimeObject, getDateTimeObjectFromDate } from \"./PolarisAutoDateTimePicker.js\";\n\nconst createMarkup = (\n  items: string[],\n  selectedState: string,\n  colNum: number,\n  selectCoord: { col: number; row: number },\n  setSelectCoord: React.Dispatch<React.SetStateAction<{ col: number; row: number }>>\n) => {\n  return items.map((item, i) => {\n    return (\n      <div key={i} style={{ textAlign: \"center\", cursor: \"default\", padding: \"0px 4px\" }}>\n        <Listbox.Option value={item}>\n          <div\n            style={{ cursor: \"pointer\" }}\n            onMouseEnter={() => setSelectCoord({ col: colNum, row: i })}\n            onMouseLeave={() => setSelectCoord({ col: -1, row: -1 })}\n          >\n            {selectedState.padStart(2, \"0\") == item.padStart(2, \"0\") ||\n            (parseInt(selectedState, 10) == 0 && item == \"12\") ||\n            (selectCoord?.col == colNum && selectCoord.row == i) ? (\n              <Box padding=\"100\" background=\"bg-inverse\" borderRadius=\"200\" minHeight=\"30px\" minWidth=\"30px\">\n                <Text as=\"p\" tone=\"text-inverse\">\n                  {item}\n                </Text>\n              </Box>\n            ) : (\n              <Box minHeight=\"30px\" minWidth=\"30px\" padding=\"100\">\n                {item}\n              </Box>\n            )}\n          </div>\n        </Listbox.Option>\n      </div>\n    );\n  });\n};\n\nconst hoursArr = Array.from({ length: 12 }, (_, i) => (i + 1).toString().padStart(2, \"0\"));\nconst minsArr = Array.from({ length: 60 }, (_, i) => i.toString().padStart(2, \"0\"));\nconst ampmArr = [\"AM\", \"PM\"];\n\nconst timeFormatRegex = new RegExp(/((1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm]))/);\n\nconst getTimeString = (dateTime: DateTimeState) => {\n  if (parseInt(dateTime.hour, 10) === 0) {\n    return `12:${dateTime.minute.padStart(2, \"0\")} AM`;\n  }\n  return `${dateTime.hour}:${dateTime.minute.padStart(2, \"0\")} ${dateTime.ampm}`;\n};\n\nexport interface DateTimeState {\n  month: number;\n  year: number;\n  day: number;\n  hour: string;\n  minute: string;\n  ampm: string;\n}\n\ntype DateTimeKey = keyof DateTimeState;\n\nconst PolarisAutoTimePicker = (props: {\n  fieldProps: ControllerRenderProps<FieldValues, string>;\n  value?: Date;\n  onChange?: (value: Date) => void;\n  localTime?: Date;\n  id?: string;\n  timePickerProps?: Partial<TextFieldProps>;\n  hideTimePopover?: boolean;\n  localTz?: string;\n}) => {\n  const [valueProp, setValueProp] = useState(props.value);\n  const [timeString, setTimeString] = useState(props.localTime ? getTimeString(getDateTimeObjectFromDate(props.localTime)) : \"\");\n  const [timePopoverActive, setTimePopoverActive] = useState(false);\n  const [timeParseError, setTimeParseError] = useState(false);\n  const [selectCoord, setSelectCoord] = useState({ col: -1, row: -1 });\n  const setHourSelected = (hour: string) => {\n    if (valueProp) {\n      props.onChange?.(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(valueProp), hour }));\n      return;\n    }\n    props.fieldProps.onChange(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(props.fieldProps.value ?? new Date()), hour }));\n  };\n  const setMinSelected = (minute: string) => {\n    if (valueProp) {\n      props.onChange?.(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(valueProp), minute }));\n      return;\n    }\n    props.fieldProps.onChange(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(props.fieldProps.value ?? new Date()), minute }));\n  };\n  const setAmpmSelected = (ampm: string) => {\n    if (valueProp) {\n      props.onChange?.(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(valueProp), ampm }));\n      return;\n    }\n    props.fieldProps.onChange(getDateFromDateTimeObject({ ...getDateTimeObjectFromDate(props.fieldProps.value ?? new Date()), ampm }));\n  };\n\n  const onTimeStringChange = (value: string) => {\n    setTimeString(value);\n    let trimmedValue = value.trim();\n    let hours = parseInt(trimmedValue.split(\":\")[0], 10);\n    const suffix = trimmedValue.split(\":\")[1];\n\n    if (hours === 0) {\n      trimmedValue = \"12:\" + suffix;\n    }\n\n    const result = timeFormatRegex.test(trimmedValue);\n\n    if (!result) {\n      setTimeParseError(true);\n      return;\n    }\n\n    setTimeParseError(false);\n\n    const minutes = parseInt(suffix, 10);\n    const newAmpm = trimmedValue.slice(-2).toUpperCase();\n    const hoursStr = hours.toString();\n    const paddedMins = minutes.toString().padStart(2, \"0\");\n    setHourSelected(hoursStr);\n    setMinSelected(paddedMins);\n    setAmpmSelected(newAmpm);\n\n    const parsedDate = new Date();\n    if (newAmpm === \"PM\" && hours < 12) {\n      hours += 12;\n    } else if (newAmpm === \"AM\" && hours === 12) {\n      hours = 0;\n    }\n\n    parsedDate.setHours(hours, minutes, 0, 0);\n    const date = props.localTime ? new Date(props.localTime) : new Date();\n\n    copyTime(date, parsedDate);\n\n    props.onChange?.(zonedTimeToUtc(date, props.localTz ?? \"UTC\"));\n    props.fieldProps.onChange(zonedTimeToUtc(date, props.localTz ?? \"UTC\"));\n    if (valueProp) {\n      setValueProp(zonedTimeToUtc(date, props.localTz ?? \"UTC\"));\n    }\n\n    setTimeString(`${parseInt(hoursStr, 10) === 0 ? \"12\" : hoursStr}:${paddedMins} ${newAmpm}`);\n  };\n\n  const hourTimeFormatter = (value: string) => {\n    const defaultValue = valueProp ?? props.fieldProps.value;\n    return `${value}:${defaultValue ? getDateTimeObjectFromDate(defaultValue).minute.toString().padStart(2, \"0\") : minsArr[0]} ${\n      defaultValue ? getDateTimeObjectFromDate(defaultValue).ampm : ampmArr[0]\n    }`;\n  };\n\n  const minTimeFormatter = (value: string) => {\n    const defaultValue = valueProp ?? props.fieldProps.value;\n    return `${defaultValue ? getDateTimeObjectFromDate(defaultValue).hour : hoursArr[0]}:${value.padStart(2, \"0\")} ${\n      defaultValue ? getDateTimeObjectFromDate(defaultValue).ampm : ampmArr[0]\n    }`;\n  };\n\n  const ampmTimeFormatter = (value: string) => {\n    const defaultValue = valueProp ?? props.fieldProps.value;\n    return `${defaultValue ? getDateTimeObjectFromDate(defaultValue).hour : hoursArr[0]}:${\n      defaultValue ? getDateTimeObjectFromDate(defaultValue).minute.toString().padStart(2, \"0\") : minsArr[0]\n    } ${value}`;\n  };\n\n  const hourProps = {\n    array: hoursArr,\n    formatter: hourTimeFormatter,\n    key: \"hour\" as DateTimeKey,\n  };\n  const minProps = {\n    array: minsArr,\n    formatter: minTimeFormatter,\n    key: \"minute\" as DateTimeKey,\n  };\n  const ampmProps = {\n    array: ampmArr,\n    formatter: ampmTimeFormatter,\n    key: \"ampm\" as DateTimeKey,\n  };\n\n  useEffect(() => {\n    if (!props.fieldProps.value || valueProp) return;\n    setTimeString(getTimeString(getDateTimeObjectFromDate(new Date(props.fieldProps.value))));\n  }, [props.fieldProps.value, valueProp, setTimeString]);\n\n  return (\n    <>\n      <Popover\n        active={timePopoverActive}\n        onClose={() => setTimePopoverActive(false)}\n        preferredAlignment=\"right\"\n        activator={\n          <TextField\n            prefix={<Icon source={ClockIcon} />}\n            id={props.id ? `${props.id}-time` : undefined}\n            data-testid={props.id ? `${props.id}-time` : undefined}\n            label={props.timePickerProps?.label ?? \"Time\"}\n            autoComplete=\"off\"\n            value={timeString}\n            onChange={onTimeStringChange}\n            onFocus={() => setTimePopoverActive(true)}\n            error={timeParseError && `Invalid time format`}\n            {...props.timePickerProps}\n          />\n        }\n      >\n        <Popover.Pane fixed>\n          {!props.hideTimePopover && (\n            <div style={{ overflow: \"hidden\", padding: \"15px 8px\" }}>\n              <div style={{ display: \"flex\" }}>\n                {[hourProps, minProps, ampmProps].map((timeComponentProps, i) => (\n                  <Scrollable key={i} style={{ overflowY: \"scroll\", height: \"250px\" }}>\n                    <Listbox onSelect={(value: string) => onTimeStringChange(timeComponentProps.formatter(value))}>\n                      {createMarkup(\n                        timeComponentProps.array,\n                        valueProp\n                          ? `${getDateTimeObjectFromDate(valueProp)[timeComponentProps.key]}`\n                          : props.fieldProps.value\n                          ? `${getDateTimeObjectFromDate(new Date(props.fieldProps.value))[timeComponentProps.key]}`\n                          : timeComponentProps.array[0],\n                        i,\n                        selectCoord,\n                        setSelectCoord\n                      )}\n                    </Listbox>\n                  </Scrollable>\n                ))}\n              </div>\n            </div>\n          )}\n        </Popover.Pane>\n      </Popover>\n    </>\n  );\n};\n\nexport default PolarisAutoTimePicker;\n"]}