{"version":3,"file":"useDebouncedSearch.js","sourceRoot":"","sources":["../../src/useDebouncedSearch.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAStC,MAAM,CAAC,MAAM,kBAAkB,GAAG,CAAC,KAAiE,EAAE,EAAE;IACtG,MAAM,EAAE,WAAW,EAAE,oBAAoB,EAAE,GAAG,KAAK,CAAC;IACpD,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAS,EAAE,CAAC,CAAC;IAC3D,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,GAAG,QAAQ,CAAS,EAAE,CAAC,CAAC;IAE7E,MAAM,uBAAuB,GAAG,WAAW,CACzC,QAAQ,CAAC,CAAC,KAAa,EAAE,EAAE;QACzB,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAC/B,WAAW,EAAE,CAAC;IAChB,CAAC,EAAE,oBAAoB,CAAC,EACxB,EAAE,CACH,CAAC;IAEF,MAAM,MAAM,GAAG;QACb,KAAK,EAAE,WAAW;QAClB,cAAc,EAAE,oBAAoB;QACpC,GAAG,EAAE,CAAC,KAAa,EAAE,EAAE;YACrB,cAAc,CAAC,KAAK,CAAC,CAAC;YACtB,uBAAuB,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC;QACD,KAAK,EAAE,GAAG,EAAE;YACV,2BAA2B;YAC3B,cAAc,CAAC,EAAE,CAAC,CAAC;YACnB,uBAAuB,CAAC,EAAE,CAAC,CAAC;YAC5B,WAAW,EAAE,CAAC;QAChB,CAAC;KACF,CAAC;IAEF,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC","sourcesContent":["import { useCallback, useState } from \"react\";\nimport { debounce } from \"./utils.js\";\n\nexport interface SearchResult {\n  value: string;\n  debouncedValue: string;\n  set: (value: string) => void;\n  clear: () => void;\n}\n\nexport const useDebouncedSearch = (props: { clearCursor: () => void; debounceMilliseconds?: number }) => {\n  const { clearCursor, debounceMilliseconds } = props;\n  const [searchValue, setSearchValue] = useState<string>(\"\");\n  const [debouncedSearchValue, setDebouncedSearchValue] = useState<string>(\"\");\n\n  const debouncedSetSearchValue = useCallback(\n    debounce((query: string) => {\n      setDebouncedSearchValue(query);\n      clearCursor();\n    }, debounceMilliseconds),\n    []\n  );\n\n  const search = {\n    value: searchValue,\n    debouncedValue: debouncedSearchValue,\n    set: (query: string) => {\n      setSearchValue(query);\n      debouncedSetSearchValue(query);\n    },\n    clear: () => {\n      // Instant without debounce\n      setSearchValue(\"\");\n      setDebouncedSearchValue(\"\");\n      clearCursor();\n    },\n  };\n\n  return search;\n};\n"]}