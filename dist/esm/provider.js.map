{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAE/C,MAAM,cAAc,GAAG,CAAC,MAAW,EAAuB,EAAE;IAC1D,OAAO,MAAM,IAAI,YAAY,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU,IAAI,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC;AAClG,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,mBAAmB,GAAG,CACjC,GAAc,EACd,OAAuB,EAKvB,EAAE;IACF,IAAI,CAAC,GAAG,EAAE,CAAC;QACT,MAAM,IAAI,KAAK,CACb,yIAAyI,CAC1I,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;QACzB,MAAM,IAAI,KAAK,CACb,8IAA8I,CAC/I,CAAC;IACJ,CAAC;IACD,MAAM,YAAY,GAAG,GAAG,CAAC;IACzB,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,aAAa,CAAC;IAChD,MAAM,gBAAgB,GAAG,GAAG,CAAC,UAAU,CAAC;IACxC,WAAW,CAAC,OAAO,CAAC,CAAC;IAErB,OAAO;QACL,YAAY;QACZ,gBAAgB;QAChB,UAAU;KACX,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import type { AnyClient, AnyConnection } from \"@gadgetinc/core\";\nimport type { Client as UrqlClient } from \"@urql/core\";\nimport type { RuntimeAdapter } from \"./adapter.js\";\nimport { createHooks } from \"./createHooks.js\";\n\nconst isGadgetClient = (client: any): client is AnyClient => {\n  return client && \"connection\" in client && client.connection && \"endpoint\" in client.connection;\n};\n\nexport const registerClientHooks = (\n  api: AnyClient,\n  adapter: RuntimeAdapter\n): {\n  gadgetClient: AnyClient;\n  gadgetConnection: AnyConnection;\n  urqlClient: UrqlClient;\n} => {\n  if (!api) {\n    throw new Error(\n      \"No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!\"\n    );\n  }\n\n  if (!isGadgetClient(api)) {\n    throw new Error(\n      \"Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!\"\n    );\n  }\n  const gadgetClient = api;\n  const urqlClient = api.connection.currentClient;\n  const gadgetConnection = api.connection;\n  createHooks(adapter);\n\n  return {\n    gadgetClient,\n    gadgetConnection,\n    urqlClient,\n  };\n};\n"]}