{"version":3,"file":"Provider.js","sourceRoot":"","sources":["../../../src/react/Provider.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,QAAQ,IAAI,mBAAmB,EAAE,MAAM,kBAAkB,CAAC;AAEnE,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACnD,OAAO,EAAE,yCAAyC,EAAE,MAAM,aAAa,CAAC;AACxE,OAAO,EAAE,+BAA+B,EAAE,MAAM,YAAY,CAAC;AAM7D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,EAAE,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAuE,EAAE,EAAE;IAC/H,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE1C,SAAS,CAAC,GAAG,EAAE;QACb,yCAAyC,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;QACjE,QAAQ,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC,EAAE,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;IAExB,OAAO,CACL,oBAAC,mBAAmB,IAAC,GAAG,EAAE,GAAG;QAC3B,oBAAC,+BAA+B,CAAC,QAAQ,IAAC,KAAK,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,IAAG,QAAQ,CAA4C,CAClG,CACvB,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import type { AnyClient } from \"@gadgetinc/core\";\nimport { Provider as GadgetReactProvider } from \"@gadgetinc/react\";\nimport type { ReactNode } from \"react\";\nimport React, { useEffect, useState } from \"react\";\nimport { registerShopifySessionTokenAuthentication } from \"../index.js\";\nimport { GadgetShopifyUIExtensionContext } from \"./index.js\";\n\nexport interface SessionToken {\n  get: () => Promise<string>;\n}\n\nexport const Provider = ({ api, sessionToken, children }: { api: AnyClient; sessionToken: SessionToken; children: ReactNode }) => {\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    registerShopifySessionTokenAuthentication(api, sessionToken.get);\n    setReady(true);\n  }, [api, sessionToken]);\n\n  return (\n    <GadgetReactProvider api={api}>\n      <GadgetShopifyUIExtensionContext.Provider value={{ api, ready }}>{children}</GadgetShopifyUIExtensionContext.Provider>\n    </GadgetReactProvider>\n  );\n};\n"]}