{"version":3,"file":"context.js","sourceRoot":"","sources":["../../src/context.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,MAAM,OAAO,CAAC;AAsBlD,MAAM,CAAC,MAAM,iBAAiB,GAAG,aAAa,CAAyB;IACrE,OAAO,EAAE,IAAI;IACb,UAAU,EAAE,KAAK;IACjB,eAAe,EAAE,KAAK;IACtB,OAAO,EAAE,KAAK;IACd,SAAS,EAAE,IAAI;IACf,kBAAkB,EAAE,KAAK;CAC1B,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,EAAE,CAAC,UAAU,CAAyB,iBAAiB,CAAC,CAAC","sourcesContent":["import type { AppBridgeState, ClientApplication } from \"@shopify/app-bridge\";\nimport { createContext, useContext } from \"react\";\nimport type { AppType } from \"./Provider.js\";\n\nexport type GadgetAuthContextValue = {\n  /** Is the AppBridge provider or the Gadget auth system loading or redirecting the user to make requests elsewhere */\n  loading: boolean;\n  /** Any error that occurred when booting up the App Bridge or Gadget Auth provider */\n  error?: Error;\n  /** What kind of application is this Gadget provider configured to power */\n  appType?: AppType;\n  /** The current embedding state of this JS context. Will return true if running inside the iframe in the Shopify Admin, false otherwise */\n  isEmbedded: boolean;\n  /** An instance of the AppBridge object. Only available in embedded contexts. */\n  appBridge: ClientApplication<AppBridgeState> | null;\n  /** Is this browser window ready to authenticate in the current state */\n  canAuth: boolean;\n  /** Is this browser window authenticated and ready to make requests to the Gadget backend */\n  isAuthenticated: boolean;\n  /** Is the app being rendered outside of a Shopify admin flow, this only applies if type is set to AppType.Embedded. e.g. navigating to this page through a link */\n  isRootFrameRequest: boolean;\n};\n\nexport const GadgetAuthContext = createContext<GadgetAuthContextValue>({\n  loading: true,\n  isEmbedded: false,\n  isAuthenticated: false,\n  canAuth: false,\n  appBridge: null,\n  isRootFrameRequest: false,\n});\n\nexport const useGadget = () => useContext<GadgetAuthContextValue>(GadgetAuthContext);\n"]}