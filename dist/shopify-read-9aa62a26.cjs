"use strict";const R=require("react"),Eo=require("react-dom");function Oo(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Oe=Oo(R);var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Br={exports:{}},bn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi;function To(){if(xi)return bn;xi=1;var e=R,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,d){var c,p={},m=null,y=null;d!==void 0&&(m=""+d),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(p[c]=l[c]);if(u&&u.defaultProps)for(c in l=u.defaultProps,l)p[c]===void 0&&(p[c]=l[c]);return{$$typeof:t,type:u,key:m,ref:y,props:p,_owner:i.current}}return bn.Fragment=n,bn.jsx=s,bn.jsxs=s,bn}var vn={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi;function ko(){return Pi||(Pi=1,process.env.NODE_ENV!=="production"&&function(){var e=R,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),g=Symbol.iterator,E="@@iterator";function P(o){if(o===null||typeof o!="object")return null;var f=g&&o[g]||o[E];return typeof f=="function"?f:null}var x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(o){{for(var f=arguments.length,h=new Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];C("error",o,h)}}function C(o,f,h){{var v=x.ReactDebugCurrentFrame,O=v.getStackAddendum();O!==""&&(f+="%s",h=h.concat([O]));var k=h.map(function(N){return String(N)});k.unshift("Warning: "+f),Function.prototype.apply.call(console[o],console,k)}}var b=!1,T=!1,S=!1,V=!1,Ce=!1,Fe;Fe=Symbol.for("react.module.reference");function Ve(o){return!!(typeof o=="string"||typeof o=="function"||o===r||o===a||Ce||o===i||o===d||o===c||V||o===y||b||T||S||typeof o=="object"&&o!==null&&(o.$$typeof===m||o.$$typeof===p||o.$$typeof===s||o.$$typeof===u||o.$$typeof===l||o.$$typeof===Fe||o.getModuleId!==void 0))}function ut(o,f,h){var v=o.displayName;if(v)return v;var O=f.displayName||f.name||"";return O!==""?h+"("+O+")":h}function te(o){return o.displayName||"Context"}function W(o){if(o==null)return null;if(typeof o.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case r:return"Fragment";case n:return"Portal";case a:return"Profiler";case i:return"StrictMode";case d:return"Suspense";case c:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case u:var f=o;return te(f)+".Consumer";case s:var h=o;return te(h._context)+".Provider";case l:return ut(o,o.render,"ForwardRef");case p:var v=o.displayName||null;return v!==null?v:W(o.type)||"Memo";case m:{var O=o,k=O._payload,N=O._init;try{return W(N(k))}catch{return null}}}return null}var _=Object.assign,U=0,B,$,J,ke,q,je,Ue;function Xe(){}Xe.__reactDisabledLog=!0;function Ze(){{if(U===0){B=console.log,$=console.info,J=console.warn,ke=console.error,q=console.group,je=console.groupCollapsed,Ue=console.groupEnd;var o={configurable:!0,enumerable:!0,value:Xe,writable:!0};Object.defineProperties(console,{info:o,log:o,warn:o,error:o,group:o,groupCollapsed:o,groupEnd:o})}U++}}function ne(){{if(U--,U===0){var o={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:_({},o,{value:B}),info:_({},o,{value:$}),warn:_({},o,{value:J}),error:_({},o,{value:ke}),group:_({},o,{value:q}),groupCollapsed:_({},o,{value:je}),groupEnd:_({},o,{value:Ue})})}U<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var H=x.ReactCurrentDispatcher,yt;function Be(o,f,h){{if(yt===void 0)try{throw Error()}catch(O){var v=O.stack.trim().match(/\n( *(at )?)/);yt=v&&v[1]||""}return`
`+yt+o}}var At=!1,lt;{var dr=typeof WeakMap=="function"?WeakMap:Map;lt=new dr}function rn(o,f){if(!o||At)return"";{var h=lt.get(o);if(h!==void 0)return h}var v;At=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var k;k=H.current,H.current=null,Ze();try{if(f){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(ue){v=ue}Reflect.construct(o,[],N)}else{try{N.call()}catch(ue){v=ue}o.call(N.prototype)}}else{try{throw Error()}catch(ue){v=ue}o()}}catch(ue){if(ue&&v&&typeof ue.stack=="string"){for(var I=ue.stack.split(`
`),z=v.stack.split(`
`),D=I.length-1,F=z.length-1;D>=1&&F>=0&&I[D]!==z[F];)F--;for(;D>=1&&F>=0;D--,F--)if(I[D]!==z[F]){if(D!==1||F!==1)do if(D--,F--,F<0||I[D]!==z[F]){var K=`
`+I[D].replace(" at new "," at ");return o.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",o.displayName)),typeof o=="function"&&lt.set(o,K),K}while(D>=1&&F>=0);break}}}finally{At=!1,H.current=k,ne(),Error.prepareStackTrace=O}var xe=o?o.displayName||o.name:"",gn=xe?Be(xe):"";return typeof o=="function"&&lt.set(o,gn),gn}function fr(o,f,h){return rn(o,!1)}function pr(o){var f=o.prototype;return!!(f&&f.isReactComponent)}function ct(o,f,h){if(o==null)return"";if(typeof o=="function")return rn(o,pr(o));if(typeof o=="string")return Be(o);switch(o){case d:return Be("Suspense");case c:return Be("SuspenseList")}if(typeof o=="object")switch(o.$$typeof){case l:return fr(o.render);case p:return ct(o.type,f,h);case m:{var v=o,O=v._payload,k=v._init;try{return ct(k(O),f,h)}catch{}}}return""}var dt=Object.prototype.hasOwnProperty,an={},on=x.ReactDebugCurrentFrame;function ft(o){if(o){var f=o._owner,h=ct(o.type,o._source,f?f.type:null);on.setExtraStackFrame(h)}else on.setExtraStackFrame(null)}function hr(o,f,h,v,O){{var k=Function.call.bind(dt);for(var N in o)if(k(o,N)){var I=void 0;try{if(typeof o[N]!="function"){var z=Error((v||"React class")+": "+h+" type `"+N+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[N]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}I=o[N](f,N,v,h,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(D){I=D}I&&!(I instanceof Error)&&(ft(O),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",v||"React class",h,N,typeof I),ft(null)),I instanceof Error&&!(I.message in an)&&(an[I.message]=!0,ft(O),w("Failed %s type: %s",h,I.message),ft(null))}}}var mr=Array.isArray;function Tt(o){return mr(o)}function yr(o){{var f=typeof Symbol=="function"&&Symbol.toStringTag,h=f&&o[Symbol.toStringTag]||o.constructor.name||"Object";return h}}function gr(o){try{return sn(o),!1}catch{return!0}}function sn(o){return""+o}function un(o){if(gr(o))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",yr(o)),sn(o)}var qe=x.ReactCurrentOwner,br={key:!0,ref:!0,__self:!0,__source:!0},ln,cn,kt;kt={};function vr(o){if(dt.call(o,"ref")){var f=Object.getOwnPropertyDescriptor(o,"ref").get;if(f&&f.isReactWarning)return!1}return o.ref!==void 0}function Sr(o){if(dt.call(o,"key")){var f=Object.getOwnPropertyDescriptor(o,"key").get;if(f&&f.isReactWarning)return!1}return o.key!==void 0}function Ir(o,f){if(typeof o.ref=="string"&&qe.current&&f&&qe.current.stateNode!==f){var h=W(qe.current.type);kt[h]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(qe.current.type),o.ref),kt[h]=!0)}}function wr(o,f){{var h=function(){ln||(ln=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};h.isReactWarning=!0,Object.defineProperty(o,"key",{get:h,configurable:!0})}}function Nr(o,f){{var h=function(){cn||(cn=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};h.isReactWarning=!0,Object.defineProperty(o,"ref",{get:h,configurable:!0})}}var Er=function(o,f,h,v,O,k,N){var I={$$typeof:t,type:o,key:f,ref:h,props:N,_owner:k};return I._store={},Object.defineProperty(I._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(I,"_self",{configurable:!1,enumerable:!1,writable:!1,value:v}),Object.defineProperty(I,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(I.props),Object.freeze(I)),I};function Or(o,f,h,v,O){{var k,N={},I=null,z=null;h!==void 0&&(un(h),I=""+h),Sr(f)&&(un(f.key),I=""+f.key),vr(f)&&(z=f.ref,Ir(f,O));for(k in f)dt.call(f,k)&&!br.hasOwnProperty(k)&&(N[k]=f[k]);if(o&&o.defaultProps){var D=o.defaultProps;for(k in D)N[k]===void 0&&(N[k]=D[k])}if(I||z){var F=typeof o=="function"?o.displayName||o.name||"Unknown":o;I&&wr(N,F),z&&Nr(N,F)}return Er(o,I,z,O,v,qe.current,N)}}var _t=x.ReactCurrentOwner,dn=x.ReactDebugCurrentFrame;function _e(o){if(o){var f=o._owner,h=ct(o.type,o._source,f?f.type:null);dn.setExtraStackFrame(h)}else dn.setExtraStackFrame(null)}var xt;xt=!1;function Pt(o){return typeof o=="object"&&o!==null&&o.$$typeof===t}function fn(){{if(_t.current){var o=W(_t.current.type);if(o)return`

Check the render method of \``+o+"`."}return""}}function Ar(o){{if(o!==void 0){var f=o.fileName.replace(/^.*[\\\/]/,""),h=o.lineNumber;return`

Check your code at `+f+":"+h+"."}return""}}var pn={};function Tr(o){{var f=fn();if(!f){var h=typeof o=="string"?o:o.displayName||o.name;h&&(f=`

Check the top-level render call using <`+h+">.")}return f}}function hn(o,f){{if(!o._store||o._store.validated||o.key!=null)return;o._store.validated=!0;var h=Tr(f);if(pn[h])return;pn[h]=!0;var v="";o&&o._owner&&o._owner!==_t.current&&(v=" It was passed a child from "+W(o._owner.type)+"."),_e(o),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',h,v),_e(null)}}function mn(o,f){{if(typeof o!="object")return;if(Tt(o))for(var h=0;h<o.length;h++){var v=o[h];Pt(v)&&hn(v,f)}else if(Pt(o))o._store&&(o._store.validated=!0);else if(o){var O=P(o);if(typeof O=="function"&&O!==o.entries)for(var k=O.call(o),N;!(N=k.next()).done;)Pt(N.value)&&hn(N.value,f)}}}function kr(o){{var f=o.type;if(f==null||typeof f=="string")return;var h;if(typeof f=="function")h=f.propTypes;else if(typeof f=="object"&&(f.$$typeof===l||f.$$typeof===p))h=f.propTypes;else return;if(h){var v=W(f);hr(h,o.props,"prop",v,o)}else if(f.PropTypes!==void 0&&!xt){xt=!0;var O=W(f);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof f.getDefaultProps=="function"&&!f.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function _r(o){{for(var f=Object.keys(o.props),h=0;h<f.length;h++){var v=f[h];if(v!=="children"&&v!=="key"){_e(o),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",v),_e(null);break}}o.ref!==null&&(_e(o),w("Invalid attribute `ref` supplied to `React.Fragment`."),_e(null))}}function yn(o,f,h,v,O,k){{var N=Ve(o);if(!N){var I="";(o===void 0||typeof o=="object"&&o!==null&&Object.keys(o).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var z=Ar(O);z?I+=z:I+=fn();var D;o===null?D="null":Tt(o)?D="array":o!==void 0&&o.$$typeof===t?(D="<"+(W(o.type)||"Unknown")+" />",I=" Did you accidentally export a JSX literal instead of a component?"):D=typeof o,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",D,I)}var F=Or(o,f,h,O,k);if(F==null)return F;if(N){var K=f.children;if(K!==void 0)if(v)if(Tt(K)){for(var xe=0;xe<K.length;xe++)mn(K[xe],o);Object.freeze&&Object.freeze(K)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else mn(K,o)}return o===r?_r(F):kr(F),F}}function xr(o,f,h){return yn(o,f,h,!0)}function Pr(o,f,h){return yn(o,f,h,!1)}var Rr=Pr,Dr=xr;vn.Fragment=r,vn.jsx=Rr,vn.jsxs=Dr}()),vn}process.env.NODE_ENV==="production"?Br.exports=To():Br.exports=ko();var Kn=Br.exports;const _o=e=>e&&"connection"in e&&e.connection&&"endpoint"in e.connection;var li=()=>{},Te=li;function Ye(e){return{tag:0,0:e}}function Cn(e){return{tag:1,0:e}}var xo=e=>e;function oe(e){return t=>n=>{var r=Te;t(i=>{i===0?n(0):i.tag===0?(r=i[0],n(i)):e(i[0])?n(i):r(0)})}}function Qt(e){return t=>n=>t(r=>{r===0||r.tag===0?n(r):n(Cn(e(r[0])))})}function _n(e){return t=>n=>{var r=[],i=Te,a=!1,s=!1;t(u=>{s||(u===0?(s=!0,r.length||n(0)):u.tag===0?i=u[0]:(a=!1,function(d){var c=Te;d(p=>{if(p===0){if(r.length){var m=r.indexOf(c);m>-1&&(r=r.slice()).splice(m,1),r.length||(s?n(0):a||(a=!0,i(0)))}}else p.tag===0?(r.push(c=p[0]),c(0)):r.length&&(n(p),c(0))})}(e(u[0])),a||(a=!0,i(0))))}),n(Ye(u=>{if(u===1){s||(s=!0,i(1));for(var l=0,d=r,c=r.length;l<c;l++)d[l](1);r.length=0}else{!s&&!a?(a=!0,i(0)):a=!1;for(var p=0,m=r,y=r.length;p<y;p++)m[p](0)}}))}}function Po(e){return _n(xo)(e)}function Yt(e){return Po(Co(e))}function ci(e){return t=>n=>{var r=!1;t(i=>{if(!r)if(i===0)r=!0,n(0),e();else if(i.tag===0){var a=i[0];n(Ye(s=>{s===1?(r=!0,a(1),e()):a(s)}))}else n(i)})}}function Vt(e){return t=>n=>{var r=!1;t(i=>{if(!r)if(i===0)r=!0,n(0);else if(i.tag===0){var a=i[0];n(Ye(s=>{s===1&&(r=!0),a(s)}))}else e(i[0]),n(i)})}}function Ri(e){return t=>n=>t(r=>{r===0?n(0):r.tag===0?(n(r),e()):n(r)})}function xn(e){var t=[],n=Te,r=!1;return i=>{t.push(i),t.length===1&&e(a=>{if(a===0){for(var s=0,u=t,l=t.length;s<l;s++)u[s](0);t.length=0}else if(a.tag===0)n=a[0];else{r=!1;for(var d=0,c=t,p=t.length;d<p;d++)c[d](a)}}),i(Ye(a=>{if(a===1){var s=t.indexOf(i);s>-1&&(t=t.slice()).splice(s,1),t.length||n(1)}else r||(r=!0,n(0))}))}}function Di(e){return t=>n=>{var r=Te,i=Te,a=!1,s=!1,u=!1,l=!1;t(d=>{l||(d===0?(l=!0,u||n(0)):d.tag===0?r=d[0]:(u&&(i(1),i=Te),a?a=!1:(a=!0,r(0)),function(p){u=!0,p(m=>{u&&(m===0?(u=!1,l?n(0):a||(a=!0,r(0))):m.tag===0?(s=!1,(i=m[0])(0)):(n(m),s?s=!1:i(0)))})}(e(d[0]))))}),n(Ye(d=>{d===1?(l||(l=!0,r(1)),u&&(u=!1,i(1))):(!l&&!a&&(a=!0,r(0)),u&&!s&&(s=!0,i(0)))}))}}function Fn(e){return t=>n=>{var r=Te,i=!1,a=0;t(s=>{i||(s===0?(i=!0,n(0)):s.tag===0?e<=0?(i=!0,n(0),s[0](1)):r=s[0]:a++<e?(n(s),!i&&a>=e&&(i=!0,n(0),r(1))):n(s))}),n(Ye(s=>{s===1&&!i?(i=!0,r(1)):s===0&&!i&&a<e&&r(0)}))}}function di(e){return t=>n=>{var r=Te,i=Te,a=!1;t(s=>{a||(s===0?(a=!0,i(1),n(0)):s.tag===0?(r=s[0],e(u=>{u===0||(u.tag===0?(i=u[0])(0):(a=!0,i(1),r(1),n(0)))})):n(s))}),n(Ye(s=>{s===1&&!a?(a=!0,r(1),i(1)):a||r(0)}))}}function Na(e,t){return n=>r=>{var i=Te,a=!1;n(s=>{a||(s===0?(a=!0,r(0)):s.tag===0?(i=s[0],r(s)):e(s[0])?r(s):(a=!0,t&&r(s),r(0),i(1)))})}}function Ro(e){return t=>e()(t)}function Ea(e){return t=>{var n=e[Symbol.asyncIterator](),r=!1,i=!1,a=!1,s;t(Ye(async u=>{if(u===1)r=!0,n.return&&n.return();else if(i)a=!0;else{for(a=i=!0;a&&!r;)if((s=await n.next()).done)r=!0,n.return&&await n.return(),t(0);else try{a=!1,t(Cn(s.value))}catch(l){if(n.throw)(r=!!(await n.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Do(e){return e[Symbol.asyncIterator]?Ea(e):t=>{var n=e[Symbol.iterator](),r=!1,i=!1,a=!1,s;t(Ye(u=>{if(u===1)r=!0,n.return&&n.return();else if(i)a=!0;else{for(a=i=!0;a&&!r;)if((s=n.next()).done)r=!0,n.return&&n.return(),t(0);else try{a=!1,t(Cn(s.value))}catch(l){if(n.throw)(r=!!n.throw(l).done)&&t(0);else throw l}i=!1}}))}}var Co=Do;function En(e){return t=>{var n=!1;t(Ye(r=>{r===1?n=!0:n||(n=!0,t(Cn(e)),t(0))}))}}function fi(e){return t=>{var n=!1,r=e({next(i){n||t(Cn(i))},complete(){n||(n=!0,t(0))}});t(Ye(i=>{i===1&&!n&&(n=!0,r())}))}}function Ci(){var e,t;return{source:xn(fi(n=>(e=n.next,t=n.complete,li))),next(n){e&&e(n)},complete(){t&&t()}}}function Fi(e){return fi(t=>(e.then(n=>{Promise.resolve(n).then(()=>{t.next(n),t.complete()})}),li))}function Ut(e){return t=>{var n=Te,r=!1;return t(i=>{i===0?r=!0:i.tag===0?(n=i[0])(0):r||(e(i[0]),n(0))}),{unsubscribe(){r||(r=!0,n(1))}}}}function Fo(e){Ut(t=>{})(e)}var Cr={done:!0},jo=e=>({[Symbol.asyncIterator](){var t=[],n=!1,r=Te,i;return e(a=>{n||(a===0?(i&&(i=i(Cr)),n=!0):a.tag===0?(r=a[0])(0):i?i=i({value:a[0],done:!1}):t.push(a[0]))}),{async next(){return n&&!t.length?Cr:(!n&&t.length<=1&&r(0),t.length?{value:t.shift(),done:!1}:new Promise(a=>i=a))},async return(){return n||(i=r(1)),n=!0,Cr}}}});function rr(e){return new Promise(t=>{var n=Te,r;e(i=>{i===0?Promise.resolve(r).then(t):i.tag===0?(n=i[0])(0):(r=i[0],n(0))})})}var pi=(...e)=>{for(var t=e[0],n=1,r=e.length;n<r;n++)t=e[n](t);return t},Wt={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};let Pn=class extends Error{constructor(t,n,r,i,a,s,u){super(t),this.name="GraphQLError",this.message=t,a&&(this.path=a),n&&(this.nodes=Array.isArray(n)?n:[n]),r&&(this.source=r),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var d=s.extensions;d&&typeof d=="object"&&(l=d)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}};var X,j;function se(e){return new Pn(`Syntax Error: Unexpected token at ${j} in ${e}`)}function De(e){if(e.lastIndex=j,e.test(X))return X.slice(j,j=e.lastIndex)}var Vn=/ +(?=[^\s])/y;function $o(e){for(var t=e.split(`
`),n="",r=0,i=0,a=t.length-1,s=0;s<t.length;s++)Vn.lastIndex=0,Vn.test(t[s])&&(s&&(!r||Vn.lastIndex<r)&&(r=Vn.lastIndex),i=i||s,a=s);for(var u=i;u<=a;u++)u!==i&&(n+=`
`),n+=t[u].slice(r).replace(/\\"""/g,'"""');return n}function M(){for(var e=0|X.charCodeAt(j++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|X.charCodeAt(j++))if(e===35)for(;(e=X.charCodeAt(j++))!==10&&e!==13;);j--}var Oa=/[_A-Za-z]\w*/y;function st(){var e;if(e=De(Oa))return{kind:"Name",value:e}}var Mo=/(?:null|true|false)/y,Aa=/\$[_A-Za-z]\w*/y,Lo=/-?\d+/y,Vo=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Uo=/\\/g,Bo=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,qo=/"(?:"|[^\r\n]*?[^\\]")/y;function Xn(e){var t,n;if(n=De(Mo))t=n==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:n==="true"};else if(!e&&(n=De(Aa)))t={kind:"Variable",name:{kind:"Name",value:n.slice(1)}};else if(n=De(Lo)){var r=n;(n=De(Vo))?t={kind:"FloatValue",value:r+n}:t={kind:"IntValue",value:r}}else if(n=De(Oa))t={kind:"EnumValue",value:n};else if(n=De(Bo))t={kind:"StringValue",value:$o(n.slice(3,-3)),block:!0};else if(n=De(qo))t={kind:"StringValue",value:Uo.test(n)?JSON.parse(n):n.slice(1,-1),block:!1};else if(t=function(a){var s;if(X.charCodeAt(j)===91){j++,M();for(var u=[];s=Xn(a);)u.push(s);if(X.charCodeAt(j++)!==93)throw se("ListValue");return M(),{kind:"ListValue",values:u}}}(e)||function(a){if(X.charCodeAt(j)===123){j++,M();for(var s=[],u;u=st();){if(M(),X.charCodeAt(j++)!==58)throw se("ObjectField");M();var l=Xn(a);if(!l)throw se("ObjectField");s.push({kind:"ObjectField",name:u,value:l})}if(X.charCodeAt(j++)!==125)throw se("ObjectValue");return M(),{kind:"ObjectValue",fields:s}}}(e))return t;return M(),t}function Ta(e){var t=[];if(M(),X.charCodeAt(j)===40){j++,M();for(var n;n=st();){if(M(),X.charCodeAt(j++)!==58)throw se("Argument");M();var r=Xn(e);if(!r)throw se("Argument");t.push({kind:"Argument",name:n,value:r})}if(!t.length||X.charCodeAt(j++)!==41)throw se("Argument");M()}return t}function Ht(e){var t=[];for(M();X.charCodeAt(j)===64;){j++;var n=st();if(!n)throw se("Directive");M(),t.push({kind:"Directive",name:n,arguments:Ta(e)})}return t}function Go(){var e=st();if(e){M();var t;if(X.charCodeAt(j)===58){if(j++,M(),t=e,!(e=st()))throw se("Field");M()}return{kind:"Field",alias:t,name:e,arguments:Ta(!1),directives:Ht(!1),selectionSet:ir()}}}function ka(){var e;if(M(),X.charCodeAt(j)===91){j++,M();var t=ka();if(!t||X.charCodeAt(j++)!==93)throw se("ListType");e={kind:"ListType",type:t}}else if(e=st())e={kind:"NamedType",name:e};else throw se("NamedType");return M(),X.charCodeAt(j)===33?(j++,M(),{kind:"NonNullType",type:e}):e}var zo=/on/y;function _a(){if(De(zo)){M();var e=st();if(!e)throw se("NamedType");return M(),{kind:"NamedType",name:e}}}var Wo=/\.\.\./y;function Qo(){if(De(Wo)){M();var e=j,t;if((t=st())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:Ht(!1)};j=e;var n=_a(),r=Ht(!1),i=ir();if(!i)throw se("InlineFragment");return{kind:"InlineFragment",typeCondition:n,directives:r,selectionSet:i}}}function ir(){var e;if(M(),X.charCodeAt(j)===123){j++,M();for(var t=[];e=Qo()||Go();)t.push(e);if(!t.length||X.charCodeAt(j++)!==125)throw se("SelectionSet");return M(),{kind:"SelectionSet",selections:t}}}var Jo=/fragment/y;function Yo(){if(De(Jo)){M();var e=st();if(!e)throw se("FragmentDefinition");M();var t=_a();if(!t)throw se("FragmentDefinition");var n=Ht(!1),r=ir();if(!r)throw se("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:n,selectionSet:r}}}var Ho=/(?:query|mutation|subscription)/y;function Ko(){var e,t,n=[],r=[];(e=De(Ho))&&(M(),t=st(),n=function(){var s,u=[];if(M(),X.charCodeAt(j)===40){for(j++,M();s=De(Aa);){if(M(),X.charCodeAt(j++)!==58)throw se("VariableDefinition");var l=ka(),d=void 0;if(X.charCodeAt(j)===61&&(j++,M(),!(d=Xn(!0))))throw se("VariableDefinition");M(),u.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:l,defaultValue:d,directives:Ht(!0)})}if(X.charCodeAt(j++)!==41)throw se("VariableDefinition");M()}return u}(),r=Ht(!1));var i=ir();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:n,directives:r,selectionSet:i}}function Xo(e,t){return X=typeof e.body=="string"?e.body:e,j=0,function(){var r;M();for(var i=[];r=Yo()||Ko();)i.push(r);return{kind:"Document",definitions:i}}()}function Zo(e){return JSON.stringify(e)}function es(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var $e=e=>!(!e||!e.length),be={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!$e(e.variableDefinitions)&&!$e(e.directives))return be.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),$e(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(be.VariableDefinition).join(", ")+")"),$e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),t+" "+be.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=be.Variable(e.variable)+": "+Me(e.type);return e.defaultValue&&(t+=" = "+Me(e.defaultValue)),$e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if($e(e.arguments)){var n=e.arguments.map(be.Argument),r=t+"("+n.join(", ")+")";t=r.length>80?t+`(
  `+n.join(`
`).replace(/\n/g,`
  `)+`
)`:r}return $e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),e.selectionSet?t+" "+be.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?es(e.value):Zo(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Me).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(be.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Me(e.value),Document:e=>$e(e.definitions)?e.definitions.map(Me).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Me).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Me(e.value),FragmentSpread(e){var t="..."+e.name.value;return $e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),$e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),t+" "+Me(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,$e(e.directives)&&(t+=" "+e.directives.map(be.Directive).join(" ")),t+" "+Me(e.selectionSet)},Directive(e){var t="@"+e.name.value;return $e(e.arguments)&&(t+="("+e.arguments.map(be.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Me(e.type)+"]",NonNullType:e=>Me(e.type)+"!"};function Me(e){return be[e.kind]?be[e.kind](e):""}var ts=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new Pn(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Pn(e);class jn extends Error{constructor(t){var n=(t.graphQLErrors||[]).map(ts),r=((i,a)=>{var s="";if(i)return`[Network] ${i.message}`;if(a)for(var u of a)s&&(s+=`
`),s+=`[GraphQL] ${u.message}`;return s})(t.networkError,n);super(r),this.name="CombinedError",this.message=r,this.graphQLErrors=n,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var qr=(e,t)=>{for(var n=0|(t||5381),r=0,i=0|e.length;r<i;r++)n=(n<<5)+n+e.charCodeAt(r);return n},Lt=new Set,ji=new WeakMap,Gt=e=>{if(e===null||Lt.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return Gt(e.toJSON());if(Array.isArray(e)){var t="[";for(var n of e)t.length>1&&(t+=","),t+=Gt(n)||"null";return t+="]"}else if(er!==Kt&&e instanceof er||tr!==Kt&&e instanceof tr)return"null";var r=Object.keys(e).sort();if(!r.length&&e.constructor&&e.constructor!==Object){var i=ji.get(e)||Math.random().toString(36).slice(2);return ji.set(e,i),Gt({__key:i})}Lt.add(e);var a="{";for(var s of r){var u=Gt(e[s]);u&&(a.length>1&&(a+=","),a+=Gt(s)+":"+u)}return Lt.delete(e),a+="}"},Gr=(e,t,n)=>{if(!(n==null||typeof n!="object"||n.toJSON||Lt.has(n)))if(Array.isArray(n))for(var r=0,i=n.length;r<i;r++)Gr(e,`${t}.${r}`,n[r]);else if(n instanceof er||n instanceof tr)e.set(t,n);else{Lt.add(n);for(var a of Object.keys(n))Gr(e,`${t}.${a}`,n[a])}},Zn=e=>(Lt.clear(),Gt(e));class Kt{}var er=typeof File<"u"?File:Kt,tr=typeof Blob<"u"?Blob:Kt,ns=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,rs=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,is=(e,t)=>t%2==0?e.replace(rs,`
`):e,$i=e=>e.split(ns).map(is).join("").trim(),Mi=new Map,Qn=new Map,hi=e=>{var t;return typeof e=="string"?t=$i(e):e.loc&&Qn.get(e.__key)===e?t=e.loc.source.body:(t=Mi.get(e)||$i(Me(e)),Mi.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},Li=e=>{var t=qr(hi(e));if(e.definitions){var n=Pa(e);n&&(t=qr(`
# ${n}`,t))}return t},xa=e=>{var t,n;return typeof e=="string"?(t=Li(e),n=Qn.get(t)||Xo(e)):(t=e.__key||Li(e),n=Qn.get(t)||e),n.loc||hi(n),n.__key=t,Qn.set(t,n),n},On=(e,t,n)=>{var r=t||{},i=xa(e),a=Zn(r),s=i.__key;return a!=="{}"&&(s=qr(a,s)),{key:s,query:i,variables:r,extensions:n}},Pa=e=>{for(var t of e.definitions)if(t.kind===Wt.OPERATION_DEFINITION)return t.name?t.name.value:void 0},as=e=>{for(var t of e.definitions)if(t.kind===Wt.OPERATION_DEFINITION)return t.operation},zr=(e,t,n)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var r=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new jn({graphQLErrors:t.errors,response:n}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?r:t.hasNext,stale:!1}},Wr=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var n of Object.keys(t))e[n]=Wr(e[n],t[n]);return e}return t},Qr=(e,t,n)=>{var r=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,a={...e.extensions,...t.extensions},s=t.incremental;"path"in t&&(s=[t]);var u={data:e.data};if(s)for(var l of s){Array.isArray(l.errors)&&r.push(...l.errors),l.extensions&&(Object.assign(a,l.extensions),i=!0);for(var d="data",c=u,p=0,m=l.path.length;p<m;d=l.path[p++])c=c[d]=Array.isArray(c[d])?[...c[d]]:{...c[d]};if(l.items)for(var y=+d>=0?d:0,g=0,E=l.items.length;g<E;g++)c[y+g]=Wr(c[y+g],l.items[g]);else l.data!==void 0&&(c[d]=Wr(c[d],l.data))}else u.data=t.data||e.data,r=t.errors||r;return{operation:e.operation,data:u.data,error:r.length?new jn({graphQLErrors:r,response:n}):void 0,extensions:i?a:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},Ra=(e,t,n)=>({operation:e,data:void 0,error:new jn({networkError:t,response:n}),extensions:void 0,hasNext:!1,stale:!1});function Da(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:hi(e.query),operationName:Pa(e.query),variables:e.variables||void 0,extensions:e.extensions}}var os=(e,t)=>{var n=e.kind==="query"&&e.context.preferGetMethod;if(!n||!t)return e.context.url;var r=new URL(e.context.url);for(var i in t){var a=t[i];a&&r.searchParams.set(i,typeof a=="object"?Zn(a):a)}var s=r.toString();return s.length>2047&&n!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},ss=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var n=Zn(t),r=(u=>{var l=new Map;return(er!==Kt||tr!==Kt)&&(Lt.clear(),Gr(l,"variables",u)),l})(t.variables);if(r.size){var i=new FormData;i.append("operations",n),i.append("map",Zn({...[...r.keys()].map(u=>[u])}));var a=0;for(var s of r.values())i.append(""+a++,s);return i}return n}},us=(e,t)=>{var n={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},r=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(r.headers)for(var i in r.headers)n[i.toLowerCase()]=r.headers[i];var a=ss(e,t);return typeof a=="string"&&!n["content-type"]&&(n["content-type"]="application/json"),{...r,method:a?"POST":"GET",body:a,headers:n}},ls=typeof TextDecoder<"u"?new TextDecoder:null,cs=/boundary="?([^=";]+)"?/i,ds=/data: ?([^\n]+)/,Vi=e=>e.constructor.name==="Buffer"?e.toString():ls.decode(e);async function*Ui(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield Vi(t);else{var n=e.body.getReader(),r;try{for(;!(r=await n.read()).done;)yield Vi(r.value)}finally{n.cancel()}}}async function*Bi(e,t){var n="",r;for await(var i of e)for(n+=i;(r=n.indexOf(t))>-1;)yield n.slice(0,r),n=n.slice(r+t.length)}async function*fs(e,t,n){var r=!0,i=null,a;try{yield await Promise.resolve();var s=(a=await(e.context.fetch||fetch)(t,n)).headers.get("Content-Type")||"",u;if(/multipart\/mixed/i.test(s))u=async function*(c,p){var m=c.match(cs),y="--"+(m?m[1]:"-"),g=!0,E;for await(var P of Bi(Ui(p),`\r
`+y)){if(g){g=!1;var x=P.indexOf(y);if(x>-1)P=P.slice(x+y.length);else continue}try{yield E=JSON.parse(P.slice(P.indexOf(`\r
\r
`)+4))}catch(w){if(!E)throw w}if(E&&E.hasNext===!1)break}E&&E.hasNext!==!1&&(yield{hasNext:!1})}(s,a);else if(/text\/event-stream/i.test(s))u=async function*(c){var p;for await(var m of Bi(Ui(c),`

`)){var y=m.match(ds);if(y){var g=y[1];try{yield p=JSON.parse(g)}catch(E){if(!p)throw E}if(p&&p.hasNext===!1)break}}p&&p.hasNext!==!1&&(yield{hasNext:!1})}(a);else if(!/text\//i.test(s))u=async function*(c){yield JSON.parse(await c.text())}(a);else throw new Error(await a.text());for await(var l of u)i=i?Qr(i,l,a):zr(e,l,a),r=!1,yield i,r=!0;i||(yield i=zr(e,{},a))}catch(d){if(!r)throw d;yield Ra(e,a&&(a.status<200||a.status>=300)&&a.statusText?new Error(a.statusText):d,a)}}function ps(e,t,n){var r;return typeof AbortController<"u"&&(n.signal=(r=new AbortController).signal),ci(()=>{r&&r.abort()})(oe(i=>!!i)(Ea(fs(e,t,n))))}var Jr=(e,t)=>{if(Array.isArray(e))for(var n of e)Jr(n,t);else if(typeof e=="object"&&e!==null)for(var r in e)r==="__typename"&&typeof e[r]=="string"?t.add(e[r]):Jr(e[r],t);return t},Yr=e=>{var t=!1;if("definitions"in e){var n=[];for(var r of e.definitions){var i=Yr(r);t=t||i!==r,n.push(i)}if(t)return{...e,definitions:n}}else if("selectionSet"in e){var a=[],s=e.kind===Wt.OPERATION_DEFINITION;if(e.selectionSet){for(var u of e.selectionSet.selections||[]){s=s||u.kind===Wt.FIELD&&u.name.value==="__typename"&&!u.alias;var l=Yr(u);t=t||l!==u,a.push(l)}if(s||(t=!0,a.push({kind:Wt.FIELD,name:{kind:Wt.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:a}}}}return e},qi=new Map,hs=e=>{var t=xa(e),n=qi.get(t.__key);return n||(qi.set(t.__key,n=Yr(t)),Object.defineProperty(n,"__key",{value:t.__key,enumerable:!1})),n},Hr=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Hr(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var n={};for(var r in e)r==="__typename"?Object.defineProperty(n,"__typename",{enumerable:!1,value:e.__typename}):n[r]=Hr(e[r]);return n}else return e};function Gi(e){var t=n=>e(n);return t.toPromise=()=>rr(Fn(1)(oe(n=>!n.stale&&!n.hasNext)(t))),t.then=(n,r)=>t.toPromise().then(n,r),t.subscribe=n=>Ut(n)(t),t}function Xt(e,t,n){return{...t,kind:e,context:t.context?{...t.context,...n}:n||t.context}}var zi=(e,t)=>Xt(e.kind,e,{meta:{...e.context.meta,...t}}),ms=()=>{},Fr=({kind:e})=>e!=="mutation"&&e!=="query",ys=({forward:e,client:t,dispatchDebug:n})=>{var r=new Map,i=new Map,a=u=>{var l=Xt(u.kind,u);return l.query=hs(u.query),l},s=u=>u.kind==="query"&&u.context.requestPolicy!=="network-only"&&(u.context.requestPolicy==="cache-only"||r.has(u.key));return u=>{var l=Qt(c=>{var p=r.get(c.key);process.env.NODE_ENV!=="production"&&n({operation:c,...p?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var m=p;return process.env.NODE_ENV!=="production"&&(m={...m,operation:process.env.NODE_ENV!=="production"?zi(c,{cacheOutcome:p?"hit":"miss"}):c}),c.context.requestPolicy==="cache-and-network"&&(m.stale=!0,Wi(t,c)),m})(oe(c=>!Fr(c)&&s(c))(u)),d=Vt(c=>{var{operation:p}=c;if(p){var m=p.context.additionalTypenames||[];if(c.operation.kind!=="subscription"&&(m=(S=>[...Jr(S,new Set)])(c.data).concat(m)),c.operation.kind==="mutation"||c.operation.kind==="subscription"){var y=new Set;process.env.NODE_ENV!=="production"&&n({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${m}`,operation:p,data:{typenames:m,response:c},source:"cacheExchange"});for(var g=0;g<m.length;g++){var E=m[g],P=i.get(E);P||i.set(E,P=new Set);for(var x of P.values())y.add(x);P.clear()}for(var w of y.values())r.has(w)&&(p=r.get(w).operation,r.delete(w),Wi(t,p))}else if(p.kind==="query"&&c.data){r.set(p.key,c);for(var C=0;C<m.length;C++){var b=m[C],T=i.get(b);T||i.set(b,T=new Set),T.add(p.key)}}}})(e(oe(c=>c.kind!=="query"||c.context.requestPolicy!=="cache-only")(Qt(c=>process.env.NODE_ENV!=="production"?zi(c,{cacheOutcome:"miss"}):c)(Yt([Qt(a)(oe(c=>!Fr(c)&&!s(c))(u)),oe(c=>Fr(c))(u)])))));return Yt([l,d])}},Wi=(e,t)=>e.reexecuteOperation(Xt(t.kind,t,{requestPolicy:"network-only"})),jr=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:n})=>({client:r,forward:i})=>{var a=n||(s=>s.kind==="subscription"||!!t&&(s.kind==="query"||s.kind==="mutation"));return s=>{var u=_n(d=>{var{key:c}=d,p=oe(m=>m.kind==="teardown"&&m.key===c)(s);return di(p)((m=>{var y=e(Da(m),m);return fi(({next:g,complete:E})=>{var P=!1,x,w;return Promise.resolve().then(()=>{P||(x=y.subscribe({next(C){g(w=w?Qr(w,C):zr(m,C))},error(C){g(Ra(m,C))},complete(){P||(P=!0,m.kind==="subscription"&&r.reexecuteOperation(Xt("teardown",m,m.context)),w&&w.hasNext&&g(Qr(w,{hasNext:!1})),E())}}))}),()=>{P=!0,x&&x.unsubscribe()}})})(d))})(oe(d=>d.kind!=="teardown"&&a(d))(s)),l=i(oe(d=>d.kind==="teardown"||!a(d))(s));return Yt([u,l])}},gs=({forward:e,dispatchDebug:t})=>n=>{var r=_n(a=>{var s=Da(a),u=os(a,s),l=us(a,s);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:a,data:{url:u,fetchOptions:l},source:"fetchExchange"});var d=di(oe(c=>c.kind==="teardown"&&c.key===a.key)(n))(ps(a,u,l));return process.env.NODE_ENV!=="production"?Vt(c=>{var p=c.data?void 0:c.error;process.env.NODE_ENV!=="production"&&t({type:p?"fetchError":"fetchSuccess",message:`A ${p?"failed":"successful"} fetch response has been returned.`,operation:a,data:{url:u,fetchOptions:l,value:p||c},source:"fetchExchange"})})(d):d})(oe(a=>a.kind!=="teardown"&&(a.kind!=="subscription"||!!a.context.fetchSubscriptions))(n)),i=e(oe(a=>a.kind==="teardown"||a.kind==="subscription"&&!a.context.fetchSubscriptions)(n));return Yt([r,i])},bs=e=>({client:t,forward:n,dispatchDebug:r})=>e.reduceRight((i,a)=>{var s=!1;return a({client:t,forward(u){if(process.env.NODE_ENV!=="production"){if(s)throw new Error("forward() must only be called once in each Exchange.");s=!0}return xn(i(xn(u)))},dispatchDebug(u){process.env.NODE_ENV!=="production"&&r({timestamp:Date.now(),source:a.name,...u})}})},n),Ca=({onOperation:e,onResult:t,onError:n})=>({forward:r})=>i=>_n(a=>{n&&a.error&&n(a.error,a.operation);var s=t&&t(a)||a;return"then"in s?Fi(s):En(s)})(r(_n(a=>{var s=e&&e(a)||a;return"then"in s?Fi(s):En(s)})(i))),vs=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=Vt(n=>{if(n.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var r=`No exchange has handled operations of kind "${n.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:r,operation:n,source:"fallbackExchange"}),console.warn(r)}})(t)),oe(n=>!1)(t)),Qi=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var n=0,r=new Map,i=new Map,a=new Set,s=[],u={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=Ci();function d(b){(b.kind==="mutation"||b.kind==="teardown"||!a.has(b.key))&&(b.kind==="teardown"?a.delete(b.key):b.kind!=="mutation"&&a.add(b.key),l.next(b))}var c=!1;function p(b){if(b&&d(b),!c){for(c=!0;c&&(b=s.shift());)d(b);c=!1}}var m=b=>{var T=di(oe(S=>S.kind==="teardown"&&S.key===b.key)(l.source))(oe(S=>S.operation.kind===b.kind&&S.operation.key===b.key&&(!S.operation.context._instance||S.operation.context._instance===b.context._instance))(C));return b.kind!=="query"?T=Na(S=>!!S.hasNext,!0)(T):T=Di(S=>{var V=En(S);return S.stale||S.hasNext?V:Yt([V,Qt(()=>(S.stale=!0,S))(Fn(1)(oe(Ce=>Ce.key===b.key)(l.source)))])})(T),b.kind!=="mutation"?T=ci(()=>{a.delete(b.key),r.delete(b.key),i.delete(b.key),c=!1;for(var S=s.length-1;S>=0;S--)s[S].key===b.key&&s.splice(S,1);d(Xt("teardown",b,b.context))})(Vt(S=>{if(S.stale){for(var V of s)if(V.key===S.operation.key){a.delete(V.key);break}}else S.hasNext||a.delete(b.key);r.set(b.key,S)})(T)):T=Ri(()=>{d(b)})(T),t.maskTypename&&(T=Qt(S=>({...S,data:Hr(S.data,!0)}))(T)),xn(T)},y=this instanceof e?this:Object.create(e.prototype),g=Object.assign(y,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(b){b.kind==="teardown"?p(b):(b.kind==="mutation"||i.has(b.key))&&(s.push(b),Promise.resolve().then(p))},createRequestOperation(b,T,S){S||(S={});var V;if(process.env.NODE_ENV!=="production"&&b!=="teardown"&&(V=as(T.query))!==b)throw new Error(`Expected operation of type "${b}" but found "${V}"`);return Xt(b,T,{_instance:b==="mutation"?n=n+1|0:void 0,...u,...S,requestPolicy:S.requestPolicy||u.requestPolicy,suspense:S.suspense||S.suspense!==!1&&g.suspense})},executeRequestOperation(b){return b.kind==="mutation"?Gi(m(b)):Gi(Ro(()=>{var T=i.get(b.key);T||i.set(b.key,T=m(b)),T=Ri(()=>{p(b)})(T);var S=r.get(b.key);return b.kind==="query"&&S&&(S.stale||S.hasNext)?Di(En)(Yt([T,oe(V=>V===r.get(b.key))(En(S))])):T}))},executeQuery(b,T){var S=g.createRequestOperation("query",b,T);return g.executeRequestOperation(S)},executeSubscription(b,T){var S=g.createRequestOperation("subscription",b,T);return g.executeRequestOperation(S)},executeMutation(b,T){var S=g.createRequestOperation("mutation",b,T);return g.executeRequestOperation(S)},readQuery(b,T,S){var V=null;return Ut(Ce=>{V=Ce})(g.query(b,T,S)).unsubscribe(),V},query:(b,T,S)=>g.executeQuery(On(b,T),S),subscription:(b,T,S)=>g.executeSubscription(On(b,T),S),mutation:(b,T,S)=>g.executeMutation(On(b,T),S)}),E=ms;if(process.env.NODE_ENV!=="production"){var{next:P,source:x}=Ci();g.subscribeToDebugTarget=b=>Ut(b)(x),E=P}var w=bs(t.exchanges),C=xn(w({client:g,dispatchDebug:E,forward:vs({dispatchDebug:E})})(l.source));return Fo(C),g};const Ss={DateTime(e){return new Date(e)}};class Is{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(n=>this.hydrateObject(n)):this.hydrateObject(t)}hydrateObject(t){const n={...t};for(const[r,i]of Object.entries(this.plan)){const a=n[r];a!=null&&(n[r]=Ss[i](a))}return n}}function Ee(e){if(typeof e!="object")return e;var t,n,r=Object.prototype.toString.call(e);if(r==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){n=new e.constructor;for(t in e)e.hasOwnProperty(t)&&n[t]!==e[t]&&(n[t]=Ee(e[t]))}else{n={};for(t in e)t==="__proto__"?Object.defineProperty(n,t,{value:Ee(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=Ee(e[t])}return n}if(r==="[object Array]"){for(t=e.length,n=Array(t);t--;)n[t]=Ee(e[t]);return n}return r==="[object Set]"?(n=new Set,e.forEach(function(i){n.add(Ee(i))}),n):r==="[object Map]"?(n=new Map,e.forEach(function(i,a){n.set(Ee(a),Ee(i))}),n):r==="[object Date]"?new Date(+e):r==="[object RegExp]"?(n=new RegExp(e.source,e.flags),n.lastIndex=e.lastIndex,n):r==="[object DataView]"?new e.constructor(Ee(e.buffer)):r==="[object ArrayBuffer]"?e.slice(0):r.slice(-6)==="Array]"?new e.constructor(e):e}var ve;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(ve||(ve={}));class ws{constructor(t){Object.defineProperty(this,"__gadget",{enumerable:!0,configurable:!0,writable:!0,value:{fields:{},instantiatedFields:{},persistedFields:{},fieldKeys:[],fieldKeysTracker:{},touched:!1}}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.__gadget.instantiatedFields=Ee(t),this.__gadget.persistedFields=Ee(t),Object.assign(this.__gadget.fields,t),!t||Object.keys(t).length===0?this.empty=!0:(this.__gadget.fieldKeys=Object.keys(this.__gadget.fields),this.__gadget.fieldKeys.forEach(r=>this.__gadget.fieldKeysTracker[r]=!0));const n={get:(r,i)=>{if(i in this)return this[i];if(i in r)return r[i]},set:(r,i,a)=>(this.trackKey(i),r[i.toString()]=a,!0)};return new Proxy(this.__gadget.fields,n)}trackKey(t){const n=t.toString();this.__gadget.fieldKeysTracker[n]||(this.__gadget.fieldKeysTracker[n]=!0,this.__gadget.fieldKeys.push(n))}hasChanges(t=ve.SinceLoaded){if(this.__gadget.touched)return!0;const n=t==ve.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;return this.__gadget.fieldKeys.some(r=>!Un(n[r],this.__gadget.fields[r]))}isEmpty(){return this.empty}getField(t){return this.__gadget.fields[t]}setField(t,n){return this.trackKey(t),this.__gadget.fields[t]=n}changes(t,n=ve.SinceLoaded){const i=(typeof t=="string"?n:t||n)==ve.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields;if(t&&typeof t=="string"){const a=i[t],s=this.__gadget.fields[t],u=!Un(s,a);return u?{changed:u,current:s,previous:a}:{changed:u}}else{const a={};for(let s=0;s<this.__gadget.fieldKeys.length;s++){const u=this.__gadget.fieldKeys[s];Un(i[u],this.__gadget.fields[u])||(a[u]={current:this.__gadget.fields[u],previous:i[u]})}return a}}toChangedJSON(t=ve.SinceLoaded){const n=t==ve.SinceLoaded?this.__gadget.instantiatedFields:this.__gadget.persistedFields,r={};for(let i=0;i<this.__gadget.fieldKeys.length;i++){const a=this.__gadget.fieldKeys[i];Un(n[a],this.__gadget.fields[a])||(r[a]=this.__gadget.fields[a])}return r}changed(t,n=ve.SinceLoaded){return t&&typeof t=="string"?this.changes(t,n).changed:this.hasChanges(t===void 0?n:t)}flushChanges(t=ve.SinceLoaded){t==ve.SinceLoaded?this.__gadget.instantiatedFields=Ee(this.__gadget.fields):t==ve.SinceLastPersisted&&(this.__gadget.persistedFields=Ee(this.__gadget.fields)),this.__gadget.touched=!1}revertChanges(t=ve.SinceLoaded){let n;t==ve.SinceLoaded?n=Object.keys(this.__gadget.instantiatedFields):n=Object.keys(this.__gadget.persistedFields);for(const r of this.__gadget.fieldKeys)n.includes(r)||delete this.__gadget.fields[r];t==ve.SinceLoaded?Object.assign(this.__gadget.fields,Ee(this.__gadget.instantiatedFields)):Object.assign(this.__gadget.fields,Ee(this.__gadget.persistedFields)),this.__gadget.touched=!1}toJSON(){return ei({...this.__gadget.fields})}touch(){this.__gadget.touched=!0}}const Fa=ws;class ja extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Kr extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class ar extends Error{constructor(t,n){super(t.startsWith("GGT_")?t:`${n}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:n})}}class Ji extends Error{constructor(t){let n;Zr(t)?n=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:n="GraphQL websocket closed unexpectedly by the server",super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class Ns extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Es extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Os extends Error{constructor(t,n,r,i){const a=n.slice(0,3),s=n.length>3?`, and ${n.length-3} more error${n.length>4?"s":""} need${n.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${r??"Record"} is invalid and can't be saved. ${a.map(({apiIdentifier:u,message:l})=>`${u} ${l}`).join(", ")}${s}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=n,this.modelApiIdentifier=r,this.record=i}}class $a extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class mi extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class As extends Error{constructor(t,n){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var n;return(n=t.code)!==null&&n!==void 0?n:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var n;return(n=t.statusCode)!==null&&n!==void 0?n:500}))}}function Xr(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const Zt=(e,t)=>{const n=t.length;let r=0;for(;e!=null&&r<n;)e=e[t[r++]];return r&&r==n?e:void 0},Zr=e=>(e==null?void 0:e.type)=="close",Je=(e,t)=>typeof e!="string"?"":Bt(e,t),Yi=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bt=(e,t=!0)=>{let n=""+e;return t?n=n.replace(/^[a-z\d]*/,r=>Yi(r)):n=n.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),r=>r.toLowerCase()),n=n.replace(/(?:_|(\/))([a-z\d]*)/gi,(r,i,a,s,u)=>(i||(i=""),""+i+Yi(a))),n},Ts=e=>`${Bt(e)}Sort`,ks=e=>`${Bt(e)}Filter`,_s=(e,t,n)=>new $a(`More than one record found for ${e}.${t} = ${n}. Please confirm your unique validation is not reporting an error.`),xs=(e,t)=>{if(e.fetching)return;const n=Zt(e.data,t);if(n===void 0)return new ja(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(n===null)return new mi(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},ot=(e,t,n=!1)=>{var r;if(e.error)throw e.error instanceof jn&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(u=>"[Network] "+u.message).join(`
`)),e.error;const i=Zt(e.data,t),a=Zt(i,["edges"]),s=a??i;if(i===void 0)throw new ja(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||n&&Array.isArray(s)&&s.length===0)throw new mi(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},An=(e,t)=>{var n;if(e.error)throw e.error instanceof jn&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const r=Zt(e.data,t);return r??null},yi=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new Os(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new $a(e.message):new ar(e.message,e.code)},St=(e,t)=>{const n=ot(e,t);return Ma(n)},Ma=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?yi(t):new ar("Gadget API operation not successful.","GGT_UNKNOWN")}return e},La=e=>{var t,n,r,i;if(!((n=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||n===void 0)&&n.hydrations)return new Is((i=(r=e.data)===null||r===void 0?void 0:r.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},Tn=(e,t)=>{const n=La(e);return n&&(t=n.apply(t)),new Fa(t)},gi=(e,t)=>{const n=La(e);return n&&(t=n.apply(t)),t==null?void 0:t.map(r=>new Fa(r))},Rn=(e,t)=>{const n=t.edges.map(r=>r.node);return gi(e,n)},ei=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t[n]=r===void 0?null:ei(r)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)==="[object Object]"){const t={};for(const n of Object.keys(e)){const r=ei(e[n]);r!==void 0&&(t[n]=r)}return t}}}},$r="gstk",Hi=e=>{try{const t=window[e];return t.setItem($r,$r),t.removeItem($r),!0}catch{return!1}},Ki=Object.prototype.toString,Xi=Object.getPrototypeOf,Zi=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,wn=(e,t,n)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(n.indexOf(e)>-1&&n.indexOf(t)>-1)return!0;const r=Ki.call(e),i=Ki.call(t);let a,s,u;if(n.push(e,t),r!=i||(a=Zi(e),s=Zi(t),a.length!=s.length||a.some(function(l){return!wn(e[l],t[l],n)})))return!1;switch(r.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{a=e.entries(),s=t.entries();do if(u=a.next(),!wn(u.value,s.next().value,n))return!1;while(!u.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(u=0;u<e.length;u++)if(!(!(u in e)&&!(u in t))&&(u in e!=u in t||!wn(e[u],t[u],n)))return!1;return!0;case"Object":return wn(Xi(e),Xi(t),n);default:return!1}},Un=(e,t)=>wn(e,t,[]),Va=(e,t)=>{var n,r;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(a=>{var s;return a!=="id"&&!(!((s=e.paramOnlyVariables)===null||s===void 0)&&s.includes(a))&&a!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((n=e.acceptsModelInput)!==null&&n!==void 0?n:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[a,s]of Object.entries(t))!((r=e.paramOnlyVariables)===null||r===void 0)&&r.includes(a)?i[a]=s:a=="id"?i.id=s:i[e.modelApiIdentifier][a]=s}else i=t;return i},Ps=(e,t={})=>{var n;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((n=Array.isArray(t)?t:t.inputs)!==null&&n!==void 0?n:[]).map(i=>Va(e,i))}},Rs=(e,t)=>{const n={};for(const[r,i]of Object.entries(e))n[r]={...i,value:t[r]};return n};class en extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,n,r){const i=new en;return i.push(...n),i.modelManager=t,i.pagination=r,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new ar("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new Kr("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:n,last:r,before:i,...a}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...a,after:this.pagination.pageInfo.endCursor,first:n||r})}async previousPage(){var t;if(!this.hasPreviousPage)throw new Kr("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:n,last:r,after:i,...a}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...a,before:this.pagination.pageInfo.startCursor,last:r||n})}}const ti=e=>Object.entries(e).flatMap(([t,n])=>{if(typeof n=="boolean")return n?t:!1;if(n instanceof vi){let r="";const i=Object.entries(n.args).filter(([a,s])=>s!=null).map(([a,s])=>{var u;return`${a}: ${s instanceof Si?`$${(u=s.name)!==null&&u!==void 0?u:a}`:JSON.stringify(s)}`});return i.length>0&&(r=`(${i.join(", ")})`),n.subselection?[`${t}${r} {`,...ti(n.subselection),"}"]:`${t}${r}`}else return[`${t} {`,...ti(n),"}"]}).filter(t=>!!t).map(t=>"  "+t),bi=e=>{const t={},n=r=>{let i=1;if(t[r]){for(;t[`${r}${i}`];)i++;return`${r}${i}`}return r};return Object.entries(e).forEach(([r,i])=>{i instanceof vi?Object.entries(i.args).forEach(([a,s])=>{var u;s instanceof Si&&(t[(u=s.name)!==null&&u!==void 0?u:n(a)]=s)}):typeof i=="object"&&i!==null&&Object.assign(t,bi(i))}),t},Ds=e=>{const t=bi(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([r,i])=>`$${r}: ${i.type}`).join(", ")})`};class vi{constructor(t,n){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:n})}}class Si{constructor(t,n,r){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:r})}present(){return this.value!=null}}const Nt=(e,t)=>new vi(e,t),ae=e=>new Si(e.type+(e.required?"!":""),e.name,e.value),Cs=e=>{var t;const n=Ds(e),r=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${n}${r} {
${ti(e.fields).join(`
`)}
}`},Et=e=>{const t=bi(e.fields);return{query:Cs(e),variables:Object.entries(t??{}).reduce((n,[r,i])=>(typeof i.value<"u"&&(n[r]=i.value),n),{})}},Ii=e=>({gadgetMeta:{[`hydrations(modelName: "${e}")`]:!0}}),wi=(e,t=!1)=>{const n={...e};return t&&(n.__typename=!0),n},or=e=>{if(e!=null&&e.live)return["@live"]},Fs=(e,t,n,r,i)=>{const a={};return typeof t<"u"&&(a.id=ae({type:"GadgetID!",value:t})),Et({type:"query",name:e,fields:{[e]:Nt(a,wi((i==null?void 0:i.select)||n,!0)),...Ii(r)},directives:or(i)})},js=(e,t,n,r,i,a)=>Ni(e,r,i,{...a,first:2,filter:{[t]:{equals:n}}}),Ni=(e,t,n,r)=>Et({type:"query",name:e,fields:{[e]:Nt({after:ae({value:r==null?void 0:r.after,type:"String"}),first:ae({value:r==null?void 0:r.first,type:"Int"}),before:ae({value:r==null?void 0:r.before,type:"String"}),last:ae({value:r==null?void 0:r.last,type:"Int"}),sort:r!=null&&r.sort?ae({value:r.sort,type:`[${Ts(n)}!]`}):void 0,filter:r!=null&&r.filter?ae({value:r.filter,type:`[${ks(n)}!]`}):void 0,search:r!=null&&r.search?ae({value:r.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:wi((r==null?void 0:r.select)||t,!0)}}),...Ii(n)},directives:or(r)}),Ua={message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}},Ei=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,ae(n)])),Ba=(e,t,n)=>({success:!0,errors:Ua,[e]:t&&!n?wi(t,!0):!1,result:!!n}),$s=(e,t,n,r,i,a,s,u,l)=>{const d=(a==null?void 0:a.select)||t;let c={[e]:Nt(Ei(i),Ba(r,d,l))};s&&(c={[s]:c});const p={type:"mutation",name:e,fields:{...c,...Ii(n)},directives:or(a)};return Et(p)},Ms=(e,t,n)=>{let r={},i=t.operationName;switch(t.type){case"action":{const s=(n==null?void 0:n.select)||t.defaultSelection;t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),r={[`... on ${`${Bt(i)}Result`}`]:Ba(t.modelApiIdentifier,s,t.hasReturnType)};break}case"globalAction":r={[`... on ${Bt(i)}Result`]:qa()}}const a={type:"subscription",name:Je(i)+"BackgroundResult",fields:{backgroundAction:Nt({id:ae({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...r}})}};return Et(a)},qa=()=>({success:!0,errors:Ua,result:!0}),Ls=(e,t,n,r)=>{let i={[e]:Nt(Ei(t),qa())};return n&&(i={[n]:i}),Et({type:"mutation",name:e,fields:i,directives:or(r)})},Vs=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const n of Object.keys(t))["id","retries","queue","priority","startAt"].includes(n)||delete t[n];return t},Us=(e,t,n,r,i)=>{let a={background:{[e]:Nt({...Ei(t),backgroundOptions:ae({type:"EnqueueBackgroundActionOptions",value:Vs(r)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})}};return n&&(a={[n]:a}),Et({type:"mutation",name:"enqueue"+Bt(e),fields:a})},Bs=(e,t)=>({[Symbol.asyncIterator](){const n=e[Symbol.asyncIterator]();return{async next(){const{done:r,value:i}=await n.next();return{done:r,value:typeof i<"u"?t(i):void 0}},async return(r){var i;return await((i=n.return)===null||i===void 0?void 0:i.call(n,r))}}}});function Oi(e,t,n){return n!=null&&n.live?Bs(jo(e),t):pi(e,oe(i=>!i.stale&&!i.hasNext),Fn(1),rr).then(i=>t(i))}const ea=(e,t,n,r,i,a,s=!0)=>{const u=Fs(t,n,r,i,a),l=e.connection.currentClient.query(u.query,u.variables);return Oi(l,d=>{const p=(s?ot:An)(d,[t]);return Tn(d,p)},a)},qs=(e,t,n,r,i,a,s,u=!0)=>{const l=js(t,n,r,i,a,s),d=e.connection.currentClient.query(l.query,l.variables);return Oi(d,c=>{const p=ot(c,[t]),m=Rn(c,p);if(m.length>1)throw _s(a,n,r);const y=m[0];if(!y&&u)throw new mi(`${a} record with ${n}=${r} not found`);return y??null},s)},ta=(e,t,n,r,i,a)=>{const s=Ni(t,n,r,i),u=e.connection.currentClient.query(s.query,s.variables);return Oi(u,l=>{let d;a===!1?d=An(l,[t]):d=ot(l,[t],a);const c=Rn(l,d);return en.boot(e,c,{options:i,pageInfo:d.pageInfo})},i)},na=async(e,t,n,r,i,a,s,u,l,d)=>{const c=$s(t,n,r,i,s,u,l,a,d),p=await e.connection.currentClient.mutation(c.query,c.variables).toPromise(),m=l?[l,t]:[t];if(a){const y=Zt(p.data,m),g=y[i]&&n?gi(p,y[i]):void 0;if(y.errors){const E=y.errors.map(P=>yi(P));throw new As(E,g)}return g}else{const y=St(p,m);return Ga(n,p,y,i,d)}},Ga=(e,t,n,r,i)=>{if(e!=null)return i?n.result:Tn(t,n[r])},ra=async(e,t,n,r)=>{const i=Ls(t,n,r),a=await e.currentClient.mutation(i.query,i.variables).toPromise();return St(a,r?[r,t]:[t]).result};async function Gs(e,t,n,r={}){const i=t.isBulk?Ps(t,n):Va(t,n),a=Rs(t.variables,i),s=Us(t.operationName,a,t.namespace,r,t.isBulk),u=await e.currentClient.mutation(s.query,s.variables,r).toPromise(),l=["background",t.operationName];t.namespace&&l.unshift(t.namespace);try{const d=St(u,l);return t.isBulk?d.backgroundActions.map(c=>new Jn(e,t,c.id)):new Jn(e,t,d.backgroundAction.id)}catch(d){if("code"in d&&d.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(r!=null&&r.id)&&r.onDuplicateID=="ignore")return new Jn(e,t,r.id);throw d}}const zs=async(e,t,n,r)=>{const i=Ms(t,n,r),a=e.currentClient.subscription(i.query,i.variables),s=await pi(a,oe(l=>{var d,c;return l.error||((c=(d=l.data)===null||d===void 0?void 0:d.backgroundAction)===null||c===void 0?void 0:c.outcome)}),Fn(1),rr),u=ot(s,["backgroundAction"]);switch(Ma(u.result),n.type){case"action":{u.result=Ga(n.defaultSelection,s.data,u.result,n.isBulk?n.modelApiIdentifier:n.modelSelectionField,n.hasReturnType);break}case"globalAction":{u.result=u.result.result;break}}return u};class Jn{constructor(t,n,r){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:r})}async result(t){return(await zs(this.connection,this.id,this.action,t)).result}}var kn;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(kn||(kn={}));function ee(e,t){if(!!!e)throw new Error(t)}function Dn(e){return typeof e=="object"&&e!==null}function za(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const Ws=/\r\n|[\n\r]/g;function ni(e,t){let n=0,r=1;for(const i of e.body.matchAll(Ws)){if(typeof i.index=="number"||za(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function Qs(e){return Wa(e.source,ni(e.source,e.start))}function Wa(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,s=t.line+a,u=t.line===1?n:0,l=t.column+u,d=`${e.name}:${s}:${l}
`,c=r.split(/\r\n|[\n\r]/g),p=c[i];if(p.length>120){const m=Math.floor(l/80),y=l%80,g=[];for(let E=0;E<p.length;E+=80)g.push(p.slice(E,E+80));return d+ia([[`${s} |`,g[0]],...g.slice(1,m+1).map(E=>["|",E]),["|","^".padStart(y)],["|",g[m+1]]])}return d+ia([[`${s-1} |`,c[i-1]],[`${s} |`,p],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function ia(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function Js(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class G extends Error{constructor(t,...n){var r,i,a;const{nodes:s,source:u,positions:l,path:d,originalError:c,extensions:p}=Js(n);super(t),this.name="GraphQLError",this.path=d??void 0,this.originalError=c??void 0,this.nodes=aa(Array.isArray(s)?s:s?[s]:void 0);const m=aa((r=this.nodes)===null||r===void 0?void 0:r.map(g=>g.loc).filter(g=>g!=null));this.source=u??(m==null||(i=m[0])===null||i===void 0?void 0:i.source),this.positions=l??(m==null?void 0:m.map(g=>g.start)),this.locations=l&&u?l.map(g=>ni(u,g)):m==null?void 0:m.map(g=>ni(g.source,g.start));const y=Dn(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(a=p??y)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,G):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Qs(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+Wa(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function aa(e){return e===void 0||e.length===0?void 0:e}const Qa={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ys=new Set(Object.keys(Qa));function oa(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Ys.has(t)}var sa;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(sa||(sa={}));var Ae;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ae||(Ae={}));var Q;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Q||(Q={}));function ua(e){return e===9||e===32}function Hs(e){return e>=48&&e<=57}function Ja(e){return e>=97&&e<=122||e>=65&&e<=90}function Ks(e){return Ja(e)||e===95}function Xs(e){return Ja(e)||Hs(e)||e===95}function Zs(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,a=r.length>1&&r.slice(1).every(y=>y.length===0||ua(y.charCodeAt(0))),s=n.endsWith('\\"""'),u=e.endsWith('"')&&!s,l=e.endsWith("\\"),d=u||l,c=!(t!=null&&t.minimize)&&(!i||e.length>70||d||a||s);let p="";const m=i&&ua(e.charCodeAt(0));return(c&&!m||a)&&(p+=`
`),p+=n,(c||d)&&(p+=`
`),'"""'+p+'"""'}const eu=10,Ya=2;function Y(e){return sr(e,[])}function sr(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return tu(e,t);default:return String(e)}}function tu(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(nu(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:sr(r,n)}else if(Array.isArray(e))return iu(e,n);return ru(e,n)}function nu(e){return typeof e.toJSON=="function"}function ru(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>Ya?"["+au(e)+"]":"{ "+n.map(([i,a])=>i+": "+sr(a,t)).join(", ")+" }"}function iu(e,t){if(e.length===0)return"[]";if(t.length>Ya)return"[Array]";const n=Math.min(eu,e.length),r=e.length-n,i=[];for(let a=0;a<n;++a)i.push(sr(e[a],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function au(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Ot=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var r;const i=n.prototype[Symbol.toStringTag],a=Symbol.toStringTag in t?t[Symbol.toStringTag]:(r=t.constructor)===null||r===void 0?void 0:r.name;if(i===a){const s=Y(t);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1},ou=5;function su(e,t){const[n,r]=t?[e,t]:[void 0,e];let i=" Did you mean ";n&&(i+=n+" ");const a=r.map(l=>`"${l}"`);switch(a.length){case 0:return"";case 1:return i+a[0]+"?";case 2:return i+a[0]+" or "+a[1]+"?"}const s=a.slice(0,ou),u=s.pop();return i+s.join(", ")+", or "+u+"?"}function la(e){return e}function Ai(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}function Ti(e,t,n){const r=Object.create(null);for(const i of e)r[t(i)]=n(i);return r}function ur(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}function uu(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let i=e.charCodeAt(n),a=t.charCodeAt(r);if(Bn(i)&&Bn(a)){let s=0;do++n,s=s*10+i-ri,i=e.charCodeAt(n);while(Bn(i)&&s>0);let u=0;do++r,u=u*10+a-ri,a=t.charCodeAt(r);while(Bn(a)&&u>0);if(s<u)return-1;if(s>u)return 1}else{if(i<a)return-1;if(i>a)return 1;++n,++r}}return e.length-t.length}const ri=48,lu=57;function Bn(e){return!isNaN(e)&&ri<=e&&e<=lu}function cu(e,t){const n=Object.create(null),r=new du(e),i=Math.floor(e.length*.4)+1;for(const a of t){const s=r.measure(a,i);s!==void 0&&(n[a]=s)}return Object.keys(n).sort((a,s)=>{const u=n[a]-n[s];return u!==0?u:uu(a,s)})}class du{constructor(t){this._input=t,this._inputLowerCase=t.toLowerCase(),this._inputArray=ca(this._inputLowerCase),this._rows=[new Array(t.length+1).fill(0),new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)]}measure(t,n){if(this._input===t)return 0;const r=t.toLowerCase();if(this._inputLowerCase===r)return 1;let i=ca(r),a=this._inputArray;if(i.length<a.length){const c=i;i=a,a=c}const s=i.length,u=a.length;if(s-u>n)return;const l=this._rows;for(let c=0;c<=u;c++)l[0][c]=c;for(let c=1;c<=s;c++){const p=l[(c-1)%3],m=l[c%3];let y=m[0]=c;for(let g=1;g<=u;g++){const E=i[c-1]===a[g-1]?0:1;let P=Math.min(p[g]+1,m[g-1]+1,p[g-1]+E);if(c>1&&g>1&&i[c-1]===a[g-2]&&i[c-2]===a[g-1]){const x=l[(c-2)%3][g-2];P=Math.min(P,x+1)}P<y&&(y=P),m[g]=P}if(y>n)return}const d=l[s%3][u];return d<=n?d:void 0}}function ca(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}function He(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}function fu(e){return`"${e.replace(pu,hu)}"`}const pu=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function hu(e){return mu[e.charCodeAt(0)]}const mu=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],yu=Object.freeze({});function gu(e,t,n=Qa){const r=new Map;for(const x of Object.values(Q))r.set(x,bu(t,x));let i,a=Array.isArray(e),s=[e],u=-1,l=[],d=e,c,p;const m=[],y=[];do{u++;const x=u===s.length,w=x&&l.length!==0;if(x){if(c=y.length===0?void 0:m[m.length-1],d=p,p=y.pop(),w)if(a){d=d.slice();let b=0;for(const[T,S]of l){const V=T-b;S===null?(d.splice(V,1),b++):d[V]=S}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(const[b,T]of l)d[b]=T}u=i.index,s=i.keys,l=i.edits,a=i.inArray,i=i.prev}else if(p){if(c=a?u:s[u],d=p[c],d==null)continue;m.push(c)}let C;if(!Array.isArray(d)){var g,E;oa(d)||ee(!1,`Invalid AST Node: ${Y(d)}.`);const b=x?(g=r.get(d.kind))===null||g===void 0?void 0:g.leave:(E=r.get(d.kind))===null||E===void 0?void 0:E.enter;if(C=b==null?void 0:b.call(t,d,c,p,m,y),C===yu)break;if(C===!1){if(!x){m.pop();continue}}else if(C!==void 0&&(l.push([c,C]),!x))if(oa(C))d=C;else{m.pop();continue}}if(C===void 0&&w&&l.push([c,d]),x)m.pop();else{var P;i={inArray:a,index:u,keys:s,edits:l,prev:i},a=Array.isArray(d),s=a?d:(P=n[d.kind])!==null&&P!==void 0?P:[],u=-1,l=[],p&&y.push(p),p=d}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:e}function bu(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function wt(e){return gu(e,Su)}const vu=80,Su={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>A(e.definitions,`

`)},OperationDefinition:{leave(e){const t=L("(",A(e.variableDefinitions,", "),")"),n=A([e.operation,A([e.name,t]),A(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+L(" = ",n)+L(" ",A(r," "))},SelectionSet:{leave:({selections:e})=>Ge(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const a=L("",e,": ")+t;let s=a+L("(",A(n,", "),")");return s.length>vu&&(s=a+L(`(
`,Yn(A(n,`
`)),`
)`)),A([s,A(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+L(" ",A(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>A(["...",L("on ",e),A(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${L("(",A(n,", "),")")} on ${t} ${L("",A(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?Zs(e):fu(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+A(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+A(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+L("(",A(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>L("",e,`
`)+A(["schema",A(t," "),Ge(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>L("",e,`
`)+A(["scalar",t,A(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>L("",e,`
`)+A(["type",t,L("implements ",A(n," & ")),A(r," "),Ge(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>L("",e,`
`)+t+(da(n)?L(`(
`,Yn(A(n,`
`)),`
)`):L("(",A(n,", "),")"))+": "+r+L(" ",A(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>L("",e,`
`)+A([t+": "+n,L("= ",r),A(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>L("",e,`
`)+A(["interface",t,L("implements ",A(n," & ")),A(r," "),Ge(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>L("",e,`
`)+A(["union",t,A(n," "),L("= ",A(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>L("",e,`
`)+A(["enum",t,A(n," "),Ge(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>L("",e,`
`)+A([t,A(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>L("",e,`
`)+A(["input",t,A(n," "),Ge(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>L("",e,`
`)+"directive @"+t+(da(n)?L(`(
`,Yn(A(n,`
`)),`
)`):L("(",A(n,", "),")"))+(r?" repeatable":"")+" on "+A(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>A(["extend schema",A(e," "),Ge(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>A(["extend scalar",e,A(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>A(["extend type",e,L("implements ",A(t," & ")),A(n," "),Ge(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>A(["extend interface",e,L("implements ",A(t," & ")),A(n," "),Ge(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>A(["extend union",e,A(t," "),L("= ",A(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>A(["extend enum",e,A(t," "),Ge(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>A(["extend input",e,A(t," "),Ge(n)]," ")}};function A(e,t=""){var n;return(n=e==null?void 0:e.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function Ge(e){return L(`{
`,Yn(A(e,`
`)),`
}`)}function L(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Yn(e){return L("  ",e.replace(/\n/g,`
  `))}function da(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}function ii(e,t){switch(e.kind){case Q.NULL:return null;case Q.INT:return parseInt(e.value,10);case Q.FLOAT:return parseFloat(e.value);case Q.STRING:case Q.ENUM:case Q.BOOLEAN:return e.value;case Q.LIST:return e.values.map(n=>ii(n,t));case Q.OBJECT:return Ti(e.fields,n=>n.name.value,n=>ii(n.value,t));case Q.VARIABLE:return t==null?void 0:t[e.name.value]}}function Ke(e){if(e!=null||ee(!1,"Must provide name."),typeof e=="string"||ee(!1,"Expected name to be a string."),e.length===0)throw new G("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!Xs(e.charCodeAt(t)))throw new G(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!Ks(e.charCodeAt(0)))throw new G(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function Iu(e){if(e==="true"||e==="false"||e==="null")throw new G(`Enum values cannot be named: ${e}`);return Ke(e)}function Ha(e){return Ka(e)||wu(e)||Nu(e)||Eu(e)||Xa(e)||Za(e)||eo(e)||mt(e)}function Ka(e){return Ot(e,tn)}function wu(e){return Ot(e,ku)}function Nu(e){return Ot(e,_u)}function Eu(e){return Ot(e,xu)}function Xa(e){return Ot(e,Ru)}function Za(e){return Ot(e,Cu)}function eo(e){return Ot(e,Au)}function mt(e){return Ot(e,lr)}function Ou(e){return Ka(e)||Xa(e)}class Au{constructor(t){Ha(t)||ee(!1,`Expected ${Y(t)} to be a GraphQL type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class lr{constructor(t){Tu(t)||ee(!1,`Expected ${Y(t)} to be a GraphQL nullable type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Tu(e){return Ha(e)&&!mt(e)}function to(e){return typeof e=="function"?e():e}function no(e){return typeof e=="function"?e():e}class tn{constructor(t){var n,r,i,a;const s=(n=t.parseValue)!==null&&n!==void 0?n:la;this.name=Ke(t.name),this.description=t.description,this.specifiedByURL=t.specifiedByURL,this.serialize=(r=t.serialize)!==null&&r!==void 0?r:la,this.parseValue=s,this.parseLiteral=(i=t.parseLiteral)!==null&&i!==void 0?i:(u,l)=>s(ii(u,l)),this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(a=t.extensionASTNodes)!==null&&a!==void 0?a:[],t.specifiedByURL==null||typeof t.specifiedByURL=="string"||ee(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${Y(t.specifiedByURL)}.`),t.serialize==null||typeof t.serialize=="function"||ee(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),t.parseLiteral&&(typeof t.parseValue=="function"&&typeof t.parseLiteral=="function"||ee(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class ku{constructor(t){var n;this.name=Ke(t.name),this.description=t.description,this.isTypeOf=t.isTypeOf,this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>io(t),this._interfaces=()=>ro(t),t.isTypeOf==null||typeof t.isTypeOf=="function"||ee(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${Y(t.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:oo(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ro(e){var t;const n=to((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(n)||ee(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function io(e){const t=no(e.fields);return Jt(t)||ee(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),ur(t,(n,r)=>{var i;Jt(n)||ee(!1,`${e.name}.${r} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||ee(!1,`${e.name}.${r} field resolver must be a function if provided, but got: ${Y(n.resolve)}.`);const a=(i=n.args)!==null&&i!==void 0?i:{};return Jt(a)||ee(!1,`${e.name}.${r} args must be an object with argument names as keys.`),{name:Ke(r),description:n.description,type:n.type,args:ao(a),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:He(n.extensions),astNode:n.astNode}})}function ao(e){return Object.entries(e).map(([t,n])=>({name:Ke(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:He(n.extensions),astNode:n.astNode}))}function Jt(e){return Dn(e)&&!Array.isArray(e)}function oo(e){return ur(e,t=>({description:t.description,type:t.type,args:so(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function so(e){return Ti(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}class _u{constructor(t){var n;this.name=Ke(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=io.bind(void 0,t),this._interfaces=ro.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||ee(!1,`${this.name} must provide "resolveType" as a function, but got: ${Y(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:oo(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class xu{constructor(t){var n;this.name=Ke(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=Pu.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||ee(!1,`${this.name} must provide "resolveType" as a function, but got: ${Y(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Pu(e){const t=to(e.types);return Array.isArray(t)||ee(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class Ru{constructor(t){var n;this.name=Ke(t.name),this.description=t.description,this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=Du(this.name,t.values),this._valueLookup=new Map(this._values.map(r=>[r.value,r])),this._nameLookup=Ai(this._values,r=>r.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(t){return this._nameLookup[t]}serialize(t){const n=this._valueLookup.get(t);if(n===void 0)throw new G(`Enum "${this.name}" cannot represent value: ${Y(t)}`);return n.name}parseValue(t){if(typeof t!="string"){const r=Y(t);throw new G(`Enum "${this.name}" cannot represent non-string value: ${r}.`+qn(this,r))}const n=this.getValue(t);if(n==null)throw new G(`Value "${t}" does not exist in "${this.name}" enum.`+qn(this,t));return n.value}parseLiteral(t,n){if(t.kind!==Q.ENUM){const i=wt(t);throw new G(`Enum "${this.name}" cannot represent non-enum value: ${i}.`+qn(this,i),{nodes:t})}const r=this.getValue(t.value);if(r==null){const i=wt(t);throw new G(`Value "${i}" does not exist in "${this.name}" enum.`+qn(this,i),{nodes:t})}return r.value}toConfig(){const t=Ti(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function qn(e,t){const n=e.getValues().map(i=>i.name),r=cu(t,n);return su("the enum value",r)}function Du(e,t){return Jt(t)||ee(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([n,r])=>(Jt(r)||ee(!1,`${e}.${n} must refer to an object with a "value" key representing an internal value but got: ${Y(r)}.`),{name:Iu(n),description:r.description,value:r.value!==void 0?r.value:n,deprecationReason:r.deprecationReason,extensions:He(r.extensions),astNode:r.astNode}))}class Cu{constructor(t){var n;this.name=Ke(t.name),this.description=t.description,this.extensions=He(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=Fu.bind(void 0,t)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const t=ur(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Fu(e){const t=no(e.fields);return Jt(t)||ee(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),ur(t,(n,r)=>(!("resolve"in n)||ee(!1,`${e.name}.${r} field has a resolve property, but Input Types cannot define resolvers.`),{name:Ke(r),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:He(n.extensions),astNode:n.astNode}))}const Mr=2147483647,Lr=-2147483648,ju=new tn({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=$n(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isInteger(n))throw new G(`Int cannot represent non-integer value: ${Y(t)}`);if(n>Mr||n<Lr)throw new G("Int cannot represent non 32-bit signed integer value: "+Y(t));return n},parseValue(e){if(typeof e!="number"||!Number.isInteger(e))throw new G(`Int cannot represent non-integer value: ${Y(e)}`);if(e>Mr||e<Lr)throw new G(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==Q.INT)throw new G(`Int cannot represent non-integer value: ${wt(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>Mr||t<Lr)throw new G(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}});new tn({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=$n(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isFinite(n))throw new G(`Float cannot represent non numeric value: ${Y(t)}`);return n},parseValue(e){if(typeof e!="number"||!Number.isFinite(e))throw new G(`Float cannot represent non numeric value: ${Y(e)}`);return e},parseLiteral(e){if(e.kind!==Q.FLOAT&&e.kind!==Q.INT)throw new G(`Float cannot represent non numeric value: ${wt(e)}`,e);return parseFloat(e.value)}});const uo=new tn({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=$n(e);if(typeof t=="string")return t;if(typeof t=="boolean")return t?"true":"false";if(typeof t=="number"&&Number.isFinite(t))return t.toString();throw new G(`String cannot represent value: ${Y(e)}`)},parseValue(e){if(typeof e!="string")throw new G(`String cannot represent a non string value: ${Y(e)}`);return e},parseLiteral(e){if(e.kind!==Q.STRING)throw new G(`String cannot represent a non string value: ${wt(e)}`,{nodes:e});return e.value}}),ki=new tn({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=$n(e);if(typeof t=="boolean")return t;if(Number.isFinite(t))return t!==0;throw new G(`Boolean cannot represent a non boolean value: ${Y(t)}`)},parseValue(e){if(typeof e!="boolean")throw new G(`Boolean cannot represent a non boolean value: ${Y(e)}`);return e},parseLiteral(e){if(e.kind!==Q.BOOLEAN)throw new G(`Boolean cannot represent a non boolean value: ${wt(e)}`,{nodes:e});return e.value}});new tn({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=$n(e);if(typeof t=="string")return t;if(Number.isInteger(t))return String(t);throw new G(`ID cannot represent value: ${Y(e)}`)},parseValue(e){if(typeof e=="string")return e;if(typeof e=="number"&&Number.isInteger(e))return e.toString();throw new G(`ID cannot represent value: ${Y(e)}`)},parseLiteral(e){if(e.kind!==Q.STRING&&e.kind!==Q.INT)throw new G("ID cannot represent a non-string and non-integer value: "+wt(e),{nodes:e});return e.value}});function $n(e){if(Dn(e)){if(typeof e.valueOf=="function"){const t=e.valueOf();if(!Dn(t))return t}if(typeof e.toJSON=="function")return e.toJSON()}return e}class Mn{constructor(t){var n,r;this.name=Ke(t.name),this.description=t.description,this.locations=t.locations,this.isRepeatable=(n=t.isRepeatable)!==null&&n!==void 0?n:!1,this.extensions=He(t.extensions),this.astNode=t.astNode,Array.isArray(t.locations)||ee(!1,`@${t.name} locations must be an Array.`);const i=(r=t.args)!==null&&r!==void 0?r:{};Dn(i)&&!Array.isArray(i)||ee(!1,`@${t.name} args must be an object with argument names as keys.`),this.args=ao(i)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:so(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}new Mn({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[Ae.FIELD,Ae.FRAGMENT_SPREAD,Ae.INLINE_FRAGMENT],args:{if:{type:new lr(ki),description:"Included when true."}}});new Mn({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[Ae.FIELD,Ae.FRAGMENT_SPREAD,Ae.INLINE_FRAGMENT],args:{if:{type:new lr(ki),description:"Skipped when true."}}});const $u="No longer supported";new Mn({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[Ae.FIELD_DEFINITION,Ae.ARGUMENT_DEFINITION,Ae.INPUT_FIELD_DEFINITION,Ae.ENUM_VALUE],args:{reason:{type:uo,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:$u}}});new Mn({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[Ae.SCALAR],args:{url:{type:new lr(uo),description:"The URL that specifies the behavior of this scalar."}}});function Nn(e,t,n){if(e){if(e.kind===Q.VARIABLE){const r=e.name.value;if(n==null||n[r]===void 0)return;const i=n[r];return i===null&&mt(t)?void 0:i}if(mt(t))return e.kind===Q.NULL?void 0:Nn(e,t.ofType,n);if(e.kind===Q.NULL)return null;if(eo(t)){const r=t.ofType;if(e.kind===Q.LIST){const a=[];for(const s of e.values)if(fa(s,n)){if(mt(r))return;a.push(null)}else{const u=Nn(s,r,n);if(u===void 0)return;a.push(u)}return a}const i=Nn(e,r,n);return i===void 0?void 0:[i]}if(Za(t)){if(e.kind!==Q.OBJECT)return;const r=Object.create(null),i=Ai(e.fields,a=>a.name.value);for(const a of Object.values(t.getFields())){const s=i[a.name];if(!s||fa(s.value,n)){if(a.defaultValue!==void 0)r[a.name]=a.defaultValue;else if(mt(a.type))return;continue}const u=Nn(s.value,a.type,n);if(u===void 0)return;r[a.name]=u}return r}if(Ou(t)){let r;try{r=t.parseLiteral(e,n)}catch{return}return r===void 0?void 0:r}za(!1,"Unexpected input type: "+Y(t))}}function fa(e,t){return e.kind===Q.VARIABLE&&(t==null||t[e.name.value]===void 0)}function Mu(e,t,n){var r;const i={},a=(r=t.arguments)!==null&&r!==void 0?r:[],s=Ai(a,u=>u.name.value);for(const u of e.args){const l=u.name,d=u.type,c=s[l];if(!c){if(u.defaultValue!==void 0)i[l]=u.defaultValue;else if(mt(d))throw new G(`Argument "${l}" of required type "${Y(d)}" was not provided.`,{nodes:t});continue}const p=c.value;let m=p.kind===Q.NULL;if(p.kind===Q.VARIABLE){const g=p.name.value;if(n==null||!Vu(n,g)){if(u.defaultValue!==void 0)i[l]=u.defaultValue;else if(mt(d))throw new G(`Argument "${l}" of required type "${Y(d)}" was provided the variable "$${g}" which was not provided a runtime value.`,{nodes:p});continue}m=n[g]==null}if(m&&mt(d))throw new G(`Argument "${l}" of non-null type "${Y(d)}" must not be null.`,{nodes:p});const y=Nn(p,d,n);if(y===void 0)throw new G(`Argument "${l}" has invalid value ${wt(p)}.`,{nodes:p});i[l]=y}return i}function Lu(e,t,n){var r;const i=(r=t.directives)===null||r===void 0?void 0:r.find(a=>a.name.value===e.name);if(i)return Mu(e,i,n)}function Vu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Uu=new Mn({name:"live",description:"Instruction for establishing a live connection that is updated once the underlying data changes.",locations:[Ae.QUERY],args:{if:{type:ki,defaultValue:!0,description:"Whether the query should be live or not."},throttle:{type:ju,description:'Propose a desired throttle interval ot the server in order to receive updates to at most once per "throttle" milliseconds. The server must not accept this value.'}}}),lo=e=>e==null,Bu=e=>{var t;if(e.kind!=="OperationDefinition"||e.operation!=="query")return null;const n=(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live");return lo(n)?null:n},qu=(e,t)=>{var n;const r=Lu(Uu,{directives:[e]},t);return{isLive:(r==null?void 0:r.if)===!0,throttleValue:(n=r==null?void 0:r.throttle)!==null&&n!==void 0?n:null}},Gu=(e,t)=>{const n=Bu(e);return lo(n)?!1:qu(n,t).isLive};function Ne(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function $t(e){return Ne(e)==="object"}function zu(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function pa(e,t){return e.length<124?e:t}const Wu="graphql-transport-ws";var Se;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Se||(Se={}));var ie;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(ie||(ie={}));function co(e){if(!$t(e))throw new Error(`Message is expected to be an object, but got ${Ne(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Ne(e.type)}`);switch(e.type){case ie.ConnectionInit:case ie.ConnectionAck:case ie.Ping:case ie.Pong:{if(e.payload!=null&&!$t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case ie.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ne(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!$t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Ne(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Ne(e.payload.query)}`);if(e.payload.variables!=null&&!$t(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Ne(e.payload.variables)}`);if(e.payload.operationName!=null&&Ne(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Ne(e.payload.operationName)}`);if(e.payload.extensions!=null&&!$t(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Ne(e.payload.extensions)}`);break}case ie.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ne(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!$t(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Ne(e.payload)}`);break}case ie.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ne(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!zu(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case ie.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Ne(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Qu(e,t){return co(typeof e=="string"?JSON.parse(e,t):e)}function Sn(e,t){return co(e),JSON.stringify(e,t)}function Ju(e){const{url:t,connectionParams:n,lazy:r=!0,onNonLazyError:i=console.error,lazyCloseTimeout:a=0,keepAlive:s=0,disablePong:u,connectionAckWaitTimeout:l=0,retryAttempts:d=5,retryWait:c=async function(U){let B=1e3;for(let $=0;$<U;$++)B*=2;await new Promise($=>setTimeout($,B+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:p=Gn,isFatalConnectionProblem:m,on:y,webSocketImpl:g,generateID:E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,U=>{const B=Math.random()*16|0;return(U=="x"?B:B&3|8).toString(16)})},jsonMessageReplacer:P,jsonMessageReviver:x}=e;let w;if(g){if(!Hu(g))throw new Error("Invalid WebSocket implementation provided");w=g}else typeof WebSocket<"u"?w=WebSocket:typeof global<"u"?w=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(w=window.WebSocket||window.MozWebSocket);if(!w)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const C=w,b=(()=>{const _=(()=>{const B={};return{on($,J){return B[$]=J,()=>{delete B[$]}},emit($){var J;"id"in $&&((J=B[$.id])===null||J===void 0||J.call(B,$))}}})(),U={connecting:y!=null&&y.connecting?[y.connecting]:[],opened:y!=null&&y.opened?[y.opened]:[],connected:y!=null&&y.connected?[y.connected]:[],ping:y!=null&&y.ping?[y.ping]:[],pong:y!=null&&y.pong?[y.pong]:[],message:y!=null&&y.message?[_.emit,y.message]:[_.emit],closed:y!=null&&y.closed?[y.closed]:[],error:y!=null&&y.error?[y.error]:[]};return{onMessage:_.on,on(B,$){const J=U[B];return J.push($),()=>{J.splice(J.indexOf($),1)}},emit(B,...$){for(const J of[...U[B]])J(...$)}}})();function T(_){const U=[b.on("error",B=>{U.forEach($=>$()),_(B)}),b.on("closed",B=>{U.forEach($=>$()),_(B)})]}let S,V=0,Ce,Fe=!1,Ve=0,ut=!1;async function te(){clearTimeout(Ce);const[_,U]=await(S??(S=new Promise((J,ke)=>(async()=>{if(Fe){if(await c(Ve),!V)return S=void 0,ke({code:1e3,reason:"All Subscriptions Gone"});Ve++}b.emit("connecting");const q=new C(typeof t=="function"?await t():t,Wu);let je,Ue;function Xe(){isFinite(s)&&s>0&&(clearTimeout(Ue),Ue=setTimeout(()=>{q.readyState===C.OPEN&&(q.send(Sn({type:ie.Ping})),b.emit("ping",!1,void 0))},s))}T(ne=>{S=void 0,clearTimeout(je),clearTimeout(Ue),ke(ne),Gn(ne)&&ne.code===4499&&(q.close(4499,"Terminated"),q.onerror=null,q.onclose=null)}),q.onerror=ne=>b.emit("error",ne),q.onclose=ne=>b.emit("closed",ne),q.onopen=async()=>{try{b.emit("opened",q);const ne=typeof n=="function"?await n():n;if(q.readyState!==C.OPEN)return;q.send(Sn(ne?{type:ie.ConnectionInit,payload:ne}:{type:ie.ConnectionInit},P)),isFinite(l)&&l>0&&(je=setTimeout(()=>{q.close(Se.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Xe()}catch(ne){b.emit("error",ne),q.close(Se.InternalClientError,pa(ne instanceof Error?ne.message:new Error(ne).message,"Internal client error"))}};let Ze=!1;q.onmessage=({data:ne})=>{try{const H=Qu(ne,x);if(b.emit("message",H),H.type==="ping"||H.type==="pong"){b.emit(H.type,!0,H.payload),H.type==="pong"?Xe():u||(q.send(Sn(H.payload?{type:ie.Pong,payload:H.payload}:{type:ie.Pong})),b.emit("pong",!1,H.payload));return}if(Ze)return;if(H.type!==ie.ConnectionAck)throw new Error(`First message cannot be of type ${H.type}`);clearTimeout(je),Ze=!0,b.emit("connected",q,H.payload),Fe=!1,Ve=0,J([q,new Promise((yt,Be)=>T(Be))])}catch(H){q.onmessage=null,b.emit("error",H),q.close(Se.BadResponse,pa(H instanceof Error?H.message:new Error(H).message,"Bad response"))}}})())));_.readyState===C.CLOSING&&await U;let B=()=>{};const $=new Promise(J=>B=J);return[_,B,Promise.race([$.then(()=>{if(!V){const J=()=>_.close(1e3,"Normal Closure");isFinite(a)&&a>0?Ce=setTimeout(()=>{_.readyState===C.OPEN&&J()},a):J()}}),U])]}function W(_){if(Gn(_)&&(Yu(_.code)||[Se.InternalServerError,Se.InternalClientError,Se.BadRequest,Se.BadResponse,Se.Unauthorized,Se.SubprotocolNotAcceptable,Se.SubscriberAlreadyExists,Se.TooManyInitialisationRequests].includes(_.code)))throw _;if(ut)return!1;if(Gn(_)&&_.code===1e3)return V>0;if(!d||Ve>=d||!p(_)||m!=null&&m(_))throw _;return Fe=!0}return r||(async()=>{for(V++;;)try{const[,,_]=await te();await _}catch(_){try{if(!W(_))return}catch(U){return i==null?void 0:i(U)}}})(),{on:b.on,subscribe(_,U){const B=E(_);let $=!1,J=!1,ke=()=>{V--,$=!0};return(async()=>{for(V++;;)try{const[q,je,Ue]=await te();if($)return je();const Xe=b.onMessage(B,Ze=>{switch(Ze.type){case ie.Next:{U.next(Ze.payload);return}case ie.Error:{J=!0,$=!0,U.error(Ze.payload),ke();return}case ie.Complete:{$=!0,ke();return}}});q.send(Sn({id:B,type:ie.Subscribe,payload:_},P)),ke=()=>{!$&&q.readyState===C.OPEN&&q.send(Sn({id:B,type:ie.Complete},P)),V--,$=!0,je()},await Ue.finally(Xe);return}catch(q){if(!W(q))return}})().then(()=>{J||U.complete()}).catch(q=>{U.error(q)}),()=>{$||ke()}},async dispose(){if(ut=!0,S){const[_]=await S;_.close(1e3,"Normal Closure")}},terminate(){S&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Gn(e){return $t(e)&&"code"in e&&"reason"in e}function Yu(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function Hu(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var zt=null;typeof WebSocket<"u"?zt=WebSocket:typeof MozWebSocket<"u"?zt=MozWebSocket:typeof global<"u"?zt=global.WebSocket||global.MozWebSocket:typeof window<"u"?zt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(zt=self.WebSocket||self.MozWebSocket);const Ku=zt;class fo extends Error{}class Xu{constructor(t,n){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw ot(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new fo("Transaction rolled back.")}async start(){ot(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){ot(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class Zu{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,n){this.values[t]=n}}const el=e=>{const t=[...e.definitions].reverse().find(n=>n.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(r=>r.kind=="Field").name.value},ha=Ca({onOperation:e=>{var t,n;(t=(n=e.context).operationName)!==null&&t!==void 0||(n.operationName=el(e.query)||"unknown")}}),tl=Ca({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,n]=e.context.url.split("?"),r=new URLSearchParams(n);r.set("operation",e.context.operationName),e.context.url=`${t}?${r.toString()}`}catch{}}});var ai;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})(ai||(ai={}));const nl=2,rl=4800,il=1e4,al=[Se.ConnectionAcknowledgementTimeout,Se.ConnectionInitialisationTimeout],ma=Symbol.for("gadget/connection"),ol="token",sl=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var le;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(le||(le={}));const zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class po{constructor(t){var n,r,i,a,s;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:le.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l)=>{let d,c;if(l?(d=l,c=u):(d=u,c={}),this.currentTransaction)return await d(this.currentTransaction);let p=null,m;try{p=await this.waitForOpenedConnection({isFatalConnectionProblem(E){return console.warn("Transport error encountered during transaction processing",E),!0},connectionAckWaitTimeout:rl,...c,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const y=new Qi({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,ha,...this.exchanges.beforeAsync,jr({forwardSubscription(E){const P={...E,query:E.query||""};return{subscribe:x=>({unsubscribe:p.subscribe(P,x)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});y[ma]=this,m=new Xu(y,p),this.currentTransaction=m,await m.start();const g=await d(m);return await m.commit(),g}catch(y){try{m!=null&&m.open&&await m.rollback()}catch(g){g instanceof fo||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",g)}throw Zr(y)?new Ji(y):y}finally{await(p==null?void 0:p.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l={})=>{var d;u=ul(u,(d=this.options.baseRouteURL)!==null&&d!==void 0?d:this.options.endpoint),this.isGadgetRequest(u)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==le.Custom&&await this.options.authenticationMode.custom.processFetch(u,l));const c=await this._fetchImplementation(u,l);if(this.authenticationMode==le.BrowserSession){const p=c.headers.get("x-set-authorization"),m=p!=null&&p.startsWith("Session ")?p.replace("Session ",""):null;m&&this.sessionTokenStore.setItem(this.sessionStorageKey,m)}return c}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof zn<"u"&&zn.fetch?this._fetchImplementation=zn.fetch.bind(zn):this._fetchImplementation=async(...u)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-fc76777a.cjs")).then(d=>d.browserPonyfill);return l.default&&(l=l.default),await l(...u)},this.websocketImplementation=(r=(n=t.websocketImplementation)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.WebSocket)!==null&&r!==void 0?r:Ku,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(a=t.environment)!==null&&a!==void 0?a:"Development",this.requestPolicy=(s=t.requestPolicy)!==null&&s!==void 0?s:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${ol}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var n;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=le.InternalAuthToken:t.apiKey?this.authenticationMode=le.APIKey:t.custom&&(this.authenticationMode=le.Custom),this.options.authenticationMode=t),(n=this.authenticationMode)!==null&&n!==void 0||(this.authenticationMode=le.Anonymous)}enableSessionMode(t){this.authenticationMode=le.BrowserSession;const n=!t||typeof t=="boolean"?kn.Durable:t.storageType;let r;n==kn.Durable&&Hi("localStorage")?r=window.localStorage:n==kn.Session&&Hi("sessionStorage")?r=window.sessionStorage:r=new Zu,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&r.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=r,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let n;if(typeof t=="string"?n=t:typeof t=="object"&&"url"in t?n=t.url:n=String(t),oi(this.options.endpoint))return!!oi(n);const r=new URL(this.options.endpoint).host;return n.includes(r)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,ha,tl];typeof window<"u"&&t.push(ys),t.push(...this.exchanges.beforeAsync,jr({forwardSubscription:r=>({subscribe:i=>{const a={...r,query:r.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(a,i)}}})}),jr({isSubscriptionOperation:r=>r.query.definitions.some(i=>Gu(i,r.variables)),forwardSubscription:r=>({subscribe:i=>{let a;const s=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:u,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:d})=>{const c={...r,query:r.query||""};return a=u(l(d(p=>this.getBaseSubscriptionClient().subscribe(c,p))),i),a});return{unsubscribe:()=>{a?a():s.then(u=>u())}}}})}),gs,...this.exchanges.afterAll);const n=new Qi({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return n[ma]=this,n}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let n=this.websocketsEndpoint;if(t!=null&&t.urlParams){const r=new URLSearchParams;for(const[i,a]of Object.entries(t.urlParams))a&&r.set(i,a);n+="?"+r.toString()}return Ju({url:n,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var r,i;const a={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==le.APIKey?a.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==le.InternalAuthToken?a.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==le.BrowserSession?a.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==le.Custom&&await((i=(r=this.options.authenticationMode)===null||r===void 0?void 0:r.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(a)),a},onNonLazyError:()=>{},on:{connected:(r,i)=>{var a,s,u,l,d,c;if(this.authenticationMode==le.BrowserSession&&(i!=null&&i.sessionToken)){const p=(a=this.options.authenticationMode)===null||a===void 0?void 0:a.browserSession;(p!==null&&typeof p=="object"?p.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(u=(s=this.subscriptionClientOptions)===null||s===void 0?void 0:s.on)===null||u===void 0?void 0:u.connected)===null||l===void 0||l.call(u,r,i),(c=(d=t==null?void 0:t.on)===null||d===void 0?void 0:d.connected)===null||c===void 0||c.call(d,r,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const n={};if(this.authenticationMode==le.InternalAuthToken)n.authorization="Basic "+sl("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==le.APIKey)n.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==le.BrowserSession){const r=this.sessionTokenStore.getItem(this.sessionStorageKey);r&&(n.authorization=`Session ${r}`)}return n["x-gadget-environment"]=this.environment,n}async waitForOpenedConnection(t){let n=this.newSubscriptionClient(t),r=[],i=t.connectionAttempts||nl;const a=t.connectionGlobalTimeoutMs||il,s=()=>{r.forEach(u=>u()),r=[]};return await new Promise((u,l)=>{const d=setTimeout(()=>{this.disposeClient(n),p(new Ns("Timeout opening websocket connection to Gadget API"))},a),c=g=>{if(Zr(g)){if(g.code==ai.TooManyRequests)return s(),p(new Es(g.reason));if(al.includes(g.code)&&i>0){i-=1,this.disposeClient(n),n=this.newSubscriptionClient(t),y();return}}clearTimeout(d),l(new Ji(g))},p=g=>{clearTimeout(d),l(g)},m=()=>{clearTimeout(d),u(n)},y=()=>{s(),r.push(n.on("connected",m)),r.push(n.on("closed",c)),r.push(n.on("error",p))};y()}).finally(s)}disposeClient(t){const n=t.dispose();n&&n.catch(r=>console.error(`Error closing SubscriptionClient: ${r.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(po,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.20"});function ul(e,t){if(typeof e!="string")return e;if(oi(e))try{return String(new URL(e,t))}catch{return e}return e}function oi(e){return e.startsWith("/")&&!e.startsWith("//")}const Ln=`
fragment InternalErrorsDetails on ExecutionError {
  code
  message
  ...on InvalidRecordError {
    validationErrors {
      apiIdentifier
      message
    }
    model {
      apiIdentifier
    }
    record
  }
}
`,nn=e=>`
  gadgetMeta {
    hydrations(modelName: "${e}")
  }
`,ll=e=>`
    query InternalFind${Je(e)}($id: GadgetID!, $select: [String!]) {
      ${nn(e)}
      internal {
        ${e}(id: $id, select: $select)
      }
    }
    `,ho=(e,t)=>({search:t!=null&&t.search?ae({value:t==null?void 0:t.search,type:"String"}):void 0,sort:t!=null&&t.sort?ae({value:t==null?void 0:t.sort,type:`[${e}Sort!]`}):void 0,filter:t!=null&&t.filter?ae({value:t==null?void 0:t.filter,type:`[${e}Filter!]`}):void 0,select:t!=null&&t.select?ae({value:mo(t==null?void 0:t.select),type:"[String!]"}):void 0}),cl=(e,t)=>{const n=Je(e),r=ho(n,t);return Et({type:"query",name:`InternalFindFirst${n}`,fields:{internal:{[`list${n}`]:Nt({...r,first:ae({value:1,type:"Int"})},{edges:{node:!0}})}}})},dl=(e,t)=>{const n=Je(e),r=ho(n,t);return Et({type:"query",name:`InternalFindMany${n}`,fields:{internal:{[`list${n}`]:Nt({...r,after:ae({value:t==null?void 0:t.after,type:"String"}),before:ae({value:t==null?void 0:t.before,type:"String"}),first:ae({value:t==null?void 0:t.first,type:"Int"}),last:ae({value:t==null?void 0:t.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}}})},fl=e=>{const t=Je(e);return`
    ${Ln}

    mutation InternalCreate${t}($record: Internal${t}Input) {
      ${nn(e)}
      internal {
        create${t}(${e}: $record) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${e}
        }
      }
    }
  `},pl=(e,t)=>{const n=Je(e),r=Je(t);return`
    ${Ln}

    mutation InternalBulkCreate${r}($records: [Internal${n}Input]!) {
      ${nn(e)}
      internal {
        bulkCreate${r}(${t}: $records) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${t}
        }
      }
    }
  `},hl=e=>{const t=Je(e);return`
    ${Ln}

    mutation InternalUpdate${t}($id: GadgetID!, $record: Internal${t}Input) {
      ${nn(e)}
      internal {
        update${t}(id: $id, ${e}: $record) {
          success
          errors {
            ... InternalErrorsDetails
          }
          ${e}
        }
      }
    }
  `},ml=e=>{const t=Je(e);return`
    ${Ln}

    mutation InternalDelete${t}($id: GadgetID!) {
      ${nn(e)}
      internal {
        delete${t}(id: $id) {
          success
          errors {
            ... InternalErrorsDetails
          }
        }
      }
    }
  `},yl=e=>{const t=Je(e);return`
    ${Ln}

    mutation InternalDeleteMany${t}(
      $search: String
      $filter: [${t}Filter!]
    ) {
      ${nn(e)}
      internal {
        deleteMany${t}(search: $search, filter: $filter) {
          success
          errors {
            ... InternalErrorsDetails
          }
        }
      }
    }
  `};class ze{constructor(t,n,r){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=Bt(t)}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(r=>r===this.apiIdentifier)}getRecordFromData(t,n){let r=t;if(!this.validateRecord(t))throw new ar(`Invalid arguments found in variables. Did you mean to use ${n}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(r=r[this.apiIdentifier]),r}async findOne(t,n,r=!0){const i=await this.connection.currentClient.query(ll(this.apiIdentifier),{id:t,select:mo(n==null?void 0:n.select)}).toPromise(),s=(r?ot:An)(i,["internal",this.apiIdentifier]);return Tn(i,s)}async maybeFindOne(t,n){const r=await this.findOne(t,n,!1);return r.isEmpty()?null:r}async findMany(t){const n=dl(this.apiIdentifier,t),r=await this.connection.currentClient.query(n.query,n.variables).toPromise(),i=An(r,["internal",`list${this.capitalizedApiIdentifier}`]),a=Rn(r,i);return en.boot(this,a,{options:t,pageInfo:i.pageInfo})}async findFirst(t,n=!0){const r=cl(this.apiIdentifier,t),i=await this.connection.currentClient.query(r.query,r.variables).toPromise();let a;n===!1?a=An(i,["internal",`list${this.capitalizedApiIdentifier}`]):a=ot(i,["internal",`list${this.capitalizedApiIdentifier}`],n);const s=Rn(i,a);return en.boot(this,s,{options:t,pageInfo:a.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const n=await this.connection.currentClient.mutation(fl(this.apiIdentifier),{record:this.getRecordFromData(t,"create")}).toPromise(),r=St(n,["internal",`create${this.capitalizedApiIdentifier}`]);return Tn(n,r[this.apiIdentifier])}async bulkCreate(t){var n;if(!(!((n=this.options)===null||n===void 0)&&n.pluralApiIdentifier))throw new Kr("Cannot perform bulkCreate without a pluralApiIdentifier");const r=Je(this.options.pluralApiIdentifier),i=await this.connection.currentClient.mutation(pl(this.apiIdentifier,this.options.pluralApiIdentifier),{records:t}).toPromise(),a=St(i,["internal",`bulkCreate${r}`]);return gi(i,a[this.options.pluralApiIdentifier])}async update(t,n){Xr(t,"Can't update a record without an ID passed");const r=await this.connection.currentClient.mutation(hl(this.apiIdentifier),{id:t,record:this.getRecordFromData(n,"update")}).toPromise(),i=St(r,["internal",`update${this.capitalizedApiIdentifier}`]);return Tn(r,i[this.apiIdentifier])}async delete(t){Xr(t,"Can't delete a record without an ID");const n=await this.connection.currentClient.mutation(ml(this.apiIdentifier),{id:t}).toPromise();St(n,["internal",`delete${this.capitalizedApiIdentifier}`])}async deleteMany(t){const n=await this.connection.currentClient.mutation(yl(this.apiIdentifier),t).toPromise();St(n,["internal",`deleteMany${this.capitalizedApiIdentifier}`])}}function mo(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[n,r]of Object.entries(e))r&&t.push(n);return t}const Le=(e,t,n,r)=>{const i=class{constructor(a){this.connection=a}};for(const a of r)switch(a.type){case"maybeFindOne":case"findOne":{"functionName"in a?i.prototype[a.functionName]=Object.assign(async function(s,u){return await qs(this,a.operationName,a.findByField,s,n,e,u)},a):i.prototype[a.type]=Object.assign(async function(s,u){const l=await ea(this,e,s,n,e,u,a.type!="maybeFindOne");return l.isEmpty()?null:l},a);break}case"findMany":{i.prototype.findMany=Object.assign(async function(s){return await ta(this,t,n,e,s)},a);break}case"maybeFindFirst":case"findFirst":{i.prototype[a.type]=Object.assign(async function(s){const u=await ta(this,t,n,e,{...s,first:1,last:void 0,before:void 0,after:void 0},a.type!="maybeFindFirst");return(u==null?void 0:u[0])??null},a);break}case"get":{i.prototype.get=Object.assign(async function(s){return await ea(this,a.operationName,void 0,n,e,s)},a);break}case"action":{if(a.isBulk){const s=!!a.variables.ids;i.prototype[a.functionName]=Object.assign(async function(u,l){let d;return s?d={ids:{...a.variables.ids,value:u}}:d={inputs:{...a.variables.inputs,value:u.map(c=>yo(this[a.singleActionFunctionName],void 0,c))}},await na(this,a.operationName,a.isDeleter?null:n,e,a.modelSelectionField,!0,d,l,a.namespace,a.hasReturnType)},a)}else{const s=!!a.variables.id,u=Object.keys(a.variables).filter(l=>l!="id").length>0;i.prototype[a.functionName]=Object.assign(async function(...l){const[d,c]=gl(a,s,u,l);return await na(this,a.operationName,a.isDeleter?null:n,e,a.modelSelectionField,!1,d,c,a.namespace,a.hasReturnType)},a)}break}}return i};function yo(e,t,n={}){var a;if(e.hasAmbiguousIdentifier&&Object.keys(n).some(s=>{var u;return!((u=e.paramOnlyVariables)!=null&&u.includes(s))&&s!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let r;const i=Object.entries(e.variables).find(([s,u])=>s==="id"&&u.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in n&&typeof n[e.modelApiIdentifier]=="object"&&n[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])r=n;else{r={[e.modelApiIdentifier]:{}};for(const[s,u]of Object.entries(n))(a=e.paramOnlyVariables)!=null&&a.includes(s)?r[s]=u:i&&s===i[0]?r.id=u:r[e.modelApiIdentifier][s]=u}else r=n;return r.id??(r.id=t),r}function gl(e,t,n,r){let i,a;t&&(i=r.shift()),n&&(a=r.shift());const s=r.shift();let u=a;(i||a)&&(u=yo(e,i,a));const l={};for(const[d,c]of Object.entries(e.variables))l[d]={value:d=="id"?i:u==null?void 0:u[d],...c};return[l,s]}const Pe={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},re="user",pt="users",bl=Le(re,pt,Pe,[{type:"findOne",operationName:re,modelApiIdentifier:re,findByVariableName:"id",defaultSelection:Pe},{type:"maybeFindOne",operationName:re,modelApiIdentifier:re,findByVariableName:"id",defaultSelection:Pe},{type:"findMany",operationName:pt,modelApiIdentifier:re,defaultSelection:Pe},{type:"findFirst",operationName:pt,modelApiIdentifier:re,defaultSelection:Pe},{type:"maybeFindFirst",operationName:pt,modelApiIdentifier:re,defaultSelection:Pe},{type:"findOne",operationName:pt,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:re,defaultSelection:Pe},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:re,modelSelectionField:re,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:re,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:Pe},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:re,modelSelectionField:re,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:re,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:Pe},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:re,modelSelectionField:re,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:re,modelSelectionField:pt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:re,modelSelectionField:re,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Pe},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:re,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:Pe}]),et={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},Ie="session",qt="sessions",vl=Le(Ie,qt,et,[{type:"findOne",operationName:Ie,modelApiIdentifier:Ie,findByVariableName:"id",defaultSelection:et},{type:"maybeFindOne",operationName:Ie,modelApiIdentifier:Ie,findByVariableName:"id",defaultSelection:et},{type:"findMany",operationName:qt,modelApiIdentifier:Ie,defaultSelection:et},{type:"findFirst",operationName:qt,modelApiIdentifier:Ie,defaultSelection:et},{type:"maybeFindFirst",operationName:qt,modelApiIdentifier:Ie,defaultSelection:et},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:Ie,modelSelectionField:Ie,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:et},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:Ie,modelSelectionField:qt,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:et},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:Ie,modelSelectionField:Ie,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:et},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:Ie,modelSelectionField:qt,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:et}]),tt={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},pe="shopifyProduct",Rt="shopifyProducts",Sl=Le(pe,Rt,tt,[{type:"findOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:tt},{type:"maybeFindOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:tt},{type:"findMany",operationName:Rt,modelApiIdentifier:pe,defaultSelection:tt},{type:"findFirst",operationName:Rt,modelApiIdentifier:pe,defaultSelection:tt},{type:"maybeFindFirst",operationName:Rt,modelApiIdentifier:pe,defaultSelection:tt},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:tt},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:pe,modelSelectionField:Rt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:tt},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:tt},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:pe,modelSelectionField:Rt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:tt},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:pe,modelSelectionField:Rt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),nt={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},he="shopifyProductImage",Dt="shopifyProductImages",Il=Le(he,Dt,nt,[{type:"findOne",operationName:he,modelApiIdentifier:he,findByVariableName:"id",defaultSelection:nt},{type:"maybeFindOne",operationName:he,modelApiIdentifier:he,findByVariableName:"id",defaultSelection:nt},{type:"findMany",operationName:Dt,modelApiIdentifier:he,defaultSelection:nt},{type:"findFirst",operationName:Dt,modelApiIdentifier:he,defaultSelection:nt},{type:"maybeFindFirst",operationName:Dt,modelApiIdentifier:he,defaultSelection:nt},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:he,modelSelectionField:he,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:nt},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:he,modelSelectionField:Dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:nt},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:he,modelSelectionField:he,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:nt},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:he,modelSelectionField:Dt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:nt},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:he,modelSelectionField:he,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:he,modelSelectionField:Dt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),rt={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},me="shopifyProductOption",Ct="shopifyProductOptions",wl=Le(me,Ct,rt,[{type:"findOne",operationName:me,modelApiIdentifier:me,findByVariableName:"id",defaultSelection:rt},{type:"maybeFindOne",operationName:me,modelApiIdentifier:me,findByVariableName:"id",defaultSelection:rt},{type:"findMany",operationName:Ct,modelApiIdentifier:me,defaultSelection:rt},{type:"findFirst",operationName:Ct,modelApiIdentifier:me,defaultSelection:rt},{type:"maybeFindFirst",operationName:Ct,modelApiIdentifier:me,defaultSelection:rt},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:me,modelSelectionField:me,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:rt},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:me,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:rt},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:me,modelSelectionField:me,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:rt},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:me,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:rt},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:me,modelSelectionField:me,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:me,modelSelectionField:Ct,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),it={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},ye="shopifyProductVariant",Ft="shopifyProductVariants",Nl=Le(ye,Ft,it,[{type:"findOne",operationName:ye,modelApiIdentifier:ye,findByVariableName:"id",defaultSelection:it},{type:"maybeFindOne",operationName:ye,modelApiIdentifier:ye,findByVariableName:"id",defaultSelection:it},{type:"findMany",operationName:Ft,modelApiIdentifier:ye,defaultSelection:it},{type:"findFirst",operationName:Ft,modelApiIdentifier:ye,defaultSelection:it},{type:"maybeFindFirst",operationName:Ft,modelApiIdentifier:ye,defaultSelection:it},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:it},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ye,modelSelectionField:Ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:it},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:it},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ye,modelSelectionField:Ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:it},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ye,modelSelectionField:Ft,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),we={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},Z="shopifyShop",ht="shopifyShops",El=Le(Z,ht,we,[{type:"findOne",operationName:Z,modelApiIdentifier:Z,findByVariableName:"id",defaultSelection:we},{type:"maybeFindOne",operationName:Z,modelApiIdentifier:Z,findByVariableName:"id",defaultSelection:we},{type:"findMany",operationName:ht,modelApiIdentifier:Z,defaultSelection:we},{type:"findFirst",operationName:ht,modelApiIdentifier:Z,defaultSelection:we},{type:"maybeFindFirst",operationName:ht,modelApiIdentifier:Z,defaultSelection:we},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:Z,modelSelectionField:Z,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:we},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:Z,modelSelectionField:ht,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:we},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:Z,modelSelectionField:Z,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:we},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:Z,modelSelectionField:ht,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:we},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:Z,modelSelectionField:Z,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:Z,modelSelectionField:ht,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:Z,modelSelectionField:Z,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:we},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:Z,modelSelectionField:ht,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:we},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:Z,modelSelectionField:Z,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:we},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:Z,modelSelectionField:ht,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:we}]),at={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},ge="productPairing",jt="productPairings",Ol=Le(ge,jt,at,[{type:"findOne",operationName:ge,modelApiIdentifier:ge,findByVariableName:"id",defaultSelection:at},{type:"maybeFindOne",operationName:ge,modelApiIdentifier:ge,findByVariableName:"id",defaultSelection:at},{type:"findMany",operationName:jt,modelApiIdentifier:ge,defaultSelection:at},{type:"findFirst",operationName:jt,modelApiIdentifier:ge,defaultSelection:at},{type:"maybeFindFirst",operationName:jt,modelApiIdentifier:ge,defaultSelection:at},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:ge,modelSelectionField:ge,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:at},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ge,modelSelectionField:jt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:at},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:ge,modelSelectionField:ge,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:at},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ge,modelSelectionField:jt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:at},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:ge,modelSelectionField:ge,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ge,modelSelectionField:jt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Re={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},ce="shopifySync",gt="shopifySyncs",Al=Le(ce,gt,Re,[{type:"findOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:Re},{type:"maybeFindOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:Re},{type:"findMany",operationName:gt,modelApiIdentifier:ce,defaultSelection:Re},{type:"findFirst",operationName:gt,modelApiIdentifier:ce,defaultSelection:Re},{type:"maybeFindFirst",operationName:gt,modelApiIdentifier:ce,defaultSelection:Re},{type:"findOne",operationName:gt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ce,defaultSelection:Re},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Re},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:ce,modelSelectionField:gt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:Re},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Re},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:ce,modelSelectionField:gt,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:Re},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Re},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:ce,modelSelectionField:gt,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:Re}]),We={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},de="ambiguous",bt="ambiguouss",Tl=Le(de,bt,We,[{type:"findOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:We},{type:"maybeFindOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:We},{type:"findMany",operationName:bt,modelApiIdentifier:de,defaultSelection:We},{type:"findFirst",operationName:bt,modelApiIdentifier:de,defaultSelection:We},{type:"maybeFindFirst",operationName:bt,modelApiIdentifier:de,defaultSelection:We},{type:"findOne",operationName:bt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:de,defaultSelection:We},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:de,modelSelectionField:bt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:We},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:de,modelSelectionField:bt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:We},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:de,modelSelectionField:bt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Qe={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},fe="unambiguous",vt="unambiguouss",kl=Le(fe,vt,Qe,[{type:"findOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Qe},{type:"maybeFindOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Qe},{type:"findMany",operationName:vt,modelApiIdentifier:fe,defaultSelection:Qe},{type:"findFirst",operationName:vt,modelApiIdentifier:fe,defaultSelection:Qe},{type:"maybeFindFirst",operationName:vt,modelApiIdentifier:fe,defaultSelection:Qe},{type:"findOne",operationName:vt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:fe,defaultSelection:Qe},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:fe,modelSelectionField:vt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:Qe},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Qe},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:fe,modelSelectionField:vt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:Qe},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:fe,modelSelectionField:vt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),ya={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},ga="session",_l="sessions",xl=Le(ga,_l,ya,[{type:"get",operationName:"currentSession",defaultSelection:ya,modelApiIdentifier:ga}]);var go;const ba="production",Pl="development",Rl=Symbol.for("gadget/modelRelationships"),Dl=()=>{try{return process.env.GADGET_ENV}catch{return}};class Cl{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[go]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async a=>await ra(this.connection,"globalShopifySync",{apiKeys:{value:a.apiKeys,required:!1,type:"[String!]"},syncSince:{value:a.syncSince,required:!1,type:"DateTime"},models:{value:a.models,required:!1,type:"[String!]"},force:{value:a.force,required:!1,type:"Boolean"},startReason:{value:a.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await ra(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async a=>await this.connection.transaction(a),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??Dl()??Pl).toLocaleLowerCase();let n;this.apiRoots[this.environment]?n=this.apiRoots[this.environment]:n=`https://related-products-example${this.environment==ba?"":`--${this.environment}`}.gadget.app`;const r={...t==null?void 0:t.exchanges};if(this.environment!==ba){const a=({forward:s})=>u=>{const l=s(u);return pi(l,Qt(d=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const c=new CustomEvent("gadget:devharness:graphqlresult",{detail:d});window.dispatchEvent(c)}}catch(c){console.warn("[gadget] error dispatching gadget dev harness event",c)}return d}))};r.beforeAll=[a,...r.beforeAll??[]]}if(this.connection=new po({endpoint:new URL("api/graphql",n).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:r,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==le.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new bl(this.connection),this.session=new vl(this.connection),this.shopifyProduct=new Sl(this.connection),this.shopifyProductImage=new Il(this.connection),this.shopifyProductOption=new wl(this.connection),this.shopifyProductVariant=new Nl(this.connection),this.shopifyShop=new El(this.connection),this.productPairing=new Ol(this.connection),this.shopifySync=new Al(this.connection),this.ambiguous=new Tl(this.connection),this.unambiguous=new kl(this.connection),this.currentSession=new xl(this.connection),this.internal={user:new ze("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new ze("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new ze("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new ze("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new ze("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new ze("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new ze("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new ze("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new ze("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new ze("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new ze("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,n,r){const{data:i,error:a}=await this.connection.currentClient.query(t,n,r).toPromise();if(a)throw a;return i}async mutate(t,n,r){const{data:i,error:a}=await this.connection.currentClient.mutation(t,n,r).toPromise();if(a)throw a;return i}async fetch(t,n={}){return await this.connection.fetch(t,n)}async enqueue(t,n,r){Xr(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,a;return typeof r<"u"?(i=n,a=r):!t.variables||Object.keys(t.variables).length==0?(i={},a=n):(typeof n=="string"?i={id:n}:i=n,a={}),await Gs(this.connection,t,i,a)}handle(t,n){return new Jn(this.connection,t,n)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}go=Rl;var bo={},cr=Oe.createContext(bo),Fl=cr.Provider;cr.Consumer;cr.displayName="UrqlContext";var vo=()=>{var e=Oe.useContext(cr);if(e===bo&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},si={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},jl=(e,t)=>e===t||!(!e||!t||e.key!==t.key),Vr=(e,t)=>{var n={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((r,i)=>{for(var a in r)if(!(a in i))return!0;for(var s in i)if(s==="operation"?!jl(r[s],i[s]):r[s]!==i[s])return!0;return!1})(e,n)?n:e},$l=(e,t)=>{for(var n=0,r=t.length;n<r;n++)if(e[n]!==t[n])return!0;return!1},Ur=Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function nr(e,t){process.env.NODE_ENV!=="production"&&Ur&&Ur.ReactCurrentOwner&&Ur.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function Ml(e){var t=Oe.useRef(!0),n=vo(),[r,i]=Oe.useState(si),a=Oe.useCallback((s,u)=>(nr(i,{...si,fetching:!0}),rr(Fn(1)(oe(l=>!l.hasNext)(Vt(l=>{t.current&&nr(i,{fetching:!1,stale:l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation})})(n.executeMutation(On(e,s),u||{})))))),[n,e,i]);return Oe.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),[r,a]}function Ll(e,t){var n=Oe.useRef(void 0);return Oe.useMemo(()=>{var r=On(e,t);return n.current!==void 0&&n.current.key===r.key?n.current:(n.current=r,r)},[e,t])}var Vl=e=>{if(!e._react){var t=new Set,n=new Map;e.operations$&&Ut(r=>{r.kind==="teardown"&&t.has(r.key)&&(t.delete(r.key),n.delete(r.key))})(e.operations$),e._react={get:r=>n.get(r),set(r,i){t.delete(r),n.set(r,i)},dispose(r){t.add(r)}}}return e._react},Ul=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function Bl(e){var t=vo(),n=Vl(t),r=Ul(t,e.context),i=Ll(e.query,e.variables),a=Oe.useMemo(()=>{if(e.pause)return null;var m=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return r?Vt(y=>{n.set(i.key,y)})(m):m},[n,t,i,r,e.pause,e.requestPolicy,e.context]),s=Oe.useCallback((m,y)=>{if(!m)return{fetching:!1};var g=n.get(i.key);if(g){if(y&&g!=null&&"then"in g)throw g}else{var E,P=Ut(w=>{g=w,E&&E(g)})(Na(()=>y&&!E||!g)(m));if(g==null&&y){var x=new Promise(w=>{E=w});throw n.set(i.key,x),x}else P.unsubscribe()}return g||{fetching:!0}},[n,i]),u=[t,i,e.requestPolicy,e.context,e.pause],[l,d]=Oe.useState(()=>[a,Vr(si,s(a,r)),u]),c=l[1];a!==l[0]&&$l(l[2],u)&&d([a,c=Vr(l[1],s(a,r)),u]),Oe.useEffect(()=>{var m=l[0],y=l[2][1],g=!1,E=x=>{g=!0,nr(d,w=>{var C=Vr(w[1],x);return w[1]!==C?[w[0],C,w[2]]:w})};if(m){var P=Ut(E)(ci(()=>{E({fetching:!1})})(m));return g||E({fetching:!0}),()=>{n.dispose(y.key),P.unsubscribe()}}else E({fetching:!1})},[n,l[0],l[2][1]]);var p=Oe.useCallback(m=>{var y={requestPolicy:e.requestPolicy,...e.context,...m};nr(d,g=>[r?Vt(E=>{n.set(i.key,E)})(t.executeQuery(i,y)):t.executeQuery(i,y),g[1],u])},[t,n,i,r,s,e.requestPolicy,e.context]);return[c,p]}const _i=R.createContext(void 0),ql=R.createContext(void 0),Gl="/",zl="signOut",Wl="/";function Ql(e){let t,n;if("api"in e){if(!_o(e.api))throw new Error("Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");t=e.api,n=e.api.connection.currentClient}else if(e.value)n=e.value;else throw new Error("No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");n.suspense=!0;let r=Gl,i=zl,a=Wl;if("auth"in e){const{auth:s}=e;s!=null&&s.signInPath&&(r=s.signInPath),s!=null&&s.signOutActionApiIdentifier&&(i=s.signOutActionApiIdentifier),s!=null&&s.redirectOnSuccessfulSignInPath&&(a=s.redirectOnSuccessfulSignInPath)}return R.createElement(_i.Provider,{value:n},R.createElement(ql.Provider,{value:{api:t,navigate:e.navigate,auth:{signInPath:r,signOutActionApiIdentifier:i,redirectOnSuccessfulSignInPath:a}}},R.createElement(Fl,{value:n},e.children)))}const So="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",Jl=(e,t)=>{let n="";return e!==void 0?n=`[Network] ${e.message}`:t!==void 0?t.forEach(r=>{n+=`[GraphQL] ${r.message}
`}):n="Unknown error",n.trim()},Yl=e=>typeof e=="string"?new Pn(e):e!=null&&e.message&&!e.code?new Pn(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class Mt extends Error{static forClientSideError(t,n){return new Mt({executionErrors:[t],response:n})}static forErrorsResponse(t,n){return new Mt({executionErrors:t.map(yi),response:n})}static forMaybeCombinedError(t){if(t)return new Mt({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,n,r=!1){const i=xs(t,n);let a=Mt.forMaybeCombinedError(t.error);return!a&&i&&!r&&(a=Mt.forClientSideError(i)),a}constructor({networkError:t,executionErrors:n,response:r}){const i=(n||[]).map(Yl),a=Jl(t,i);super(a),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=a,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=r}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(n=>n.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const Hl=e=>{const{context:t,suspense:n,...r}=e??{},i=R.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...r,context:i}},Kl=(e,t)=>({query:e.query,variables:e.variables,...t}),Xl=e=>{if(!R.useContext(_i))throw new Error(So);const t=Hl(e);return Bl(t)};var Zl=typeof Element<"u",ec=typeof Map=="function",tc=typeof Set=="function",nc=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Hn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Hn(e[r],t[r]))return!1;return!0}var a;if(ec&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!Hn(r.value[1],t.get(r.value[0])))return!1;return!0}if(tc&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(nc&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Zl&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Hn(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var rc=function(t,n){try{return Hn(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const ic=wa(rc),ac=e=>{const t=R.useRef();return e?(t.current===void 0||!ic(e,t.current))&&(t.current=e):t.current=void 0,t.current},oc=e=>{if(!R.useContext(_i))throw new Error(So);return Ml(e)},sc=(e,t)=>{const n=ac(t),r=R.useMemo(()=>Ni(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,n),[e,n]),[i,a]=Xl(Kl(r,t));return[R.useMemo(()=>{const u=[e.findMany.operationName];let l=i.data;if(l){const c=Zt(i.data,u);if(c){const p=Rn(i,c);l=en.boot(e,p,c)}}const d=Mt.errorIfDataAbsent(i,u,t==null?void 0:t.pause);return{...i,data:l,error:d}},[e,t==null?void 0:t.pause,i]),a]};var ui={exports:{}},In={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va;function uc(){if(va)return In;va=1;var e=R,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,d){var c,p={},m=null,y=null;d!==void 0&&(m=""+d),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(p[c]=l[c]);if(u&&u.defaultProps)for(c in l=u.defaultProps,l)p[c]===void 0&&(p[c]=l[c]);return{$$typeof:t,type:u,key:m,ref:y,props:p,_owner:i.current}}return In.Fragment=n,In.jsx=s,In.jsxs=s,In}var Wn={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa;function lc(){return Sa||(Sa=1,process.env.NODE_ENV!=="production"&&function(){var e=R,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),g=Symbol.iterator,E="@@iterator";function P(o){if(o===null||typeof o!="object")return null;var f=g&&o[g]||o[E];return typeof f=="function"?f:null}var x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(o){{for(var f=arguments.length,h=new Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];C("error",o,h)}}function C(o,f,h){{var v=x.ReactDebugCurrentFrame,O=v.getStackAddendum();O!==""&&(f+="%s",h=h.concat([O]));var k=h.map(function(N){return String(N)});k.unshift("Warning: "+f),Function.prototype.apply.call(console[o],console,k)}}var b=!1,T=!1,S=!1,V=!1,Ce=!1,Fe;Fe=Symbol.for("react.module.reference");function Ve(o){return!!(typeof o=="string"||typeof o=="function"||o===r||o===a||Ce||o===i||o===d||o===c||V||o===y||b||T||S||typeof o=="object"&&o!==null&&(o.$$typeof===m||o.$$typeof===p||o.$$typeof===s||o.$$typeof===u||o.$$typeof===l||o.$$typeof===Fe||o.getModuleId!==void 0))}function ut(o,f,h){var v=o.displayName;if(v)return v;var O=f.displayName||f.name||"";return O!==""?h+"("+O+")":h}function te(o){return o.displayName||"Context"}function W(o){if(o==null)return null;if(typeof o.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case r:return"Fragment";case n:return"Portal";case a:return"Profiler";case i:return"StrictMode";case d:return"Suspense";case c:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case u:var f=o;return te(f)+".Consumer";case s:var h=o;return te(h._context)+".Provider";case l:return ut(o,o.render,"ForwardRef");case p:var v=o.displayName||null;return v!==null?v:W(o.type)||"Memo";case m:{var O=o,k=O._payload,N=O._init;try{return W(N(k))}catch{return null}}}return null}var _=Object.assign,U=0,B,$,J,ke,q,je,Ue;function Xe(){}Xe.__reactDisabledLog=!0;function Ze(){{if(U===0){B=console.log,$=console.info,J=console.warn,ke=console.error,q=console.group,je=console.groupCollapsed,Ue=console.groupEnd;var o={configurable:!0,enumerable:!0,value:Xe,writable:!0};Object.defineProperties(console,{info:o,log:o,warn:o,error:o,group:o,groupCollapsed:o,groupEnd:o})}U++}}function ne(){{if(U--,U===0){var o={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:_({},o,{value:B}),info:_({},o,{value:$}),warn:_({},o,{value:J}),error:_({},o,{value:ke}),group:_({},o,{value:q}),groupCollapsed:_({},o,{value:je}),groupEnd:_({},o,{value:Ue})})}U<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var H=x.ReactCurrentDispatcher,yt;function Be(o,f,h){{if(yt===void 0)try{throw Error()}catch(O){var v=O.stack.trim().match(/\n( *(at )?)/);yt=v&&v[1]||""}return`
`+yt+o}}var At=!1,lt;{var dr=typeof WeakMap=="function"?WeakMap:Map;lt=new dr}function rn(o,f){if(!o||At)return"";{var h=lt.get(o);if(h!==void 0)return h}var v;At=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var k;k=H.current,H.current=null,Ze();try{if(f){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(ue){v=ue}Reflect.construct(o,[],N)}else{try{N.call()}catch(ue){v=ue}o.call(N.prototype)}}else{try{throw Error()}catch(ue){v=ue}o()}}catch(ue){if(ue&&v&&typeof ue.stack=="string"){for(var I=ue.stack.split(`
`),z=v.stack.split(`
`),D=I.length-1,F=z.length-1;D>=1&&F>=0&&I[D]!==z[F];)F--;for(;D>=1&&F>=0;D--,F--)if(I[D]!==z[F]){if(D!==1||F!==1)do if(D--,F--,F<0||I[D]!==z[F]){var K=`
`+I[D].replace(" at new "," at ");return o.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",o.displayName)),typeof o=="function"&&lt.set(o,K),K}while(D>=1&&F>=0);break}}}finally{At=!1,H.current=k,ne(),Error.prepareStackTrace=O}var xe=o?o.displayName||o.name:"",gn=xe?Be(xe):"";return typeof o=="function"&&lt.set(o,gn),gn}function fr(o,f,h){return rn(o,!1)}function pr(o){var f=o.prototype;return!!(f&&f.isReactComponent)}function ct(o,f,h){if(o==null)return"";if(typeof o=="function")return rn(o,pr(o));if(typeof o=="string")return Be(o);switch(o){case d:return Be("Suspense");case c:return Be("SuspenseList")}if(typeof o=="object")switch(o.$$typeof){case l:return fr(o.render);case p:return ct(o.type,f,h);case m:{var v=o,O=v._payload,k=v._init;try{return ct(k(O),f,h)}catch{}}}return""}var dt=Object.prototype.hasOwnProperty,an={},on=x.ReactDebugCurrentFrame;function ft(o){if(o){var f=o._owner,h=ct(o.type,o._source,f?f.type:null);on.setExtraStackFrame(h)}else on.setExtraStackFrame(null)}function hr(o,f,h,v,O){{var k=Function.call.bind(dt);for(var N in o)if(k(o,N)){var I=void 0;try{if(typeof o[N]!="function"){var z=Error((v||"React class")+": "+h+" type `"+N+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[N]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}I=o[N](f,N,v,h,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(D){I=D}I&&!(I instanceof Error)&&(ft(O),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",v||"React class",h,N,typeof I),ft(null)),I instanceof Error&&!(I.message in an)&&(an[I.message]=!0,ft(O),w("Failed %s type: %s",h,I.message),ft(null))}}}var mr=Array.isArray;function Tt(o){return mr(o)}function yr(o){{var f=typeof Symbol=="function"&&Symbol.toStringTag,h=f&&o[Symbol.toStringTag]||o.constructor.name||"Object";return h}}function gr(o){try{return sn(o),!1}catch{return!0}}function sn(o){return""+o}function un(o){if(gr(o))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",yr(o)),sn(o)}var qe=x.ReactCurrentOwner,br={key:!0,ref:!0,__self:!0,__source:!0},ln,cn,kt;kt={};function vr(o){if(dt.call(o,"ref")){var f=Object.getOwnPropertyDescriptor(o,"ref").get;if(f&&f.isReactWarning)return!1}return o.ref!==void 0}function Sr(o){if(dt.call(o,"key")){var f=Object.getOwnPropertyDescriptor(o,"key").get;if(f&&f.isReactWarning)return!1}return o.key!==void 0}function Ir(o,f){if(typeof o.ref=="string"&&qe.current&&f&&qe.current.stateNode!==f){var h=W(qe.current.type);kt[h]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',W(qe.current.type),o.ref),kt[h]=!0)}}function wr(o,f){{var h=function(){ln||(ln=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};h.isReactWarning=!0,Object.defineProperty(o,"key",{get:h,configurable:!0})}}function Nr(o,f){{var h=function(){cn||(cn=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",f))};h.isReactWarning=!0,Object.defineProperty(o,"ref",{get:h,configurable:!0})}}var Er=function(o,f,h,v,O,k,N){var I={$$typeof:t,type:o,key:f,ref:h,props:N,_owner:k};return I._store={},Object.defineProperty(I._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(I,"_self",{configurable:!1,enumerable:!1,writable:!1,value:v}),Object.defineProperty(I,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(I.props),Object.freeze(I)),I};function Or(o,f,h,v,O){{var k,N={},I=null,z=null;h!==void 0&&(un(h),I=""+h),Sr(f)&&(un(f.key),I=""+f.key),vr(f)&&(z=f.ref,Ir(f,O));for(k in f)dt.call(f,k)&&!br.hasOwnProperty(k)&&(N[k]=f[k]);if(o&&o.defaultProps){var D=o.defaultProps;for(k in D)N[k]===void 0&&(N[k]=D[k])}if(I||z){var F=typeof o=="function"?o.displayName||o.name||"Unknown":o;I&&wr(N,F),z&&Nr(N,F)}return Er(o,I,z,O,v,qe.current,N)}}var _t=x.ReactCurrentOwner,dn=x.ReactDebugCurrentFrame;function _e(o){if(o){var f=o._owner,h=ct(o.type,o._source,f?f.type:null);dn.setExtraStackFrame(h)}else dn.setExtraStackFrame(null)}var xt;xt=!1;function Pt(o){return typeof o=="object"&&o!==null&&o.$$typeof===t}function fn(){{if(_t.current){var o=W(_t.current.type);if(o)return`

Check the render method of \``+o+"`."}return""}}function Ar(o){{if(o!==void 0){var f=o.fileName.replace(/^.*[\\\/]/,""),h=o.lineNumber;return`

Check your code at `+f+":"+h+"."}return""}}var pn={};function Tr(o){{var f=fn();if(!f){var h=typeof o=="string"?o:o.displayName||o.name;h&&(f=`

Check the top-level render call using <`+h+">.")}return f}}function hn(o,f){{if(!o._store||o._store.validated||o.key!=null)return;o._store.validated=!0;var h=Tr(f);if(pn[h])return;pn[h]=!0;var v="";o&&o._owner&&o._owner!==_t.current&&(v=" It was passed a child from "+W(o._owner.type)+"."),_e(o),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',h,v),_e(null)}}function mn(o,f){{if(typeof o!="object")return;if(Tt(o))for(var h=0;h<o.length;h++){var v=o[h];Pt(v)&&hn(v,f)}else if(Pt(o))o._store&&(o._store.validated=!0);else if(o){var O=P(o);if(typeof O=="function"&&O!==o.entries)for(var k=O.call(o),N;!(N=k.next()).done;)Pt(N.value)&&hn(N.value,f)}}}function kr(o){{var f=o.type;if(f==null||typeof f=="string")return;var h;if(typeof f=="function")h=f.propTypes;else if(typeof f=="object"&&(f.$$typeof===l||f.$$typeof===p))h=f.propTypes;else return;if(h){var v=W(f);hr(h,o.props,"prop",v,o)}else if(f.PropTypes!==void 0&&!xt){xt=!0;var O=W(f);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof f.getDefaultProps=="function"&&!f.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function _r(o){{for(var f=Object.keys(o.props),h=0;h<f.length;h++){var v=f[h];if(v!=="children"&&v!=="key"){_e(o),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",v),_e(null);break}}o.ref!==null&&(_e(o),w("Invalid attribute `ref` supplied to `React.Fragment`."),_e(null))}}function yn(o,f,h,v,O,k){{var N=Ve(o);if(!N){var I="";(o===void 0||typeof o=="object"&&o!==null&&Object.keys(o).length===0)&&(I+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var z=Ar(O);z?I+=z:I+=fn();var D;o===null?D="null":Tt(o)?D="array":o!==void 0&&o.$$typeof===t?(D="<"+(W(o.type)||"Unknown")+" />",I=" Did you accidentally export a JSX literal instead of a component?"):D=typeof o,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",D,I)}var F=Or(o,f,h,O,k);if(F==null)return F;if(N){var K=f.children;if(K!==void 0)if(v)if(Tt(K)){for(var xe=0;xe<K.length;xe++)mn(K[xe],o);Object.freeze&&Object.freeze(K)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else mn(K,o)}return o===r?_r(F):kr(F),F}}function xr(o,f,h){return yn(o,f,h,!0)}function Pr(o,f,h){return yn(o,f,h,!1)}var Rr=Pr,Dr=xr;Wn.Fragment=r,Wn.jsx=Rr,Wn.jsxs=Dr}()),Wn}process.env.NODE_ENV==="production"?ui.exports=uc():ui.exports=lc();var Ia=ui.exports;const cc=R.forwardRef(function({open:e,onShow:t,onHide:n,children:r,...i},a){const[s,u]=R.useState(),{titleBar:l,modalContent:d}=R.Children.toArray(r).reduce((p,m)=>{const y=typeof m=="object"&&"type"in m?m.type:void 0;return y==="ui-title-bar"||typeof y=="object"&&y.displayName==="ui-title-bar"?{...p,titleBar:m}:(p.modalContent.push(m),p)},{modalContent:[]}),c=s?Eo.createPortal(d,s.content):null;return R.useEffect(()=>{s&&(e?s.show():s.hide())},[s,e]),R.useEffect(()=>{if(!(!s||!t))return s.addEventListener("show",t),()=>{s.removeEventListener("show",t)}},[s,t]),R.useEffect(()=>{if(!(!s||!n))return s.addEventListener("hide",n),()=>{s.removeEventListener("hide",n)}},[s,n]),R.useEffect(()=>{if(s)return()=>{s.hide()}},[s]),Ia.jsxs("ui-modal",{...i,ref:p=>{u(p),a&&(typeof a=="function"?a(p):a.current=p)},children:[l,Ia.jsx("div",{children:c})]})});cc.displayName="ui-modal";const dc=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function fc(){if(typeof window>"u")return dc;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}var It;(function(e){e[e.Standalone=0]="Standalone",e[e.Embedded=1]="Embedded"})(It||(It={}));const pc=`
  mutation ShopifyFetchOrInstallShop($shopifySessionToken: String!) {
    shopifyConnection {
      fetchOrInstallShop(shopifySessionToken: $shopifySessionToken) {
        isAuthenticated
        redirectToOauth
        missingScopes
      }
    }
  }
`,hc=R.memo(({children:e,gadgetAppUrl:t,originalQueryParams:n,api:r,type:i,host:a,isReady:s,isRootFrameRequest:u})=>{const l=fc(),d=(n==null?void 0:n.has("hmac"))&&(n==null?void 0:n.has("shop")),c=l.environment.embedded||l.environment.mobile,p=c&&i===It.Embedded,m=s&&typeof a<"u"&&!p,[y,g]=R.useState({isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!0,appBridge:l,isRootFrameRequest:!1}),[E,P]=R.useState(null),[x,w]=R.useState();R.useEffect(()=>{l&&l.idToken().then(P).catch(w)},[l]),R.useEffect(()=>{if(!E){console.debug("[gadget-rsab] no app bridge, skipping client auth setup");return}r.connection.setAuthenticationMode({custom:{async processFetch(te,W){const _=new Headers(W.headers);_.append("Authorization",`ShopifySessionToken ${E}`),W.headers??(W.headers={}),_.forEach(function(U,B){W.headers[B]=U})},async processTransactionConnectionParams(te){te.auth.shopifySessionToken=E}}}),console.debug("[gadget-rsab] set up client auth for session tokens")},[r.connection,E]);let C=!1,b=!1,T=[];const S=R.useRef(!1),[{data:V,fetching:Ce,error:Fe},Ve]=oc(pc);V&&(console.debug({fetchOrInstallShopData:V},"[gadget-rsab] fetched or installed shop data"),C=V.shopifyConnection.fetchOrInstallShop.redirectToOauth,b=V.shopifyConnection.fetchOrInstallShop.isAuthenticated,T=V.shopifyConnection.fetchOrInstallShop.missingScopes??[]),R.useEffect(()=>{S.current||E&&(S.current=!0,Ve({shopifySessionToken:E}).catch(te=>{console.error({err:te},"[gadget-rsab] error fetching or installing shop")}))},[E,Ve]),R.useEffect(()=>{if(!C||u)return;const te=new URL("/api/connections/auth/shopify",t);te.search=(n==null?void 0:n.toString())??"";const W=te.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process",{appType:i,isInstallRequest:d,isEmbedded:c,redirectURL:W,gadgetAppUrl:t}),open(W,"_top")},[t,u,n,C]);const ut=(m||C||Ce)&&!u;return R.useEffect(()=>{const te={isAuthenticated:b,isEmbedded:c,canAuth:!!l,loading:ut,appBridge:l,error:Fe||x,isRootFrameRequest:u};return console.debug("[gadget-rsab] context changed",te),g(te)},[ut,c,l,b,Fe,x,u]),R.useEffect(()=>{if(T.length>0&&!C){const te=new CustomEvent("gadget:devharness:rsab.shopifyManagedInstallation.missingScopes",{detail:{missingScopes:T}});globalThis.dispatchEvent(te)}},[C,T]),R.createElement(Io.Provider,{value:y},e)}),mc=({isRootFrameRequest:e,children:t,query:n,gadgetAppUrl:r,type:i})=>{const a=(n==null?void 0:n.has("hmac"))&&(n==null?void 0:n.has("shop")),s=a;return R.useEffect(()=>{if(!s||e)return;const u=new URL("/api/connections/auth/shopify",r);u.search=(n==null?void 0:n.toString())??"";const l=u.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process in standalone mode or missing app bridge global",{appType:i,isInstallRequest:a,redirectURL:l,gadgetAppUrl:r}),window.location.assign(l)},[r,e,n,s]),R.createElement(Io.Provider,{value:{isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!1,appBridge:null,isRootFrameRequest:e}},t)},yc=({type:e,children:t,api:n})=>{const r=!!(globalThis&&globalThis.shopify),[i,a]=R.useState(null),s=!!i,{query:u}=i??{},l=(u==null?void 0:u.get("host"))??void 0,d=e??It.Embedded,c=R.useMemo(()=>u,[s]),p=!(u!=null&&u.has("hmac"))&&!(u!=null&&u.has("shop"))&&e==It.Embedded,m=new URL(n.connection.options.endpoint).origin;if(R.useEffect(()=>{a({asPath:`${window.location.pathname}${window.location.search}`,query:new URLSearchParams(window.location.search)})},[]),console.debug("[gadget-rsab] provider rendering",{host:l,coalescedType:d,isReady:s}),d==It.Embedded&&!r&&globalThis.top&&globalThis.top!==globalThis.self){let y;try{const g=document.referrer;y=new URL(g)}catch{const E=new CustomEvent("gadget:devharness:rsab.invalidReferrer",{detail:{url:document.referrer}});globalThis.dispatchEvent(E)}if(y&&y.hostname==="admin.shopify.com")throw new Error("Expected app bridge to be defined in embedded context, but it was not. This is likely due to a missing script tag, see https://shopify.dev/docs/api/app-bridge-library")}if(d===It.Embedded&&globalThis.top===globalThis.self){const y=new CustomEvent("gadget:devharness:rsab.embeddedInRootContext");globalThis.dispatchEvent(y)}return R.createElement(Ql,{api:n},d===It.Embedded&&r?R.createElement(hc,{gadgetAppUrl:m,api:n,originalQueryParams:c,type:d,host:l,isReady:s,isRootFrameRequest:p},t):R.createElement(mc,{isRootFrameRequest:p,query:u,type:d,gadgetAppUrl:m},t))},Io=R.createContext({loading:!0,isEmbedded:!1,isAuthenticated:!1,canAuth:!1,appBridge:null,isRootFrameRequest:!1}),wo=new Cl,No=()=>{const[{data:e}]=sc(wo.shopifyProduct);return Kn.jsx(Kn.Fragment,{children:JSON.stringify(e)})},gc=()=>Kn.jsx(yc,{api:wo,shopifyApiKey:"deadbeef",children:Kn.jsx(No,{})});exports.App=gc;exports.Reader=No;exports.commonjsGlobal=Ao;exports.getDefaultExportFromCjs=wa;
