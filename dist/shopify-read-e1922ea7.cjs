"use strict";const T=require("react"),Da=require("react-dom");function ja(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const ke=ja(T);var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var On={exports:{}},lr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li;function Ma(){if(li)return lr;li=1;var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return lr.Fragment=r,lr.jsx=s,lr.jsxs=s,lr}var cr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci;function $a(){return ci||(ci=1,process.env.NODE_ENV!=="production"&&function(){var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function M(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];V("error",a,p)}}function V(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,G=!1,Ee=!1,De;De=Symbol.for("react.module.reference");function qe(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ee||a===i||a===f||a===d||G||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===De||a.getModuleId!==void 0))}function ne(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function ee(a){return a.displayName||"Context"}function z(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return ee(c)+".Consumer";case s:var p=a;return ee(p._context)+".Provider";case l:return ne(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:z(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return z(k(A))}catch{return null}}}return null}var N=Object.assign,$=0,q,D,W,Ne,B,je,Be;function Ye(){}Ye.__reactDisabledLog=!0;function Je(){{if($===0){q=console.log,D=console.info,W=console.warn,Ne=console.error,B=console.group,je=console.groupCollapsed,Be=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ye,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}$++}}function H(){{if($--,$===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:q}),info:N({},a,{value:D}),warn:N({},a,{value:W}),error:N({},a,{value:Ne}),group:N({},a,{value:B}),groupCollapsed:N({},a,{value:je}),groupEnd:N({},a,{value:Be})})}$<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var K=R.ReactCurrentDispatcher,dt;function Ue(a,c,p){{if(dt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);dt=g&&g[1]||""}return`
`+dt+a}}var wt=!1,it;{var Yr=typeof WeakMap=="function"?WeakMap:Map;it=new Yr}function Jt(a,c){if(!a||wt)return"";{var p=it.get(a);if(p!==void 0)return p}var g;wt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=K.current,K.current=null,Je();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ie){g=ie}Reflect.construct(a,[],k)}else{try{k.call()}catch(ie){g=ie}a.call(k.prototype)}}else{try{throw Error()}catch(ie){g=ie}a()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var w=ie.stack.split(`
`),U=g.stack.split(`
`),C=w.length-1,_=U.length-1;C>=1&&_>=0&&w[C]!==U[_];)_--;for(;C>=1&&_>=0;C--,_--)if(w[C]!==U[_]){if(C!==1||_!==1)do if(C--,_--,_<0||w[C]!==U[_]){var Y=`
`+w[C].replace(" at new "," at ");return a.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",a.displayName)),typeof a=="function"&&it.set(a,Y),Y}while(C>=1&&_>=0);break}}}finally{wt=!1,K.current=A,H(),Error.prepareStackTrace=O}var Te=a?a.displayName||a.name:"",ur=Te?Ue(Te):"";return typeof a=="function"&&it.set(a,ur),ur}function Jr(a,c,p){return Jt(a,!1)}function Qr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function at(a,c,p){if(a==null)return"";if(typeof a=="function")return Jt(a,Qr(a));if(typeof a=="string")return Ue(a);switch(a){case f:return Ue("Suspense");case d:return Ue("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Jr(a.render);case y:return at(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return at(A(O),c,p)}catch{}}}return""}var ot=Object.prototype.hasOwnProperty,Qt={},Ht=R.ReactDebugCurrentFrame;function st(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);Ht.setExtraStackFrame(p)}else Ht.setExtraStackFrame(null)}function Hr(a,c,p,g,O){{var A=Function.call.bind(ot);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var U=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw U.name="Invariant Violation",U}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(C){w=C}w&&!(w instanceof Error)&&(st(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),st(null)),w instanceof Error&&!(w.message in Qt)&&(Qt[w.message]=!0,st(O),I("Failed %s type: %s",p,w.message),st(null))}}}var Xr=Array.isArray;function It(a){return Xr(a)}function Zr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function en(a){try{return Xt(a),!1}catch{return!0}}function Xt(a){return""+a}function Zt(a){if(en(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Zr(a)),Xt(a)}var Ve=R.ReactCurrentOwner,tn={key:!0,ref:!0,__self:!0,__source:!0},er,tr,kt;kt={};function rn(a){if(ot.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function nn(a){if(ot.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function an(a,c){if(typeof a.ref=="string"&&Ve.current&&c&&Ve.current.stateNode!==c){var p=z(Ve.current.type);kt[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z(Ve.current.type),a.ref),kt[p]=!0)}}function on(a,c){{var p=function(){er||(er=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function sn(a,c){{var p=function(){tr||(tr=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var un=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function ln(a,c,p,g,O){{var A,k={},w=null,U=null;p!==void 0&&(Zt(p),w=""+p),nn(c)&&(Zt(c.key),w=""+c.key),rn(c)&&(U=c.ref,an(c,O));for(A in c)ot.call(c,A)&&!tn.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var C=a.defaultProps;for(A in C)k[A]===void 0&&(k[A]=C[A])}if(w||U){var _=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&on(k,_),U&&sn(k,_)}return un(a,w,U,O,g,Ve.current,k)}}var Ot=R.ReactCurrentOwner,rr=R.ReactDebugCurrentFrame;function Pe(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);rr.setExtraStackFrame(p)}else rr.setExtraStackFrame(null)}var At;At=!1;function Et(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function nr(){{if(Ot.current){var a=z(Ot.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function cn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var ir={};function dn(a){{var c=nr();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function ar(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=dn(c);if(ir[p])return;ir[p]=!0;var g="";a&&a._owner&&a._owner!==Ot.current&&(g=" It was passed a child from "+z(a._owner.type)+"."),Pe(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Pe(null)}}function or(a,c){{if(typeof a!="object")return;if(It(a))for(var p=0;p<a.length;p++){var g=a[p];Et(g)&&ar(g,c)}else if(Et(a))a._store&&(a._store.validated=!0);else if(a){var O=M(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)Et(k.value)&&ar(k.value,c)}}}function fn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=z(c);Hr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!At){At=!0;var O=z(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Pe(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Pe(null);break}}a.ref!==null&&(Pe(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Pe(null))}}function sr(a,c,p,g,O,A){{var k=qe(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var U=cn(O);U?w+=U:w+=nr();var C;a===null?C="null":It(a)?C="array":a!==void 0&&a.$$typeof===t?(C="<"+(z(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):C=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",C,w)}var _=ln(a,c,p,O,A);if(_==null)return _;if(k){var Y=c.children;if(Y!==void 0)if(g)if(It(Y)){for(var Te=0;Te<Y.length;Te++)or(Y[Te],a);Object.freeze&&Object.freeze(Y)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else or(Y,a)}return a===n?pn(_):fn(_),_}}function yn(a,c,p){return sr(a,c,p,!0)}function hn(a,c,p){return sr(a,c,p,!1)}var mn=hn,bn=yn;cr.Fragment=n,cr.jsx=mn,cr.jsxs=bn}()),cr}process.env.NODE_ENV==="production"?On.exports=Ma():On.exports=$a();var Fr=On.exports;const qa=e=>e&&"connection"in e&&e.connection&&"endpoint"in e.connection;var Gn=()=>{},Oe=Gn;function Ke(e){return{tag:0,0:e}}function Or(e){return{tag:1,0:e}}var Ba=e=>e;function te(e){return t=>r=>{var n=Oe;t(i=>{i===0?r(0):i.tag===0?(n=i[0],r(i)):e(i[0])?r(i):n(0)})}}function Vt(e){return t=>r=>t(n=>{n===0||n.tag===0?r(n):r(Or(e(n[0])))})}function Sr(e){return t=>r=>{var n=[],i=Oe,o=!1,s=!1;t(u=>{s||(u===0?(s=!0,n.length||r(0)):u.tag===0?i=u[0]:(o=!1,function(f){var d=Oe;f(y=>{if(y===0){if(n.length){var h=n.indexOf(d);h>-1&&(n=n.slice()).splice(h,1),n.length||(s?r(0):o||(o=!0,i(0)))}}else y.tag===0?(n.push(d=y[0]),d(0)):n.length&&(r(y),d(0))})}(e(u[0])),o||(o=!0,i(0))))}),r(Ke(u=>{if(u===1){s||(s=!0,i(1));for(var l=0,f=n,d=n.length;l<d;l++)f[l](1);n.length=0}else{!s&&!o?(o=!0,i(0)):o=!1;for(var y=0,h=n,m=n.length;y<m;y++)h[y](0)}}))}}function Ua(e){return Sr(Ba)(e)}function Gt(e){return Ua(La(e))}function Ln(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0),e();else if(i.tag===0){var o=i[0];r(Ke(s=>{s===1?(n=!0,o(1),e()):o(s)}))}else r(i)})}}function jt(e){return t=>r=>{var n=!1;t(i=>{if(!n)if(i===0)n=!0,r(0);else if(i.tag===0){var o=i[0];r(Ke(s=>{s===1&&(n=!0),o(s)}))}else e(i[0]),r(i)})}}function di(e){return t=>r=>t(n=>{n===0?r(0):n.tag===0?(r(n),e()):r(n)})}function wr(e){var t=[],r=Oe,n=!1;return i=>{t.push(i),t.length===1&&e(o=>{if(o===0){for(var s=0,u=t,l=t.length;s<l;s++)u[s](0);t.length=0}else if(o.tag===0)r=o[0];else{n=!1;for(var f=0,d=t,y=t.length;f<y;f++)d[f](o)}}),i(Ke(o=>{if(o===1){var s=t.indexOf(i);s>-1&&(t=t.slice()).splice(s,1),t.length||r(1)}else n||(n=!0,r(0))}))}}function fi(e){return t=>r=>{var n=Oe,i=Oe,o=!1,s=!1,u=!1,l=!1;t(f=>{l||(f===0?(l=!0,u||r(0)):f.tag===0?n=f[0]:(u&&(i(1),i=Oe),o?o=!1:(o=!0,n(0)),function(y){u=!0,y(h=>{u&&(h===0?(u=!1,l?r(0):o||(o=!0,n(0))):h.tag===0?(s=!1,(i=h[0])(0)):(r(h),s?s=!1:i(0)))})}(e(f[0]))))}),r(Ke(f=>{f===1?(l||(l=!0,n(1)),u&&(u=!1,i(1))):(!l&&!o&&(o=!0,n(0)),u&&!s&&(s=!0,i(0)))}))}}function Ar(e){return t=>r=>{var n=Oe,i=!1,o=0;t(s=>{i||(s===0?(i=!0,r(0)):s.tag===0?e<=0?(i=!0,r(0),s[0](1)):n=s[0]:o++<e?(r(s),!i&&o>=e&&(i=!0,r(0),n(1))):r(s))}),r(Ke(s=>{s===1&&!i?(i=!0,n(1)):s===0&&!i&&o<e&&n(0)}))}}function Wn(e){return t=>r=>{var n=Oe,i=Oe,o=!1;t(s=>{o||(s===0?(o=!0,i(1),r(0)):s.tag===0?(n=s[0],e(u=>{u===0||(u.tag===0?(i=u[0])(0):(o=!0,i(1),n(1),r(0)))})):r(s))}),r(Ke(s=>{s===1&&!o?(o=!0,n(1),i(1)):o||n(0)}))}}function Yi(e,t){return r=>n=>{var i=Oe,o=!1;r(s=>{o||(s===0?(o=!0,n(0)):s.tag===0?(i=s[0],n(s)):e(s[0])?n(s):(o=!0,t&&n(s),n(0),i(1)))})}}function Va(e){return t=>e()(t)}function Ji(e){return t=>{var r=e[Symbol.asyncIterator](),n=!1,i=!1,o=!1,s;t(Ke(async u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=await r.next()).done)n=!0,r.return&&await r.return(),t(0);else try{o=!1,t(Or(s.value))}catch(l){if(r.throw)(n=!!(await r.throw(l)).done)&&t(0);else throw l}i=!1}}))}}function Ga(e){return e[Symbol.asyncIterator]?Ji(e):t=>{var r=e[Symbol.iterator](),n=!1,i=!1,o=!1,s;t(Ke(u=>{if(u===1)n=!0,r.return&&r.return();else if(i)o=!0;else{for(o=i=!0;o&&!n;)if((s=r.next()).done)n=!0,r.return&&r.return(),t(0);else try{o=!1,t(Or(s.value))}catch(l){if(r.throw)(n=!!r.throw(l).done)&&t(0);else throw l}i=!1}}))}}var La=Ga;function hr(e){return t=>{var r=!1;t(Ke(n=>{n===1?r=!0:r||(r=!0,t(Or(e)),t(0))}))}}function zn(e){return t=>{var r=!1,n=e({next(i){r||t(Or(i))},complete(){r||(r=!0,t(0))}});t(Ke(i=>{i===1&&!r&&(r=!0,n())}))}}function pi(){var e,t;return{source:wr(zn(r=>(e=r.next,t=r.complete,Gn))),next(r){e&&e(r)},complete(){t&&t()}}}function yi(e){return zn(t=>(e.then(r=>{Promise.resolve(r).then(()=>{t.next(r),t.complete()})}),Gn))}function Ft(e){return t=>{var r=Oe,n=!1;return t(i=>{i===0?n=!0:i.tag===0?(r=i[0])(0):n||(e(i[0]),r(0))}),{unsubscribe(){n||(n=!0,r(1))}}}}function Wa(e){Ft(t=>{})(e)}var gn={done:!0},za=e=>({[Symbol.asyncIterator](){var t=[],r=!1,n=Oe,i;return e(o=>{r||(o===0?(i&&(i=i(gn)),r=!0):o.tag===0?(n=o[0])(0):i?i=i({value:o[0],done:!1}):t.push(o[0]))}),{async next(){return r&&!t.length?gn:(!r&&t.length<=1&&n(0),t.length?{value:t.shift(),done:!1}:new Promise(o=>i=o))},async return(){return r||(i=n(1)),r=!0,gn}}}});function Gr(e){return new Promise(t=>{var r=Oe,n;e(i=>{i===0?Promise.resolve(n).then(t):i.tag===0?(r=i[0])(0):(n=i[0],r(0))})})}var Kn=(...e)=>{for(var t=e[0],r=1,n=e.length;r<n;r++)t=e[r](t);return t},Ut={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class Ir extends Error{constructor(t,r,n,i,o,s,u){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),s&&(this.originalError=s);var l=u;if(!l&&s){var f=s.extensions;f&&typeof f=="object"&&(l=f)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var J,x;function re(e){return new Ir(`Syntax Error: Unexpected token at ${x} in ${e}`)}function Re(e){if(e.lastIndex=x,e.test(J))return J.slice(x,x=e.lastIndex)}var Pr=/ +(?=[^\s])/y;function Ka(e){for(var t=e.split(`
`),r="",n=0,i=0,o=t.length-1,s=0;s<t.length;s++)Pr.lastIndex=0,Pr.test(t[s])&&(s&&(!n||Pr.lastIndex<n)&&(n=Pr.lastIndex),i=i||s,o=s);for(var u=i;u<=o;u++)u!==i&&(r+=`
`),r+=t[u].slice(n).replace(/\\"""/g,'"""');return r}function F(){for(var e=0|J.charCodeAt(x++);e===9||e===10||e===13||e===32||e===35||e===44||e===65279;e=0|J.charCodeAt(x++))if(e===35)for(;(e=J.charCodeAt(x++))!==10&&e!==13;);x--}var Qi=/[_A-Za-z]\w*/y;function nt(){var e;if(e=Re(Qi))return{kind:"Name",value:e}}var Ya=/(?:null|true|false)/y,Hi=/\$[_A-Za-z]\w*/y,Ja=/-?\d+/y,Qa=/(?:\.\d+)?[eE][+-]?\d+|\.\d+/y,Ha=/\\/g,Xa=/"""(?:"""|(?:[\s\S]*?[^\\])""")/y,Za=/"(?:"|[^\r\n]*?[^\\]")/y;function Mr(e){var t,r;if(r=Re(Ya))t=r==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:r==="true"};else if(!e&&(r=Re(Hi)))t={kind:"Variable",name:{kind:"Name",value:r.slice(1)}};else if(r=Re(Ja)){var n=r;(r=Re(Qa))?t={kind:"FloatValue",value:n+r}:t={kind:"IntValue",value:n}}else if(r=Re(Qi))t={kind:"EnumValue",value:r};else if(r=Re(Xa))t={kind:"StringValue",value:Ka(r.slice(3,-3)),block:!0};else if(r=Re(Za))t={kind:"StringValue",value:Ha.test(r)?JSON.parse(r):r.slice(1,-1),block:!1};else if(t=function(o){var s;if(J.charCodeAt(x)===91){x++,F();for(var u=[];s=Mr(o);)u.push(s);if(J.charCodeAt(x++)!==93)throw re("ListValue");return F(),{kind:"ListValue",values:u}}}(e)||function(o){if(J.charCodeAt(x)===123){x++,F();for(var s=[],u;u=nt();){if(F(),J.charCodeAt(x++)!==58)throw re("ObjectField");F();var l=Mr(o);if(!l)throw re("ObjectField");s.push({kind:"ObjectField",name:u,value:l})}if(J.charCodeAt(x++)!==125)throw re("ObjectValue");return F(),{kind:"ObjectValue",fields:s}}}(e))return t;return F(),t}function Xi(e){var t=[];if(F(),J.charCodeAt(x)===40){x++,F();for(var r;r=nt();){if(F(),J.charCodeAt(x++)!==58)throw re("Argument");F();var n=Mr(e);if(!n)throw re("Argument");t.push({kind:"Argument",name:r,value:n})}if(!t.length||J.charCodeAt(x++)!==41)throw re("Argument");F()}return t}function Lt(e){var t=[];for(F();J.charCodeAt(x)===64;){x++;var r=nt();if(!r)throw re("Directive");F(),t.push({kind:"Directive",name:r,arguments:Xi(e)})}return t}function eo(){var e=nt();if(e){F();var t;if(J.charCodeAt(x)===58){if(x++,F(),t=e,!(e=nt()))throw re("Field");F()}return{kind:"Field",alias:t,name:e,arguments:Xi(!1),directives:Lt(!1),selectionSet:Lr()}}}function Zi(){var e;if(F(),J.charCodeAt(x)===91){x++,F();var t=Zi();if(!t||J.charCodeAt(x++)!==93)throw re("ListType");e={kind:"ListType",type:t}}else if(e=nt())e={kind:"NamedType",name:e};else throw re("NamedType");return F(),J.charCodeAt(x)===33?(x++,F(),{kind:"NonNullType",type:e}):e}var to=/on/y;function ea(){if(Re(to)){F();var e=nt();if(!e)throw re("NamedType");return F(),{kind:"NamedType",name:e}}}var ro=/\.\.\./y;function no(){if(Re(ro)){F();var e=x,t;if((t=nt())&&t.value!=="on")return{kind:"FragmentSpread",name:t,directives:Lt(!1)};x=e;var r=ea(),n=Lt(!1),i=Lr();if(!i)throw re("InlineFragment");return{kind:"InlineFragment",typeCondition:r,directives:n,selectionSet:i}}}function Lr(){var e;if(F(),J.charCodeAt(x)===123){x++,F();for(var t=[];e=no()||eo();)t.push(e);if(!t.length||J.charCodeAt(x++)!==125)throw re("SelectionSet");return F(),{kind:"SelectionSet",selections:t}}}var io=/fragment/y;function ao(){if(Re(io)){F();var e=nt();if(!e)throw re("FragmentDefinition");F();var t=ea();if(!t)throw re("FragmentDefinition");var r=Lt(!1),n=Lr();if(!n)throw re("FragmentDefinition");return{kind:"FragmentDefinition",name:e,typeCondition:t,directives:r,selectionSet:n}}}var oo=/(?:query|mutation|subscription)/y;function so(){var e,t,r=[],n=[];(e=Re(oo))&&(F(),t=nt(),r=function(){var s,u=[];if(F(),J.charCodeAt(x)===40){for(x++,F();s=Re(Hi);){if(F(),J.charCodeAt(x++)!==58)throw re("VariableDefinition");var l=Zi(),f=void 0;if(J.charCodeAt(x)===61&&(x++,F(),!(f=Mr(!0))))throw re("VariableDefinition");F(),u.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s.slice(1)}},type:l,defaultValue:f,directives:Lt(!0)})}if(J.charCodeAt(x++)!==41)throw re("VariableDefinition");F()}return u}(),n=Lt(!1));var i=Lr();if(i)return{kind:"OperationDefinition",operation:e||"query",name:t,variableDefinitions:r,directives:n,selectionSet:i}}function uo(e,t){return J=typeof e.body=="string"?e.body:e,x=0,function(){var n;F();for(var i=[];n=ao()||so();)i.push(n);return{kind:"Document",definitions:i}}()}function lo(e){return JSON.stringify(e)}function co(e){return`"""
`+e.replace(/"""/g,'\\"""')+`
"""`}var Fe=e=>!(!e||!e.length),he={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!Fe(e.variableDefinitions)&&!Fe(e.directives))return he.SelectionSet(e.selectionSet);var t=e.operation;return e.name&&(t+=" "+e.name.value),Fe(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(he.VariableDefinition).join(", ")+")"),Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),t+" "+he.SelectionSet(e.selectionSet)},VariableDefinition(e){var t=he.Variable(e.variable)+": "+Me(e.type);return e.defaultValue&&(t+=" = "+Me(e.defaultValue)),Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),t},Field(e){var t=(e.alias?e.alias.value+": ":"")+e.name.value;if(Fe(e.arguments)){var r=e.arguments.map(he.Argument),n=t+"("+r.join(", ")+")";t=n.length>80?t+`(
  `+r.join(`
`).replace(/\n/g,`
  `)+`
)`:n}return Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),e.selectionSet?t+" "+he.SelectionSet(e.selectionSet):t},StringValue:e=>e.block?co(e.value):lo(e.value),BooleanValue:e=>""+e.value,NullValue:e=>"null",IntValue:e=>e.value,FloatValue:e=>e.value,EnumValue:e=>e.value,Name:e=>e.value,Variable:e=>"$"+e.name.value,ListValue:e=>"["+e.values.map(Me).join(", ")+"]",ObjectValue:e=>"{"+e.fields.map(he.ObjectField).join(", ")+"}",ObjectField:e=>e.name.value+": "+Me(e.value),Document:e=>Fe(e.definitions)?e.definitions.map(Me).join(`

`):"",SelectionSet:e=>`{
  `+e.selections.map(Me).join(`
`).replace(/\n/g,`
  `)+`
}`,Argument:e=>e.name.value+": "+Me(e.value),FragmentSpread(e){var t="..."+e.name.value;return Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),t},InlineFragment(e){var t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),t+" "+Me(e.selectionSet)},FragmentDefinition(e){var t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,Fe(e.directives)&&(t+=" "+e.directives.map(he.Directive).join(" ")),t+" "+Me(e.selectionSet)},Directive(e){var t="@"+e.name.value;return Fe(e.arguments)&&(t+="("+e.arguments.map(he.Argument).join(", ")+")"),t},NamedType:e=>e.name.value,ListType:e=>"["+Me(e.type)+"]",NonNullType:e=>Me(e.type)+"!"};function Me(e){return he[e.kind]?he[e.kind](e):""}var fo=e=>e&&e.message&&(e.extensions||e.name==="GraphQLError")?e:typeof e=="object"&&e.message?new Ir(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):new Ir(e);class Er extends Error{constructor(t){var r=(t.graphQLErrors||[]).map(fo),n=((i,o)=>{var s="";if(i)return`[Network] ${i.message}`;if(o)for(var u of o)s&&(s+=`
`),s+=`[GraphQL] ${u.message}`;return s})(t.networkError,r);super(n),this.name="CombinedError",this.message=n,this.graphQLErrors=r,this.networkError=t.networkError,this.response=t.response}toString(){return this.message}}var An=(e,t)=>{for(var r=0|(t||5381),n=0,i=0|e.length;n<i;n++)r=(r<<5)+r+e.charCodeAt(n);return r},Dt=new Set,hi=new WeakMap,qt=e=>{if(e===null||Dt.has(e))return"null";if(typeof e!="object")return JSON.stringify(e)||"";if(e.toJSON)return qt(e.toJSON());if(Array.isArray(e)){var t="[";for(var r of e)t.length>1&&(t+=","),t+=qt(r)||"null";return t+="]"}else if(qr!==Wt&&e instanceof qr||Br!==Wt&&e instanceof Br)return"null";var n=Object.keys(e).sort();if(!n.length&&e.constructor&&e.constructor!==Object){var i=hi.get(e)||Math.random().toString(36).slice(2);return hi.set(e,i),qt({__key:i})}Dt.add(e);var o="{";for(var s of n){var u=qt(e[s]);u&&(o.length>1&&(o+=","),o+=qt(s)+":"+u)}return Dt.delete(e),o+="}"},En=(e,t,r)=>{if(!(r==null||typeof r!="object"||r.toJSON||Dt.has(r)))if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)En(e,`${t}.${n}`,r[n]);else if(r instanceof qr||r instanceof Br)e.set(t,r);else{Dt.add(r);for(var o of Object.keys(r))En(e,`${t}.${o}`,r[o])}},$r=e=>(Dt.clear(),qt(e));class Wt{}var qr=typeof File<"u"?File:Wt,Br=typeof Blob<"u"?Blob:Wt,po=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,yo=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,ho=(e,t)=>t%2==0?e.replace(yo,`
`):e,mi=e=>e.split(po).map(ho).join("").trim(),bi=new Map,xr=new Map,Yn=e=>{var t;return typeof e=="string"?t=mi(e):e.loc&&xr.get(e.__key)===e?t=e.loc.source.body:(t=bi.get(e)||mi(Me(e)),bi.set(e,t)),typeof e!="string"&&!e.loc&&(e.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},gi=e=>{var t=An(Yn(e));if(e.definitions){var r=ra(e);r&&(t=An(`
# ${r}`,t))}return t},ta=e=>{var t,r;return typeof e=="string"?(t=gi(e),r=xr.get(t)||uo(e)):(t=e.__key||gi(e),r=xr.get(t)||e),r.loc||Yn(r),r.__key=t,xr.set(t,r),r},mr=(e,t,r)=>{var n=t||{},i=ta(e),o=$r(n),s=i.__key;return o!=="{}"&&(s=An(o,s)),{key:s,query:i,variables:n,extensions:r}},ra=e=>{for(var t of e.definitions)if(t.kind===Ut.OPERATION_DEFINITION)return t.name?t.name.value:void 0},mo=e=>{for(var t of e.definitions)if(t.kind===Ut.OPERATION_DEFINITION)return t.operation},Nn=(e,t,r)=>{if(!("data"in t)&&!("errors"in t))throw new Error("No Content");var n=e.kind==="subscription";return{operation:e,data:t.data,error:Array.isArray(t.errors)?new Er({graphQLErrors:t.errors,response:r}):void 0,extensions:t.extensions?{...t.extensions}:void 0,hasNext:t.hasNext==null?n:t.hasNext,stale:!1}},Pn=(e,t)=>{if(typeof e=="object"&&e!=null&&(!e.constructor||e.constructor===Object||Array.isArray(e))){e=Array.isArray(e)?[...e]:{...e};for(var r of Object.keys(t))e[r]=Pn(e[r],t[r]);return e}return t},Tn=(e,t,r)=>{var n=e.error?e.error.graphQLErrors:[],i=!!e.extensions||!!t.extensions,o={...e.extensions,...t.extensions},s=t.incremental;"path"in t&&(s=[t]);var u={data:e.data};if(s)for(var l of s){Array.isArray(l.errors)&&n.push(...l.errors),l.extensions&&(Object.assign(o,l.extensions),i=!0);for(var f="data",d=u,y=0,h=l.path.length;y<h;f=l.path[y++])d=d[f]=Array.isArray(d[f])?[...d[f]]:{...d[f]};if(l.items)for(var m=+f>=0?f:0,v=0,E=l.items.length;v<E;v++)d[m+v]=Pn(d[m+v],l.items[v]);else l.data!==void 0&&(d[f]=Pn(d[f],l.data))}else u.data=t.data||e.data,n=t.errors||n;return{operation:e.operation,data:u.data,error:n.length?new Er({graphQLErrors:n,response:r}):void 0,extensions:i?o:void 0,hasNext:t.hasNext!=null?t.hasNext:e.hasNext,stale:!1}},na=(e,t,r)=>({operation:e,data:void 0,error:new Er({networkError:t,response:r}),extensions:void 0,hasNext:!1,stale:!1});function ia(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:Yn(e.query),operationName:ra(e.query),variables:e.variables||void 0,extensions:e.extensions}}var bo=(e,t)=>{var r=e.kind==="query"&&e.context.preferGetMethod;if(!r||!t)return e.context.url;var n=new URL(e.context.url);for(var i in t){var o=t[i];o&&n.searchParams.set(i,typeof o=="object"?$r(o):o)}var s=n.toString();return s.length>2047&&r!=="force"?(e.context.preferGetMethod=!1,e.context.url):s},go=(e,t)=>{if(t&&!(e.kind==="query"&&e.context.preferGetMethod)){var r=$r(t),n=(u=>{var l=new Map;return(qr!==Wt||Br!==Wt)&&(Dt.clear(),En(l,"variables",u)),l})(t.variables);if(n.size){var i=new FormData;i.append("operations",r),i.append("map",$r({...[...n.keys()].map(u=>[u])}));var o=0;for(var s of n.values())i.append(""+o++,s);return i}return r}},vo=(e,t)=>{var r={accept:e.kind==="subscription"?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},n=(typeof e.context.fetchOptions=="function"?e.context.fetchOptions():e.context.fetchOptions)||{};if(n.headers)for(var i in n.headers)r[i.toLowerCase()]=n.headers[i];var o=go(e,t);return typeof o=="string"&&!r["content-type"]&&(r["content-type"]="application/json"),{...n,method:o?"POST":"GET",body:o,headers:r}},So=typeof TextDecoder<"u"?new TextDecoder:null,wo=/boundary="?([^=";]+)"?/i,Io=/data: ?([^\n]+)/,vi=e=>e.constructor.name==="Buffer"?e.toString():So.decode(e);async function*Si(e){if(e.body[Symbol.asyncIterator])for await(var t of e.body)yield vi(t);else{var r=e.body.getReader(),n;try{for(;!(n=await r.read()).done;)yield vi(n.value)}finally{r.cancel()}}}async function*wi(e,t){var r="",n;for await(var i of e)for(r+=i;(n=r.indexOf(t))>-1;)yield r.slice(0,n),r=r.slice(n+t.length)}async function*ko(e,t,r){var n=!0,i=null,o;try{yield await Promise.resolve();var s=(o=await(e.context.fetch||fetch)(t,r)).headers.get("Content-Type")||"",u;if(/multipart\/mixed/i.test(s))u=async function*(d,y){var h=d.match(wo),m="--"+(h?h[1]:"-"),v=!0,E;for await(var M of wi(Si(y),`\r
`+m)){if(v){v=!1;var R=M.indexOf(m);if(R>-1)M=M.slice(R+m.length);else continue}try{yield E=JSON.parse(M.slice(M.indexOf(`\r
\r
`)+4))}catch(I){if(!E)throw I}if(E&&E.hasNext===!1)break}E&&E.hasNext!==!1&&(yield{hasNext:!1})}(s,o);else if(/text\/event-stream/i.test(s))u=async function*(d){var y;for await(var h of wi(Si(d),`

`)){var m=h.match(Io);if(m){var v=m[1];try{yield y=JSON.parse(v)}catch(E){if(!y)throw E}if(y&&y.hasNext===!1)break}}y&&y.hasNext!==!1&&(yield{hasNext:!1})}(o);else if(!/text\//i.test(s))u=async function*(d){yield JSON.parse(await d.text())}(o);else throw new Error(await o.text());for await(var l of u)i=i?Tn(i,l,o):Nn(e,l,o),n=!1,yield i,n=!0;i||(yield i=Nn(e,{},o))}catch(f){if(!n)throw f;yield na(e,o&&(o.status<200||o.status>=300)&&o.statusText?new Error(o.statusText):f,o)}}function Oo(e,t,r){var n;return typeof AbortController<"u"&&(r.signal=(n=new AbortController).signal),Ln(()=>{n&&n.abort()})(te(i=>!!i)(Ji(ko(e,t,r))))}var Cn=(e,t)=>{if(Array.isArray(e))for(var r of e)Cn(r,t);else if(typeof e=="object"&&e!==null)for(var n in e)n==="__typename"&&typeof e[n]=="string"?t.add(e[n]):Cn(e[n],t);return t},_n=e=>{var t=!1;if("definitions"in e){var r=[];for(var n of e.definitions){var i=_n(n);t=t||i!==n,r.push(i)}if(t)return{...e,definitions:r}}else if("selectionSet"in e){var o=[],s=e.kind===Ut.OPERATION_DEFINITION;if(e.selectionSet){for(var u of e.selectionSet.selections||[]){s=s||u.kind===Ut.FIELD&&u.name.value==="__typename"&&!u.alias;var l=_n(u);t=t||l!==u,o.push(l)}if(s||(t=!0,o.push({kind:Ut.FIELD,name:{kind:Ut.NAME,value:"__typename"}})),t)return{...e,selectionSet:{...e.selectionSet,selections:o}}}}return e},Ii=new Map,Ao=e=>{var t=ta(e),r=Ii.get(t.__key);return r||(Ii.set(t.__key,r=_n(t)),Object.defineProperty(r,"__key",{value:t.__key,enumerable:!1})),r},Rn=(e,t)=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Rn(i));if(e&&typeof e=="object"&&(t||"__typename"in e)){var r={};for(var n in e)n==="__typename"?Object.defineProperty(r,"__typename",{enumerable:!1,value:e.__typename}):r[n]=Rn(e[n]);return r}else return e};function ki(e){var t=r=>e(r);return t.toPromise=()=>Gr(Ar(1)(te(r=>!r.stale&&!r.hasNext)(t))),t.then=(r,n)=>t.toPromise().then(r,n),t.subscribe=r=>Ft(r)(t),t}function zt(e,t,r){return{...t,kind:e,context:t.context?{...t.context,...r}:r||t.context}}var Oi=(e,t)=>zt(e.kind,e,{meta:{...e.context.meta,...t}}),Eo=()=>{},vn=({kind:e})=>e!=="mutation"&&e!=="query",No=({forward:e,client:t,dispatchDebug:r})=>{var n=new Map,i=new Map,o=u=>{var l=zt(u.kind,u);return l.query=Ao(u.query),l},s=u=>u.kind==="query"&&u.context.requestPolicy!=="network-only"&&(u.context.requestPolicy==="cache-only"||n.has(u.key));return u=>{var l=Vt(d=>{var y=n.get(d.key);process.env.NODE_ENV!=="production"&&r({operation:d,...y?{type:"cacheHit",message:"The result was successfully retried from the cache"}:{type:"cacheMiss",message:"The result could not be retrieved from the cache"},source:"cacheExchange"});var h=y;return process.env.NODE_ENV!=="production"&&(h={...h,operation:process.env.NODE_ENV!=="production"?Oi(d,{cacheOutcome:y?"hit":"miss"}):d}),d.context.requestPolicy==="cache-and-network"&&(h.stale=!0,Ai(t,d)),h})(te(d=>!vn(d)&&s(d))(u)),f=jt(d=>{var{operation:y}=d;if(y){var h=y.context.additionalTypenames||[];if(d.operation.kind!=="subscription"&&(h=(S=>[...Cn(S,new Set)])(d.data).concat(h)),d.operation.kind==="mutation"||d.operation.kind==="subscription"){var m=new Set;process.env.NODE_ENV!=="production"&&r({type:"cacheInvalidation",message:`The following typenames have been invalidated: ${h}`,operation:y,data:{typenames:h,response:d},source:"cacheExchange"});for(var v=0;v<h.length;v++){var E=h[v],M=i.get(E);M||i.set(E,M=new Set);for(var R of M.values())m.add(R);M.clear()}for(var I of m.values())n.has(I)&&(y=n.get(I).operation,n.delete(I),Ai(t,y))}else if(y.kind==="query"&&d.data){n.set(y.key,d);for(var V=0;V<h.length;V++){var b=h[V],P=i.get(b);P||i.set(b,P=new Set),P.add(y.key)}}}})(e(te(d=>d.kind!=="query"||d.context.requestPolicy!=="cache-only")(Vt(d=>process.env.NODE_ENV!=="production"?Oi(d,{cacheOutcome:"miss"}):d)(Gt([Vt(o)(te(d=>!vn(d)&&!s(d))(u)),te(d=>vn(d))(u)])))));return Gt([l,f])}},Ai=(e,t)=>e.reexecuteOperation(zt(t.kind,t,{requestPolicy:"network-only"})),Sn=({forwardSubscription:e,enableAllOperations:t,isSubscriptionOperation:r})=>({client:n,forward:i})=>{var o=r||(s=>s.kind==="subscription"||!!t&&(s.kind==="query"||s.kind==="mutation"));return s=>{var u=Sr(f=>{var{key:d}=f,y=te(h=>h.kind==="teardown"&&h.key===d)(s);return Wn(y)((h=>{var m=e(ia(h),h);return zn(({next:v,complete:E})=>{var M=!1,R,I;return Promise.resolve().then(()=>{M||(R=m.subscribe({next(V){v(I=I?Tn(I,V):Nn(h,V))},error(V){v(na(h,V))},complete(){M||(M=!0,h.kind==="subscription"&&n.reexecuteOperation(zt("teardown",h,h.context)),I&&I.hasNext&&v(Tn(I,{hasNext:!1})),E())}}))}),()=>{M=!0,R&&R.unsubscribe()}})})(f))})(te(f=>f.kind!=="teardown"&&o(f))(s)),l=i(te(f=>f.kind==="teardown"||!o(f))(s));return Gt([u,l])}},Po=({forward:e,dispatchDebug:t})=>r=>{var n=Sr(o=>{var s=ia(o),u=bo(o,s),l=vo(o,s);process.env.NODE_ENV!=="production"&&t({type:"fetchRequest",message:"A fetch request is being executed.",operation:o,data:{url:u,fetchOptions:l},source:"fetchExchange"});var f=Wn(te(d=>d.kind==="teardown"&&d.key===o.key)(r))(Oo(o,u,l));return process.env.NODE_ENV!=="production"?jt(d=>{var y=d.data?void 0:d.error;process.env.NODE_ENV!=="production"&&t({type:y?"fetchError":"fetchSuccess",message:`A ${y?"failed":"successful"} fetch response has been returned.`,operation:o,data:{url:u,fetchOptions:l,value:y||d},source:"fetchExchange"})})(f):f})(te(o=>o.kind!=="teardown"&&(o.kind!=="subscription"||!!o.context.fetchSubscriptions))(r)),i=e(te(o=>o.kind==="teardown"||o.kind==="subscription"&&!o.context.fetchSubscriptions)(r));return Gt([n,i])},To=e=>({client:t,forward:r,dispatchDebug:n})=>e.reduceRight((i,o)=>{var s=!1;return o({client:t,forward(u){if(process.env.NODE_ENV!=="production"){if(s)throw new Error("forward() must only be called once in each Exchange.");s=!0}return wr(i(wr(u)))},dispatchDebug(u){process.env.NODE_ENV!=="production"&&n({timestamp:Date.now(),source:o.name,...u})}})},r),aa=({onOperation:e,onResult:t,onError:r})=>({forward:n})=>i=>Sr(o=>{r&&o.error&&r(o.error,o.operation);var s=t&&t(o)||o;return"then"in s?yi(s):hr(s)})(n(Sr(o=>{var s=e&&e(o)||o;return"then"in s?yi(s):hr(s)})(i))),Co=({dispatchDebug:e})=>t=>(process.env.NODE_ENV!=="production"&&(t=jt(r=>{if(r.kind!=="teardown"&&process.env.NODE_ENV!=="production"){var n=`No exchange has handled operations of kind "${r.kind}". Check whether you've added an exchange responsible for these operations.`;process.env.NODE_ENV!=="production"&&e({type:"fallbackCatch",message:n,operation:r,source:"fallbackExchange"}),console.warn(n)}})(t)),te(r=>!1)(t)),Ei=function e(t){if(process.env.NODE_ENV!=="production"&&!t.url)throw new Error("You are creating an urql-client without a url.");var r=0,n=new Map,i=new Map,o=new Set,s=[],u={url:t.url,fetchSubscriptions:t.fetchSubscriptions,fetchOptions:t.fetchOptions,fetch:t.fetch,preferGetMethod:!!t.preferGetMethod,requestPolicy:t.requestPolicy||"cache-first"},l=pi();function f(b){(b.kind==="mutation"||b.kind==="teardown"||!o.has(b.key))&&(b.kind==="teardown"?o.delete(b.key):b.kind!=="mutation"&&o.add(b.key),l.next(b))}var d=!1;function y(b){if(b&&f(b),!d){for(d=!0;d&&(b=s.shift());)f(b);d=!1}}var h=b=>{var P=Wn(te(S=>S.kind==="teardown"&&S.key===b.key)(l.source))(te(S=>S.operation.kind===b.kind&&S.operation.key===b.key&&(!S.operation.context._instance||S.operation.context._instance===b.context._instance))(V));return b.kind!=="query"?P=Yi(S=>!!S.hasNext,!0)(P):P=fi(S=>{var G=hr(S);return S.stale||S.hasNext?G:Gt([G,Vt(()=>(S.stale=!0,S))(Ar(1)(te(Ee=>Ee.key===b.key)(l.source)))])})(P),b.kind!=="mutation"?P=Ln(()=>{o.delete(b.key),n.delete(b.key),i.delete(b.key),d=!1;for(var S=s.length-1;S>=0;S--)s[S].key===b.key&&s.splice(S,1);f(zt("teardown",b,b.context))})(jt(S=>{if(S.stale){for(var G of s)if(G.key===S.operation.key){o.delete(G.key);break}}else S.hasNext||o.delete(b.key);n.set(b.key,S)})(P)):P=di(()=>{f(b)})(P),t.maskTypename&&(P=Vt(S=>({...S,data:Rn(S.data,!0)}))(P)),wr(P)},m=this instanceof e?this:Object.create(e.prototype),v=Object.assign(m,{suspense:!!t.suspense,operations$:l.source,reexecuteOperation(b){b.kind==="teardown"?y(b):(b.kind==="mutation"||i.has(b.key))&&(s.push(b),Promise.resolve().then(y))},createRequestOperation(b,P,S){S||(S={});var G;if(process.env.NODE_ENV!=="production"&&b!=="teardown"&&(G=mo(P.query))!==b)throw new Error(`Expected operation of type "${b}" but found "${G}"`);return zt(b,P,{_instance:b==="mutation"?r=r+1|0:void 0,...u,...S,requestPolicy:S.requestPolicy||u.requestPolicy,suspense:S.suspense||S.suspense!==!1&&v.suspense})},executeRequestOperation(b){return b.kind==="mutation"?ki(h(b)):ki(Va(()=>{var P=i.get(b.key);P||i.set(b.key,P=h(b)),P=di(()=>{y(b)})(P);var S=n.get(b.key);return b.kind==="query"&&S&&(S.stale||S.hasNext)?fi(hr)(Gt([P,te(G=>G===n.get(b.key))(hr(S))])):P}))},executeQuery(b,P){var S=v.createRequestOperation("query",b,P);return v.executeRequestOperation(S)},executeSubscription(b,P){var S=v.createRequestOperation("subscription",b,P);return v.executeRequestOperation(S)},executeMutation(b,P){var S=v.createRequestOperation("mutation",b,P);return v.executeRequestOperation(S)},readQuery(b,P,S){var G=null;return Ft(Ee=>{G=Ee})(v.query(b,P,S)).unsubscribe(),G},query:(b,P,S)=>v.executeQuery(mr(b,P),S),subscription:(b,P,S)=>v.executeSubscription(mr(b,P),S),mutation:(b,P,S)=>v.executeMutation(mr(b,P),S)}),E=Eo;if(process.env.NODE_ENV!=="production"){var{next:M,source:R}=pi();v.subscribeToDebugTarget=b=>Ft(b)(R),E=M}var I=To(t.exchanges),V=wr(I({client:v,dispatchDebug:E,forward:Co({dispatchDebug:E})})(l.source));return Wa(V),v};const xn=e=>Object.entries(e).flatMap(([t,r])=>{if(typeof r=="boolean")return r?t:!1;if(r instanceof Jn){let n="";const i=Object.entries(r.args).filter(([o,s])=>s!=null).map(([o,s])=>{var u;return`${o}: ${s instanceof Qn?`$${(u=s.name)!==null&&u!==void 0?u:o}`:JSON.stringify(s)}`});return i.length>0&&(n=`(${i.join(", ")})`),r.subselection?[`${t}${n} {`,...xn(r.subselection),"}"]:`${t}${n}`}else return[`${t} {`,...xn(r),"}"]}).filter(t=>!!t).map(t=>"  "+t),Ur=e=>{const t={},r=n=>{let i=1;if(t[n]){for(;t[`${n}${i}`];)i++;return`${n}${i}`}return n};return Object.entries(e).forEach(([n,i])=>{i instanceof Jn?(Object.entries(i.args).forEach(([o,s])=>{var u;s instanceof Qn&&(t[(u=s.name)!==null&&u!==void 0?u:r(o)]=s)}),i.subselection&&Object.assign(t,Ur(i.subselection))):typeof i=="object"&&i!==null&&Object.assign(t,Ur(i))}),t},_o=e=>{const t=Ur(e.fields);return Object.keys(t).length===0?"":`(${Object.entries(t).map(([n,i])=>`$${n}: ${i.type}`).join(", ")})`};class Jn{constructor(t,r){Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subselection",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Qn{constructor(t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:n})}present(){return this.value!=null}}const ge=(e,t)=>new Jn(e,t),L=e=>new Qn(e.type+(e.required?"!":""),e.name,e.value),Ro=e=>{var t;const r=_o(e),n=e.directives&&e.directives.length>0?` ${e.directives.join(" ")}`:"";return`${e.type} ${(t=e.name)!==null&&t!==void 0?t:""}${r}${n} {
${xn(e.fields).join(`
`)}
}`},Ae=e=>{const t=Ur(e.fields);return{query:Ro(e),variables:Object.entries(t??{}).reduce((r,[n,i])=>(typeof i.value<"u"&&(r[n]=i.value),r),{})}},xo={DateTime(e){return new Date(e)}};class Do{constructor(t){Object.defineProperty(this,"plan",{enumerable:!0,configurable:!0,writable:!0,value:t})}apply(t){return Array.isArray(t)?t.map(r=>this.hydrateObject(r)):this.hydrateObject(t)}hydrateObject(t){const r={...t};for(const[n,i]of Object.entries(this.plan)){const o=r[n];o!=null&&(r[n]=xo[i](o))}return r}}function Ie(e){if(typeof e!="object")return e;var t,r,n=Object.prototype.toString.call(e);if(n==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){r=new e.constructor;for(t in e)e.hasOwnProperty(t)&&r[t]!==e[t]&&(r[t]=Ie(e[t]))}else{r={};for(t in e)t==="__proto__"?Object.defineProperty(r,t,{value:Ie(e[t]),configurable:!0,enumerable:!0,writable:!0}):r[t]=Ie(e[t])}return r}if(n==="[object Array]"){for(t=e.length,r=Array(t);t--;)r[t]=Ie(e[t]);return r}return n==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(Ie(i))}),r):n==="[object Map]"?(r=new Map,e.forEach(function(i,o){r.set(Ie(o),Ie(i))}),r):n==="[object Date]"?new Date(+e):n==="[object RegExp]"?(r=new RegExp(e.source,e.flags),r.lastIndex=e.lastIndex,r):n==="[object DataView]"?new e.constructor(Ie(e.buffer)):n==="[object ArrayBuffer]"?e.slice(0):n.slice(-6)==="Array]"?new e.constructor(e):e}var oa,sa,ua,la,ca,da,me;(function(e){e[e.SinceLoaded=0]="SinceLoaded",e[e.SinceLastPersisted=1]="SinceLastPersisted"})(me||(me={}));const le=Symbol.for("g/fields"),ht=Symbol.for("g/instantiatedFields"),mt=Symbol.for("g/persistedFields"),bt=Symbol.for("g/fieldKeys"),pr=Symbol.for("g/touched"),j=Symbol.for("g/self");class jo{constructor(t){var r,n;Object.defineProperty(this,oa,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,sa,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,ua,{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,la,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,ca,{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,da,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"empty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this[ht]=(r=Ie(t))!==null&&r!==void 0?r:{},this[mt]=(n=Ie(t))!==null&&n!==void 0?n:{},Object.assign(this[le],t),!t||Object.keys(t).length===0?(this.empty=!0,this[bt]=new Set):this[bt]=new Set(Object.keys(this[le]));const i=this;this[j]=i;const o={get:(s,u)=>{if(u in i||typeof u=="symbol")return i[u];if(u in s)return s[u]},set:(s,u,l)=>(i.trackKey(u),s[u.toString()]=l,!0)};return new Proxy(this[le],o)}trackKey(t){const r=t.toString();this[j][bt].add(r)}hasChanges(t=me.SinceLoaded){if(this[j][pr])return!0;const r=t==me.SinceLoaded?this[j][ht]:this[j][mt];return[...this[j][bt]].some(n=>!Tr(r[n],this[j][le][n]))}isEmpty(){return this.empty}getField(t){return this[j][le][t]}setField(t,r){return this.trackKey(t),this[j][le][t]=r}changes(t,r=me.SinceLoaded){const i=(typeof t=="string"?r:t||r)==me.SinceLoaded?this[j][ht]:this[j][mt];if(t&&typeof t=="string"){const o=i[t],s=this[j][le][t],u=!Tr(s,o);return u?{changed:u,current:s,previous:o}:{changed:u}}else{const o={};for(const s of this[j][bt])Tr(i[s],this[j][le][s])||(o[s]={current:this[j][le][s],previous:i[s]});return o}}toChangedJSON(t=me.SinceLoaded){const r=t==me.SinceLoaded?this[j][ht]:this[j][mt],n={};for(const i of this[j][bt])Tr(r[i],this[j][le][i])||(n[i]=this[j][le][i]);return n}changed(t,r=me.SinceLoaded){return t&&typeof t=="string"?this.changes(t,r).changed:this.hasChanges(t===void 0?r:t)}flushChanges(t=me.SinceLoaded){t==me.SinceLoaded?this[j][ht]=Ie(this[j][le]):t==me.SinceLastPersisted&&(this[j][mt]=Ie(this[j][le])),this[j][pr]=!1}revertChanges(t=me.SinceLoaded){let r;t==me.SinceLoaded?r=Object.keys(this[j][ht]):r=Object.keys(this[j][mt]);for(const n of this[j][bt])r.includes(n)||delete this[j][le][n];t==me.SinceLoaded?Object.assign(this[j][le],Ie(this[j][ht])):Object.assign(this[j][le],Ie(this[j][mt])),this[j][pr]=!1}toJSON(){return $n({...this[j][le]})}touch(){this[j][pr]=!0}}oa=le,sa=ht,ua=mt,la=bt,ca=pr,da=j;const fa=jo;class pa extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INTERNAL_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Dn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_CLIENT_ERROR"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0})}}class Wr extends Error{constructor(t,r){super(t.startsWith("GGT_")?t:`${r}: ${t}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Ni extends Error{constructor(t){let r;Fn(t)?r=`GraphQL websocket closed unexpectedly by the server with error code ${t.code} and reason "${t.reason}"`:r="GraphQL websocket closed unexpectedly by the server",super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_UNKNOWN"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedCloseError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.event=t}}class Fo extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_WEBSOCKET_CONNECTION_TIMEOUT"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebsocketConnectionTimeoutError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:500}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Mo extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_TOO_MANY_REQUESTS"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TooManyRequestsError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:429}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class $o extends Error{constructor(t,r,n,i){const o=r.slice(0,3),s=r.length>3?`, and ${r.length-3} more error${r.length>4?"s":""} need${r.length>4?"":"s"} to be corrected`:"";super(t??`GGT_INVALID_RECORD: ${n??"Record"} is invalid and can't be saved. ${o.map(({apiIdentifier:u,message:l})=>`${u} ${l}`).join(", ")}${s}.`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_INVALID_RECORD"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRecordError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:422}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"record",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.validationErrors=r,this.modelApiIdentifier=n,this.record=i}}class ya extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_NON_UNIQUE_DATA"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonUniqueDataError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:417}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Hn extends Error{constructor(){super(...arguments),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:"GGT_RECORD_NOT_FOUND"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecordNotFoundError"}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:404}),Object.defineProperty(this,"causedByClient",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class qo extends Error{constructor(t,r){super(t.length>1?"Multiple errors occurred":t[0].message),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"results",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ErrorGroup"})}get code(){return`GGT_ERROR_GROUP(${this.errors.slice(0,10).map(t=>{var r;return(r=t.code)!==null&&r!==void 0?r:"GGT_UNKNOWN"}).join(",")})`}get statusCode(){return Math.max(...this.errors.map(t=>{var r;return(r=t.statusCode)!==null&&r!==void 0?r:500}))}}function jn(e,t){if(!e)throw new Error("assertion error"+(t?`: ${t}`:""));return e}const Kt=(e,t)=>{const r=t.length;let n=0;for(;e!=null&&n<r;)e=e[t[n++]];return n&&n==r?e:void 0},Fn=e=>(e==null?void 0:e.type)=="close",ze=(e,t)=>typeof e!="string"?"":Nr(e,t),Pi=e=>{const t=e==null?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)},Nr=(e,t=!0)=>{let r=""+e;return t?r=r.replace(/^[a-z\d]*/,n=>Pi(n)):r=r.replace(new RegExp("^(?:(?=\\b|[A-Z_])|\\w)"),n=>n.toLowerCase()),r=r.replace(/(?:_|(\/))([a-z\d]*)/gi,(n,i,o,s,u)=>(i||(i=""),""+i+Pi(o))),r},Xn=(e,t)=>[...Array.isArray(t)?t:t?[t]:[],e].map(i=>Nr(i)).join(""),ha=(e,t)=>`${Xn(e,t)}Sort`,Zn=(e,t)=>`${Xn(e,t)}Filter`,Bo=(e,t,r)=>new ya(`More than one record found for ${e}.${t} = ${r}. Please confirm your unique validation is not reporting an error.`),Uo=(e,t)=>{if(e.fetching)return;const r=Kt(e.data,t);if(r===void 0)return new pa(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(r===null)return new Hn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`)},rt=(e,t,r=!1)=>{var n;if(e.error)throw e.error instanceof Er&&(!((n=e.error.networkError)===null||n===void 0)&&n.length)&&(e.error.message=e.error.networkError.map(u=>"[Network] "+u.message).join(`
`)),e.error;const i=Kt(e.data,t),o=Kt(i,["edges"]),s=o??i;if(i===void 0)throw new pa(`Internal Error: Gadget API didn't return expected data. Nothing found in response at ${t.join(".")}`);if(i===null||r&&Array.isArray(s)&&s.length===0)throw new Hn(`Record Not Found Error: Gadget API returned no data at ${t.join(".")}`);return i},br=(e,t)=>{var r;if(e.error)throw e.error instanceof Er&&(!((r=e.error.networkError)===null||r===void 0)&&r.length)&&(e.error.message=e.error.networkError.map(i=>"[Network] "+i.message).join(`
`)),e.error;const n=Kt(e.data,t);return n??null},ei=e=>{var t;return e.code=="GGT_INVALID_RECORD"?new $o(e.message,e.validationErrors,(t=e.model)===null||t===void 0?void 0:t.apiIdentifier,e.record):e.code=="GGT_UNKNOWN"&&e.message.includes("duplicate key value violates unique constraint")?new ya(e.message):new Wr(e.message,e.code)},gt=(e,t)=>{const r=rt(e,t);return ma(r)},ma=e=>{if(!e.success){const t=e.errors&&e.errors[0];throw t?ei(t):new Wr("Gadget API operation not successful.","GGT_UNKNOWN")}return e},ba=e=>{var t,r,n,i;if(!((r=(t=e.data)===null||t===void 0?void 0:t.gadgetMeta)===null||r===void 0)&&r.hydrations)return new Do((i=(n=e.data)===null||n===void 0?void 0:n.gadgetMeta)===null||i===void 0?void 0:i.hydrations)},gr=(e,t)=>{const r=ba(e);return r&&(t=r.apply(t)),new fa(t)},ti=(e,t)=>{const r=ba(e);return r&&(t=r.apply(t)),t==null?void 0:t.map(n=>new fa(n))},kr=(e,t)=>{const r=t.edges.map(n=>n.node);return ti(e,r)},Mn="[object Object]",Ti="[object String]",$n=e=>{if(e!=null&&typeof e.toJSON=="function"&&(e=e.toJSON()),e!==void 0){if(e===null)return null;if(typeof e=="boolean"||typeof e=="string")return e;if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="object"){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=e[r];t[r]=n===void 0?null:$n(n)}return t}if(Object.prototype.toString.call(e)==="[object Error]")return{};if(Object.prototype.toString.call(e)===Mn){const t={};for(const r of Object.keys(e)){const n=$n(e[r]);n!==void 0&&(t[r]=n)}return t}}}},wn="gstk",Ci=e=>{try{const t=window[e];return t.setItem(wn,wn),t.removeItem(wn),!0}catch{return!1}},_i=Object.prototype.toString,Ri=Object.getPrototypeOf,xi=Object.getOwnPropertySymbols?e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)):Object.keys,yr=(e,t,r)=>{if(e===t)return!0;if(e==null||t==null)return!1;if(r.indexOf(e)>-1&&r.indexOf(t)>-1)return!0;const n=_i.call(e),i=_i.call(t);let o,s,u;if(r.push(e,t),n==Mn&&i==Ti&&"_link"in e&&Object.keys(e).length==1)return e._link===t;if(i==Mn&&n==Ti&&"_link"in t&&Object.keys(t).length==1)return t._link===e;if(n!=i||(o=xi(e),s=xi(t),o.length!=s.length||o.some(function(l){return!yr(e[l],t[l],r)})))return!1;switch(n.slice(8,-1)){case"Symbol":return e.valueOf()==t.valueOf();case"Date":case"Number":return+e==+t||+e!=+e&&+t!=+t;case"RegExp":case"Function":case"String":case"Boolean":return""+e==""+t;case"Set":case"Map":{o=e.entries(),s=t.entries();do if(u=o.next(),!yr(u.value,s.next().value,r))return!1;while(!u.done);return!0}case"ArrayBuffer":e=new Uint8Array(e),t=new Uint8Array(t);case"DataView":e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(e.length!=t.length)return!1;for(u=0;u<e.length;u++)if(!(!(u in e)&&!(u in t))&&(u in e!=u in t||!yr(e[u],t[u],r)))return!1;return!0;case"Object":return yr(Ri(e),Ri(t),r);default:return!1}},Tr=(e,t)=>yr(e,t,[]),ga=(e,t)=>{var r,n;if(t??(t={}),!("hasAmbiguousIdentifier"in e)&&!("acceptsModelInput"in e))return t;if(e.hasAmbiguousIdentifier&&Object.keys(t).some(o=>{var s;return o!=="id"&&!(!((s=e.paramOnlyVariables)===null||s===void 0)&&s.includes(o))&&o!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let i;if((r=e.acceptsModelInput)!==null&&r!==void 0?r:e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in t&&typeof t[e.modelApiIdentifier]=="object"&&t[e.modelApiIdentifier]!=null)i=t;else{i={[e.modelApiIdentifier]:{}};for(const[o,s]of Object.entries(t))!((n=e.paramOnlyVariables)===null||n===void 0)&&n.includes(o)?i[o]=s:o=="id"?i.id=s:i[e.modelApiIdentifier][o]=s}else i=t;return i},Vo=(e,t={})=>{var r;return e.variables.ids?Array.isArray(t)?{ids:t}:t:{inputs:((r=Array.isArray(t)?t:t.inputs)!==null&&r!==void 0?r:[]).map(i=>ga(e,i))}},Go=(e,t)=>{const r={};for(const[n,i]of Object.entries(e))r[n]={...i,value:t[n]};return r},St=(e,t)=>(t&&e.unshift(...Array.isArray(t)?t:[t]),e),ct=(e,t)=>{const r=t?[...Array.isArray(t)?t:[t],e].join("."):e;return{gadgetMeta:{hydrations:ge({modelName:r})}}};function xe(e,t){if(!e)return t;if(Array.isArray(e)||(e=[e]),e)for(let r=e.length-1;r>=0;r--)t={[e[r]]:t};return t}const Mt={errors:{message:!0,code:!0,"... on InvalidRecordError":{validationErrors:{message:!0,apiIdentifier:!0}}}};class Yt extends Array{constructor(){super(...arguments),Object.defineProperty(this,"modelManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pagination",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static boot(t,r,n){const i=new Yt;return i.push(...r),i.modelManager=t,i.pagination=n,Object.freeze(i),i}static get[Symbol.species](){return Array}firstOrThrow(){if(!this[0])throw new Wr("No records found.","GGT_RECORD_NOT_FOUND");return this[0]}toJSON(){return this.map(t=>t.toJSON())}get hasNextPage(){return this.pagination.pageInfo.hasNextPage}get hasPreviousPage(){return this.pagination.pageInfo.hasPreviousPage}get startCursor(){return this.pagination.pageInfo.startCursor}get endCursor(){return this.pagination.pageInfo.endCursor}async nextPage(){var t;if(!this.hasNextPage)throw new Dn("Cannot request next page because there isn't one, should check 'hasNextPage' to see if it exists");const{first:r,last:n,before:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,after:this.pagination.pageInfo.endCursor,first:r||n})}async previousPage(){var t;if(!this.hasPreviousPage)throw new Dn("Cannot request previous page because there isn't one, should check 'hasPreviousPage' to see if it exists");const{first:r,last:n,after:i,...o}=(t=this.pagination.options)!==null&&t!==void 0?t:{};return await this.modelManager.findMany({...o,before:this.pagination.pageInfo.startCursor,last:n||r})}}const ri=(e,t=!1)=>{const r={...e};return t&&(r.__typename=!0),r},zr=e=>{if(e!=null&&e.live)return["@live"]},Lo=(e,t,r,n,i,o)=>{const s={};typeof t<"u"&&(s.id=L({type:"GadgetID!",value:t}));let u={[e]:ge(s,ri((i==null?void 0:i.select)||r,!0))};return u=xe(o,u),Ae({type:"query",name:e,fields:{...u,...ct(n,o)},directives:zr(i)})},Wo=(e,t,r,n,i,o,s)=>ni(e,n,i,{...o,first:2,filter:{[t]:{equals:r}}},s),ni=(e,t,r,n,i)=>{let o={[e]:ge({after:L({value:n==null?void 0:n.after,type:"String"}),first:L({value:n==null?void 0:n.first,type:"Int"}),before:L({value:n==null?void 0:n.before,type:"String"}),last:L({value:n==null?void 0:n.last,type:"Int"}),sort:n!=null&&n.sort?L({value:n.sort,type:`[${ha(r,i)}!]`}):void 0,filter:n!=null&&n.filter?L({value:n.filter,type:`[${Zn(r,i)}!]`}):void 0,search:n!=null&&n.search?L({value:n.search,type:"String"}):void 0},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:ri((n==null?void 0:n.select)||t,!0)}})};return i&&(o=xe(i,o)),Ae({type:"query",name:e,fields:{...o,...ct(r,i)},directives:zr(n)})},ii=e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,L(r)])),va=(e,t,r)=>({success:!0,...Mt,[e]:t&&!r?ri(t,!0):!1,result:!!r}),zo=(e,t,r,n,i,o,s,u,l)=>{const f=(o==null?void 0:o.select)||t;let d={[e]:ge(ii(i),va(n,f,l))};d=xe(s,d);const y={type:"mutation",name:e,fields:{...d,...ct(r,s)},directives:zr(o)};return Ae(y)},Ko=(e,t,r)=>{let n={},i=t.operationName,o;switch(t.isBulk&&(i=t.operationName.replace(/^bulk/,"").replace(/s$/,"")),t.operationReturnType?o=`${t.operationReturnType}Result`:o=`${Nr(i)}Result`,t.type){case"action":{const u=(r==null?void 0:r.select)||t.defaultSelection;n={[`... on ${o}`]:va(t.modelApiIdentifier,u,t.hasReturnType)};break}case"globalAction":n={[`... on ${o}`]:Sa()}}const s={type:"subscription",name:ze(i)+"BackgroundResult",fields:{backgroundAction:ge({id:L({value:e,type:"String!"})},{id:!0,outcome:!0,result:{...n}})}};return Ae(s)},Sa=()=>({success:!0,...Mt,result:!0}),Yo=(e,t,r,n)=>{let i={[e]:ge(ii(t),Sa())};return i=xe(r,i),Ae({type:"mutation",name:e,fields:i,directives:zr(n)})},Jo=e=>{if(!e)return null;const t={...e};typeof t.retries=="number"&&(t.retries={retryCount:t.retries}),typeof t.queue=="string"&&(t.queue={name:t.queue}),t.startAt instanceof Date&&(t.startAt=t.startAt.toISOString());for(const r of Object.keys(t))["id","retries","queue","priority","startAt"].includes(r)||delete t[r];return t},Qo=(e,t,r,n,i)=>{let o={[e]:ge({...ii(t),backgroundOptions:L({type:"EnqueueBackgroundActionOptions",value:Jo(n)})},{success:!0,errors:{message:!0,code:!0},[i?"backgroundActions":"backgroundAction"]:{id:!0}})};return o=xe(r,o),Ae({type:"mutation",name:"enqueue"+Nr(e),fields:{background:o}})},Ho=(e,t)=>({[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator]();return{async next(){const{done:n,value:i}=await r.next();return{done:n,value:typeof i<"u"?t(i):void 0}},async return(n){var i;return await((i=r.return)===null||i===void 0?void 0:i.call(r,n))}}}});function ai(e,t,r){return r!=null&&r.live?Ho(za(e),t):Kn(e,te(i=>!i.stale&&!i.hasNext),Ar(1),Gr).then(i=>t(i))}const Di=(e,t,r,n,i,o,s=!0,u)=>{const l=Lo(t,r,n,i,o,u),f=e.connection.currentClient.query(l.query,l.variables);return ai(f,d=>{const y=s?rt:br,h=St([t],u),m=y(d,h);return gr(d,m)},o)},Xo=(e,t,r,n,i,o,s,u=!0,l)=>{const f=Wo(t,r,n,i,o,s),d=St([t],l),y=e.connection.currentClient.query(f.query,f.variables);return ai(y,h=>{const m=rt(h,d),v=kr(h,m);if(v.length>1)throw Bo(o,r,n);const E=v[0];if(!E&&u)throw new Hn(`${o} record with ${r}=${n} not found`);return E??null},s)},ji=(e,t,r,n,i,o,s)=>{const u=ni(t,r,n,i,s),l=e.connection.currentClient.query(u.query,u.variables),f=St([t],s);return ai(l,d=>{let y;o===!1?y=br(d,f):y=rt(d,f,o);const h=kr(d,y);return Yt.boot(e,h,{options:i,pageInfo:y.pageInfo})},i)},Fi=async(e,t,r,n,i,o,s,u,l,f)=>{const d=zo(t,r,n,i,s,u,l,o,f),y=await e.connection.currentClient.mutation(d.query,d.variables).toPromise(),h=St([t],l);if(o){const m=Kt(y.data,h),v=m[i]&&r?ti(y,m[i]):void 0;if(m.errors){const E=m.errors.map(M=>ei(M));throw new qo(E,v)}return v}else{const m=gt(y,h);return wa(r,y,m,i,f)}},wa=(e,t,r,n,i)=>{if(e!=null)return i?r.result:gr(t,r[n])},Mi=async(e,t,r,n)=>{const i=Yo(t,r,n),o=await e.currentClient.mutation(i.query,i.variables).toPromise(),s=St([t],n);return gt(o,s).result};async function Zo(e,t,r,n={}){const i=t.isBulk?Vo(t,r):ga(t,r),o=Go(t.variables,i),s=Qo(t.operationName,o,t.namespace,n,t.isBulk),u=await e.currentClient.mutation(s.query,s.variables,n).toPromise(),l=["background",...St([t.operationName],t.namespace)];try{const f=gt(u,l);return t.isBulk?f.backgroundActions.map(d=>new Dr(e,t,d.id)):new Dr(e,t,f.backgroundAction.id)}catch(f){if("code"in f&&f.code=="GGT_DUPLICATE_BACKGROUND_ACTION_ID"&&(n!=null&&n.id)&&n.onDuplicateID=="ignore")return new Dr(e,t,n.id);throw f}}const es=async(e,t,r,n)=>{const i=Ko(t,r,n),o=e.currentClient.subscription(i.query,i.variables),s=await Kn(o,te(l=>{var f,d;return l.error||((d=(f=l.data)===null||f===void 0?void 0:f.backgroundAction)===null||d===void 0?void 0:d.outcome)}),Ar(1),Gr),u=rt(s,["backgroundAction"]);switch(ma(u.result),r.type){case"action":{u.result=wa(r.defaultSelection,s.data,u.result,r.isBulk?r.modelApiIdentifier:r.modelSelectionField,r.hasReturnType);break}case"globalAction":{u.result=u.result.result;break}}return u};class Dr{constructor(t,r,n){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"action",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n})}async result(t){return(await es(this.connection,this.id,this.action,t)).result}}var vr;(function(e){e.Durable="Durable",e.Session="session",e.Temporary="temporary"})(vr||(vr={}));function we(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Rt(e){return we(e)==="object"}function ts(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function $i(e,t){return e.length<124?e:t}const rs="graphql-transport-ws";var be;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(be||(be={}));var Z;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Z||(Z={}));function Ia(e){if(!Rt(e))throw new Error(`Message is expected to be an object, but got ${we(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${we(e.type)}`);switch(e.type){case Z.ConnectionInit:case Z.ConnectionAck:case Z.Ping:case Z.Pong:{if(e.payload!=null&&!Rt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Z.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${we(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Rt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${we(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${we(e.payload.query)}`);if(e.payload.variables!=null&&!Rt(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${we(e.payload.variables)}`);if(e.payload.operationName!=null&&we(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${we(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Rt(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${we(e.payload.extensions)}`);break}case Z.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${we(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Rt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${we(e.payload)}`);break}case Z.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${we(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!ts(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Z.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${we(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function ns(e,t){return Ia(typeof e=="string"?JSON.parse(e,t):e)}function dr(e,t){return Ia(e),JSON.stringify(e,t)}function is(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:s=0,disablePong:u,connectionAckWaitTimeout:l=0,retryAttempts:f=5,retryWait:d=async function($){let q=1e3;for(let D=0;D<$;D++)q*=2;await new Promise(D=>setTimeout(D,q+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:y=Cr,isFatalConnectionProblem:h,on:m,webSocketImpl:v,generateID:E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,$=>{const q=Math.random()*16|0;return($=="x"?q:q&3|8).toString(16)})},jsonMessageReplacer:M,jsonMessageReviver:R}=e;let I;if(v){if(!os(v))throw new Error("Invalid WebSocket implementation provided");I=v}else typeof WebSocket<"u"?I=WebSocket:typeof global<"u"?I=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(I=window.WebSocket||window.MozWebSocket);if(!I)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const V=I,b=(()=>{const N=(()=>{const q={};return{on(D,W){return q[D]=W,()=>{delete q[D]}},emit(D){var W;"id"in D&&((W=q[D.id])===null||W===void 0||W.call(q,D))}}})(),$={connecting:m!=null&&m.connecting?[m.connecting]:[],opened:m!=null&&m.opened?[m.opened]:[],connected:m!=null&&m.connected?[m.connected]:[],ping:m!=null&&m.ping?[m.ping]:[],pong:m!=null&&m.pong?[m.pong]:[],message:m!=null&&m.message?[N.emit,m.message]:[N.emit],closed:m!=null&&m.closed?[m.closed]:[],error:m!=null&&m.error?[m.error]:[]};return{onMessage:N.on,on(q,D){const W=$[q];return W.push(D),()=>{W.splice(W.indexOf(D),1)}},emit(q,...D){for(const W of[...$[q]])W(...D)}}})();function P(N){const $=[b.on("error",q=>{$.forEach(D=>D()),N(q)}),b.on("closed",q=>{$.forEach(D=>D()),N(q)})]}let S,G=0,Ee,De=!1,qe=0,ne=!1;async function ee(){clearTimeout(Ee);const[N,$]=await(S??(S=new Promise((W,Ne)=>(async()=>{if(De){if(await d(qe),!G)return S=void 0,Ne({code:1e3,reason:"All Subscriptions Gone"});qe++}b.emit("connecting");const B=new V(typeof t=="function"?await t():t,rs);let je,Be;function Ye(){isFinite(s)&&s>0&&(clearTimeout(Be),Be=setTimeout(()=>{B.readyState===V.OPEN&&(B.send(dr({type:Z.Ping})),b.emit("ping",!1,void 0))},s))}P(H=>{S=void 0,clearTimeout(je),clearTimeout(Be),Ne(H),Cr(H)&&H.code===4499&&(B.close(4499,"Terminated"),B.onerror=null,B.onclose=null)}),B.onerror=H=>b.emit("error",H),B.onclose=H=>b.emit("closed",H),B.onopen=async()=>{try{b.emit("opened",B);const H=typeof r=="function"?await r():r;if(B.readyState!==V.OPEN)return;B.send(dr(H?{type:Z.ConnectionInit,payload:H}:{type:Z.ConnectionInit},M)),isFinite(l)&&l>0&&(je=setTimeout(()=>{B.close(be.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Ye()}catch(H){b.emit("error",H),B.close(be.InternalClientError,$i(H instanceof Error?H.message:new Error(H).message,"Internal client error"))}};let Je=!1;B.onmessage=({data:H})=>{try{const K=ns(H,R);if(b.emit("message",K),K.type==="ping"||K.type==="pong"){b.emit(K.type,!0,K.payload),K.type==="pong"?Ye():u||(B.send(dr(K.payload?{type:Z.Pong,payload:K.payload}:{type:Z.Pong})),b.emit("pong",!1,K.payload));return}if(Je)return;if(K.type!==Z.ConnectionAck)throw new Error(`First message cannot be of type ${K.type}`);clearTimeout(je),Je=!0,b.emit("connected",B,K.payload),De=!1,qe=0,W([B,new Promise((dt,Ue)=>P(Ue))])}catch(K){B.onmessage=null,b.emit("error",K),B.close(be.BadResponse,$i(K instanceof Error?K.message:new Error(K).message,"Bad response"))}}})())));N.readyState===V.CLOSING&&await $;let q=()=>{};const D=new Promise(W=>q=W);return[N,q,Promise.race([D.then(()=>{if(!G){const W=()=>N.close(1e3,"Normal Closure");isFinite(o)&&o>0?Ee=setTimeout(()=>{N.readyState===V.OPEN&&W()},o):W()}}),$])]}function z(N){if(Cr(N)&&(as(N.code)||[be.InternalServerError,be.InternalClientError,be.BadRequest,be.BadResponse,be.Unauthorized,be.SubprotocolNotAcceptable,be.SubscriberAlreadyExists,be.TooManyInitialisationRequests].includes(N.code)))throw N;if(ne)return!1;if(Cr(N)&&N.code===1e3)return G>0;if(!f||qe>=f||!y(N)||h!=null&&h(N))throw N;return De=!0}return n||(async()=>{for(G++;;)try{const[,,N]=await ee();await N}catch(N){try{if(!z(N))return}catch($){return i==null?void 0:i($)}}})(),{on:b.on,subscribe(N,$){const q=E(N);let D=!1,W=!1,Ne=()=>{G--,D=!0};return(async()=>{for(G++;;)try{const[B,je,Be]=await ee();if(D)return je();const Ye=b.onMessage(q,Je=>{switch(Je.type){case Z.Next:{$.next(Je.payload);return}case Z.Error:{W=!0,D=!0,$.error(Je.payload),Ne();return}case Z.Complete:{D=!0,Ne();return}}});B.send(dr({id:q,type:Z.Subscribe,payload:N},M)),Ne=()=>{!D&&B.readyState===V.OPEN&&B.send(dr({id:q,type:Z.Complete},M)),G--,D=!0,je()},await Be.finally(Ye);return}catch(B){if(!z(B))return}})().then(()=>{W||$.complete()}).catch(B=>{$.error(B)}),()=>{D||Ne()}},async dispose(){if(ne=!0,S){const[N]=await S;N.close(1e3,"Normal Closure")}},terminate(){S&&b.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Cr(e){return Rt(e)&&"code"in e&&"reason"in e}function as(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function os(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}var Bt=null;typeof WebSocket<"u"?Bt=WebSocket:typeof MozWebSocket<"u"?Bt=MozWebSocket:typeof global<"u"?Bt=global.WebSocket||global.MozWebSocket:typeof window<"u"?Bt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Bt=self.WebSocket||self.MozWebSocket);const ss=Bt;class ka extends Error{}class us{constructor(t,r){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:!1})}close(){this.open&&this.rollback().catch(()=>null),this.subscriptionClient.dispose()}async rollback(){throw rt(await this.client.mutation("mutation RollbackTransaction { internal { rollbackTransaction }}",{}).toPromise(),["internal","rollbackTransaction"]),this.open=!1,new ka("Transaction rolled back.")}async start(){rt(await this.client.mutation("mutation StartTransaction { internal { startTransaction }}",{}).toPromise(),["internal","startTransaction"]),this.open=!0}async commit(){rt(await this.client.mutation("mutation CommitTransaction { internal { commitTransaction }}",{}).toPromise(),["internal","commitTransaction"]),this.open=!1}}class ls{constructor(){Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:{}})}getItem(t){return this.values[t]||null}setItem(t,r){this.values[t]=r}}const cs=e=>{const t=[...e.definitions].reverse().find(r=>r.kind=="OperationDefinition");if(t)return t.name?t.name.value:t.selectionSet.selections.find(n=>n.kind=="Field").name.value},qi=aa({onOperation:e=>{var t,r;(t=(r=e.context).operationName)!==null&&t!==void 0||(r.operationName=cs(e.query)||"unknown")}}),ds=aa({onOperation:e=>{if(e.context.url&&e.context.operationName)try{const[t,r]=e.context.url.split("?"),n=new URLSearchParams(r);n.set("operation",e.context.operationName),e.context.url=`${t}?${n.toString()}`}catch{}}});var qn;(function(e){e[e.TooManyRequests=4294]="TooManyRequests"})(qn||(qn={}));const fs=2,ps=4800,ys=1e4,hs=[be.ConnectionAcknowledgementTimeout,be.ConnectionInitialisationTimeout],Bi=Symbol.for("gadget/connection"),ms="token",bs=typeof btoa<"u"?btoa:e=>Buffer.from(e).toString("base64");var ae;(function(e){e.BrowserSession="browser-session",e.APIKey="api-key",e.InternalAuthToken="internal-auth-token",e.Anonymous="anonymous",e.Custom="custom"})(ae||(ae={}));const _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;class Oa{constructor(t){var r,n,i,o,s;if(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscriptionClientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketsEndpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"websocketImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exchanges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseSubscriptionClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentTransaction",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"authenticationMode",{enumerable:!0,configurable:!0,writable:!0,value:ae.Anonymous}),Object.defineProperty(this,"sessionTokenStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestPolicy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l)=>{let f,d;if(l?(f=l,d=u):(f=u,d={}),this.currentTransaction)return await f(this.currentTransaction);let y=null,h;try{y=await this.waitForOpenedConnection({isFatalConnectionProblem(E){return console.warn("Transport error encountered during transaction processing",E),!0},connectionAckWaitTimeout:ps,...d,lazy:!1,lazyCloseTimeout:1e5,retryAttempts:0});const m=new Ei({url:"/-",requestPolicy:"network-only",exchanges:[...this.exchanges.beforeAll,qi,...this.exchanges.beforeAsync,Sn({forwardSubscription(E){const M={...E,query:E.query||""};return{subscribe:R=>({unsubscribe:y.subscribe(M,R)})}},enableAllOperations:!0}),...this.exchanges.afterAll]});m[Bi]=this,h=new us(m,y),this.currentTransaction=h,await h.start();const v=await f(h);return await h.commit(),v}catch(m){try{h!=null&&h.open&&await h.rollback()}catch(v){v instanceof ka||console.warn("Encountered another error while rolling back a Gadget transaction that errored. The other error:",v)}throw Fn(m)?new Ni(m):m}finally{await(y==null?void 0:y.dispose()),this.currentTransaction=null}}}),Object.defineProperty(this,"fetch",{enumerable:!0,configurable:!0,writable:!0,value:async(u,l={})=>{var f;u=gs(u,(f=this.options.baseRouteURL)!==null&&f!==void 0?f:this.options.endpoint),this.isGadgetRequest(u)&&(l.headers={...this.requestHeaders(),...l.headers},this.authenticationMode==ae.Custom&&await this.options.authenticationMode.custom.processFetch(u,l));const d=await this._fetchImplementation(u,l);if(this.authenticationMode==ae.BrowserSession){const y=d.headers.get("x-set-authorization"),h=y!=null&&y.startsWith("Session ")?y.replace("Session ",""):null;h&&this.sessionTokenStore.setItem(this.sessionStorageKey,h)}return d}}),!t.endpoint)throw new Error("Must provide an `endpoint` option for a GadgetConnection to connect to");this.endpoint=t.endpoint,t.fetchImplementation?this._fetchImplementation=t.fetchImplementation:typeof _r<"u"&&_r.fetch?this._fetchImplementation=_r.fetch.bind(_r):this._fetchImplementation=async(...u)=>{let l=await Promise.resolve().then(()=>require("./browser-ponyfill-8176652b.cjs")).then(f=>f.browserPonyfill);return l.default&&(l=l.default),await l(...u)},this.websocketImplementation=(n=(r=t.websocketImplementation)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.WebSocket)!==null&&n!==void 0?n:ss,this.websocketsEndpoint=(i=t.websocketsEndpoint)!==null&&i!==void 0?i:t.endpoint+"/batch",this.websocketsEndpoint=this.websocketsEndpoint.replace(/^http/,"ws"),this.environment=(o=t.environment)!==null&&o!==void 0?o:"Development",this.requestPolicy=(s=t.requestPolicy)!==null&&s!==void 0?s:"cache-and-network",this.exchanges={beforeAll:[],beforeAsync:[],afterAll:[],...t.exchanges},this.setAuthenticationMode(t.authenticationMode),this.baseClient=this.newBaseClient()}get sessionStorageKey(){return`${ms}-${this.endpoint}`}get currentClient(){var t;return((t=this.currentTransaction)===null||t===void 0?void 0:t.client)||this.baseClient}set fetchImplementation(t){this._fetchImplementation=t,this.resetClients()}setAuthenticationMode(t){var r;t&&(t.browserSession?this.enableSessionMode(t.browserSession):t.internalAuthToken?this.authenticationMode=ae.InternalAuthToken:t.apiKey?this.authenticationMode=ae.APIKey:t.custom&&(this.authenticationMode=ae.Custom),this.options.authenticationMode=t),(r=this.authenticationMode)!==null&&r!==void 0||(this.authenticationMode=ae.Anonymous)}enableSessionMode(t){this.authenticationMode=ae.BrowserSession;const r=!t||typeof t=="boolean"?vr.Durable:t.storageType;let n;r==vr.Durable&&Ci("localStorage")?n=window.localStorage:r==vr.Session&&Ci("sessionStorage")?n=window.sessionStorage:n=new ls,t!==null&&typeof t=="object"&&"initialToken"in t&&t.initialToken&&n.setItem(this.sessionStorageKey,t.initialToken),this.sessionTokenStore=n,this.resetClients()}close(){this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.currentTransaction&&this.currentTransaction.close()}isGadgetRequest(t){let r;if(typeof t=="string"?r=t:typeof t=="object"&&"url"in t?r=t.url:r=String(t),Bn(this.options.endpoint))return!!Bn(r);const n=new URL(this.options.endpoint).host;return r.includes(n)}resetClients(){if(this.currentTransaction)throw new Error("Can't reset clients while a transaction is open");this.baseSubscriptionClient&&this.disposeClient(this.baseSubscriptionClient),this.baseClient&&(this.baseClient=this.newBaseClient())}newBaseClient(){const t=[...this.exchanges.beforeAll,qi,ds];typeof window<"u"&&t.push(No),t.push(...this.exchanges.beforeAsync,Sn({forwardSubscription:n=>({subscribe:i=>{const o={...n,query:n.query||""};return{unsubscribe:this.getBaseSubscriptionClient().subscribe(o,i)}}})}),Sn({isSubscriptionOperation:n=>n.query.definitions.some(i=>Ss(i)),forwardSubscription:n=>({subscribe:i=>{let o;const s=Promise.resolve().then(()=>require("./index-9d151acb.cjs")).then(({applyAsyncIterableIteratorToSink:u,applyLiveQueryJSONDiffPatch:l,makeAsyncIterableIteratorFromSink:f})=>{const d={...n,query:n.query||""};return o=u(l(f(y=>this.getBaseSubscriptionClient().subscribe(d,y))),i),o}).catch(u=>i.error(u));return{unsubscribe:()=>{o?o():s.then(u=>{u&&u()})}}}})}),Po,...this.exchanges.afterAll);const r=new Ei({url:this.endpoint,fetch:this.fetch,exchanges:t,requestPolicy:this.requestPolicy});return r[Bi]=this,r}newSubscriptionClient(t){if(!this.websocketImplementation)throw new Error("Can't use this GadgetClient for this subscription-based operation as there's no global WebSocket implementation available. Please pass one as the `websocketImplementation` option to the GadgetClient constructor.");let r=this.websocketsEndpoint;if(t!=null&&t.urlParams){const n=new URLSearchParams;for(const[i,o]of Object.entries(t.urlParams))o&&n.set(i,o);r+="?"+n.toString()}return is({url:r,webSocketImpl:this.websocketImplementation,connectionParams:async()=>{var n,i;const o={environment:this.environment,auth:{type:this.authenticationMode}};return this.authenticationMode==ae.APIKey?o.auth.key=this.options.authenticationMode.apiKey:this.authenticationMode==ae.InternalAuthToken?o.auth.token=this.options.authenticationMode.internalAuthToken:this.authenticationMode==ae.BrowserSession?o.auth.sessionToken=this.sessionTokenStore.getItem(this.sessionStorageKey):this.authenticationMode==ae.Custom&&await((i=(n=this.options.authenticationMode)===null||n===void 0?void 0:n.custom)===null||i===void 0?void 0:i.processTransactionConnectionParams(o)),o},onNonLazyError:()=>{},on:{connected:(n,i)=>{var o,s,u,l,f,d;if(this.authenticationMode==ae.BrowserSession&&(i!=null&&i.sessionToken)){const y=(o=this.options.authenticationMode)===null||o===void 0?void 0:o.browserSession;(y!==null&&typeof y=="object"?y.initialToken:null)||this.sessionTokenStore.setItem(this.sessionStorageKey,i.sessionToken)}(l=(u=(s=this.subscriptionClientOptions)===null||s===void 0?void 0:s.on)===null||u===void 0?void 0:u.connected)===null||l===void 0||l.call(u,n,i),(d=(f=t==null?void 0:t.on)===null||f===void 0?void 0:f.connected)===null||d===void 0||d.call(f,n,i)}},...this.subscriptionClientOptions,...t})}requestHeaders(){var t;const r={};if(this.authenticationMode==ae.InternalAuthToken)r.authorization="Basic "+bs("gadget-internal:"+this.options.authenticationMode.internalAuthToken);else if(this.authenticationMode==ae.APIKey)r.authorization=`Bearer ${(t=this.options.authenticationMode)===null||t===void 0?void 0:t.apiKey}`;else if(this.authenticationMode==ae.BrowserSession){const n=this.sessionTokenStore.getItem(this.sessionStorageKey);n&&(r.authorization=`Session ${n}`)}return r["x-gadget-environment"]=this.environment,r}async waitForOpenedConnection(t){let r=this.newSubscriptionClient(t),n=[],i=t.connectionAttempts||fs;const o=t.connectionGlobalTimeoutMs||ys,s=()=>{n.forEach(u=>u()),n=[]};return await new Promise((u,l)=>{const f=setTimeout(()=>{this.disposeClient(r),y(new Fo("Timeout opening websocket connection to Gadget API"))},o),d=v=>{if(Fn(v)){if(v.code==qn.TooManyRequests)return s(),y(new Mo(v.reason));if(hs.includes(v.code)&&i>0){i-=1,this.disposeClient(r),r=this.newSubscriptionClient(t),m();return}}clearTimeout(f),l(new Ni(v))},y=v=>{clearTimeout(f),l(v)},h=()=>{clearTimeout(f),u(r)},m=()=>{s(),n.push(r.on("connected",h)),n.push(r.on("closed",d)),n.push(r.on("error",y))};m()}).finally(s)}disposeClient(t){const r=t.dispose();r&&r.catch(n=>console.error(`Error closing SubscriptionClient: ${n.message}`))}getBaseSubscriptionClient(){return this.baseSubscriptionClient||(this.baseSubscriptionClient=this.newSubscriptionClient({lazy:!0})),this.baseSubscriptionClient}}Object.defineProperty(Oa,"version",{enumerable:!0,configurable:!0,writable:!0,value:"0.15.24"});function gs(e,t){if(typeof e!="string")return e;if(Bn(e))try{return String(new URL(e,t))}catch{return e}return e}function Bn(e){return e.startsWith("/")&&!e.startsWith("//")}const vs=e=>{var t;return e.kind!=="OperationDefinition"||e.operation!=="query"?null:(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value==="live")},Ss=e=>!!vs(e),ws=(e,t,r,n)=>{const i=ze(e);return Ae({type:"query",name:`InternalFind${i}`,fields:{internal:xe(r,{[e]:ge({id:L({value:t,type:"GadgetID!"}),select:L({value:si(n),type:"[String!]"})})}),...ct(e,r)}})},Aa=(e,t,r)=>({search:r!=null&&r.search?L({value:r==null?void 0:r.search,type:"String"}):void 0,sort:r!=null&&r.sort?L({value:r==null?void 0:r.sort,type:`[${ha(e,t)}!]`}):void 0,filter:r!=null&&r.filter?L({value:r==null?void 0:r.filter,type:`[${Zn(e,t)}!]`}):void 0,select:r!=null&&r.select?L({value:si(r==null?void 0:r.select),type:"[String!]"}):void 0}),Is=(e,t,r)=>{const n=ze(e),i=Aa(n,t,r);return Ae({type:"query",name:`InternalFindFirst${n}`,fields:{internal:xe(t,{[`list${n}`]:ge({...i,first:L({value:1,type:"Int"})},{edges:{node:!0}})}),...ct(e,t)}})},ks=(e,t,r)=>{const n=ze(e),i=Aa(n,t,r);return Ae({type:"query",name:`InternalFindMany${n}`,fields:{internal:xe(t,{[`list${n}`]:ge({...i,after:L({value:r==null?void 0:r.after,type:"String"}),before:L({value:r==null?void 0:r.before,type:"String"}),first:L({value:r==null?void 0:r.first,type:"Int"}),last:L({value:r==null?void 0:r.last,type:"Int"})},{pageInfo:{hasNextPage:!0,hasPreviousPage:!0,startCursor:!0,endCursor:!0},edges:{cursor:!0,node:!0}})}),...ct(e,t)}})},oi=(e,t)=>`Internal${Xn(e,t)}Input`,Os=(e,t,r)=>{const n=ze(e);return Ae({type:"mutation",name:`InternalCreate${n}`,fields:{internal:xe(t,{[`create${n}`]:ge({[e]:L({value:r,type:oi(e,t)})},{success:!0,...Mt,[e]:!0})}),...ct(e,t)}})},As=(e,t,r,n)=>{ze(e);const i=ze(t);return Ae({type:"mutation",name:`InternalBulkCreate${i}`,fields:{internal:xe(r,{[`bulkCreate${i}`]:ge({[t]:L({value:n,type:`[${oi(e,r)}]!`})},{success:!0,...Mt,[t]:!0})}),...ct(e,r)}})},Es=(e,t,r,n)=>{const i=ze(e);return Ae({type:"mutation",name:`InternalUpdate${i}`,fields:{internal:xe(t,{[`update${i}`]:ge({id:L({value:r,type:"GadgetID!"}),[e]:L({value:n,type:oi(e,t)})},{success:!0,...Mt,[e]:!0})}),...ct(e,t)}})},Ns=(e,t,r)=>{const n=ze(e);return Ae({type:"mutation",name:`InternalDelete${n}`,fields:{internal:xe(t,{[`delete${n}`]:ge({id:L({value:r,type:"GadgetID!"})},{success:!0,...Mt})})}})},Ps=(e,t,r)=>{const n=ze(e);return Ae({type:"mutation",name:`InternalDeleteMany${n}`,fields:{internal:xe(t,{[`deleteMany${n}`]:ge({search:L({value:r==null?void 0:r.search,type:"String"}),filter:L({value:r==null?void 0:r.filter,type:`[${Zn(e,t)}!]`})},{success:!0,...Mt})})}})};class Ge{constructor(t,r,n){Object.defineProperty(this,"apiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"capitalizedApiIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.capitalizedApiIdentifier=Nr(t),this.namespace=(n==null?void 0:n.namespace)||[]}validateRecord(t){return!this.options||!this.options.hasAmbiguousIdentifiers?!0:Object.keys(t).every(n=>n===this.apiIdentifier)}getRecordFromData(t,r){let n=t;if(!this.validateRecord(t))throw new Wr(`Invalid arguments found in variables. Did you mean to use ${r}({ ${this.apiIdentifier}: { ... } })?`,"GGT_INVALID_RECORD_DATA");return this.apiIdentifier in t&&(n=n[this.apiIdentifier]),n}async findOne(t,r,n=!0){const i=ws(this.apiIdentifier,t,this.namespace,si(r==null?void 0:r.select)),o=await this.connection.currentClient.query(i.query,i.variables).toPromise(),u=(n?rt:br)(o,this.dataPath(this.apiIdentifier));return gr(o,u)}async maybeFindOne(t,r){const n=await this.findOne(t,r,!1);return n.isEmpty()?null:n}async findMany(t){const r=ks(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.query(r.query,r.variables).toPromise(),i=br(n,this.dataPath(`list${this.capitalizedApiIdentifier}`)),o=kr(n,i);return Yt.boot(this,o,{options:t,pageInfo:i.pageInfo})}async findFirst(t,r=!0){const n=Is(this.apiIdentifier,this.namespace,t),i=await this.connection.currentClient.query(n.query,n.variables).toPromise(),o=this.dataPath(`list${this.capitalizedApiIdentifier}`);let s;r===!1?s=br(i,o):s=rt(i,o,r);const u=kr(i,s);return Yt.boot(this,u,{options:t,pageInfo:s.pageInfo})[0]}async maybeFindFirst(t){return await this.findFirst(t,!1)}async create(t){const r=Os(this.apiIdentifier,this.namespace,this.getRecordFromData(t,"create")),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise(),i=gt(n,this.dataPath(`create${this.capitalizedApiIdentifier}`));return gr(n,i[this.apiIdentifier])}async bulkCreate(t){var r;if(!(!((r=this.options)===null||r===void 0)&&r.pluralApiIdentifier))throw new Dn("Cannot perform bulkCreate without a pluralApiIdentifier");const n=ze(this.options.pluralApiIdentifier),i=As(this.apiIdentifier,this.options.pluralApiIdentifier,this.namespace,t),o=await this.connection.currentClient.mutation(i.query,i.variables).toPromise(),s=gt(o,this.dataPath(`bulkCreate${n}`));return ti(o,s[this.options.pluralApiIdentifier])}async update(t,r){jn(t,"Can't update a record without an ID passed");const n=Es(this.apiIdentifier,this.namespace,t,this.getRecordFromData(r,"update")),i=await this.connection.currentClient.mutation(n.query,n.variables).toPromise(),o=gt(i,this.dataPath(`update${this.capitalizedApiIdentifier}`));return gr(i,o[this.apiIdentifier])}async delete(t){jn(t,"Can't delete a record without an ID");const r=Ns(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();gt(n,this.dataPath(`delete${this.capitalizedApiIdentifier}`))}async deleteMany(t){const r=Ps(this.apiIdentifier,this.namespace,t),n=await this.connection.currentClient.mutation(r.query,r.variables).toPromise();gt(n,this.dataPath(`deleteMany${this.capitalizedApiIdentifier}`))}dataPath(t){return["internal",...St([t],this.namespace)]}}function si(e){if(!e)return;if(Array.isArray(e))return e;const t=[];for(const[r,n]of Object.entries(e))n&&t.push(r);return t}const $e=(e,t,r,n)=>{const i=class{constructor(o){this.connection=o}};for(const o of n)switch(o.type){case"maybeFindOne":case"findOne":{"functionName"in o?i.prototype[o.functionName]=Object.assign(async function(s,u){return await Xo(this,o.operationName,o.findByField,s,r,e,u)},o):i.prototype[o.type]=Object.assign(async function(s,u){const l=await Di(this,e,s,r,e,u,o.type!="maybeFindOne");return l.isEmpty()?null:l},o);break}case"findMany":{i.prototype.findMany=Object.assign(async function(s){return await ji(this,t,r,e,s)},o);break}case"maybeFindFirst":case"findFirst":{i.prototype[o.type]=Object.assign(async function(s){const u=await ji(this,t,r,e,{...s,first:1,last:void 0,before:void 0,after:void 0},o.type!="maybeFindFirst");return(u==null?void 0:u[0])??null},o);break}case"get":{i.prototype.get=Object.assign(async function(s){return await Di(this,o.operationName,void 0,r,e,s)},o);break}case"action":{if(o.isBulk){const s=!!o.variables.ids;i.prototype[o.functionName]=Object.assign(async function(u,l){let f;return s?f={ids:{...o.variables.ids,value:u}}:f={inputs:{...o.variables.inputs,value:u.map(d=>Ea(this[o.singleActionFunctionName],void 0,d))}},await Fi(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!0,f,l,o.namespace,o.hasReturnType)},o)}else{const s=!!o.variables.id,u=Object.keys(o.variables).filter(l=>l!="id").length>0;i.prototype[o.functionName]=Object.assign(async function(...l){const[f,d]=Ts(o,s,u,l);return await Fi(this,o.operationName,o.isDeleter?null:r,e,o.modelSelectionField,!1,f,d,o.namespace,o.hasReturnType)},o)}break}}return i};function Ea(e,t,r={}){var o;if(e.hasAmbiguousIdentifier&&Object.keys(r).some(s=>{var u;return!((u=e.paramOnlyVariables)!=null&&u.includes(s))&&s!==e.modelApiIdentifier}))throw Error(`Invalid arguments found in variables. Did you mean to use ({ ${e.modelApiIdentifier}: { ... } })?`);let n;const i=Object.entries(e.variables).find(([s,u])=>s==="id"&&u.type==="GadgetID");if(e.acceptsModelInput||e.hasCreateOrUpdateEffect)if(e.modelApiIdentifier in r&&typeof r[e.modelApiIdentifier]=="object"&&r[e.modelApiIdentifier]!==null||!e.variables[e.modelApiIdentifier])n=r;else{n={[e.modelApiIdentifier]:{}};for(const[s,u]of Object.entries(r))(o=e.paramOnlyVariables)!=null&&o.includes(s)?n[s]=u:i&&s===i[0]?n.id=u:n[e.modelApiIdentifier][s]=u}else n=r;return n.id??(n.id=t),n}function Ts(e,t,r,n){let i,o;t&&(i=n.shift()),r&&(o=n.shift());const s=n.shift();let u=o;(i||o)&&(u=Ea(e,i,o));const l={};for(const[f,d]of Object.entries(e.variables))l[f]={value:f=="id"?i:u==null?void 0:u[f],...d};return[l,s]}const Ce={__typename:!0,id:!0,state:!0,createdAt:!0,email:!0,roles:{key:!0,name:!0},updatedAt:!0},X="user",ut="users",Cs=$e(X,ut,Ce,[{type:"findOne",operationName:X,modelApiIdentifier:X,findByVariableName:"id",defaultSelection:Ce},{type:"maybeFindOne",operationName:X,modelApiIdentifier:X,findByVariableName:"id",defaultSelection:Ce},{type:"findMany",operationName:ut,modelApiIdentifier:X,defaultSelection:Ce},{type:"findFirst",operationName:ut,modelApiIdentifier:X,defaultSelection:Ce},{type:"maybeFindFirst",operationName:ut,modelApiIdentifier:X,defaultSelection:Ce},{type:"findOne",operationName:ut,functionName:"findByEmail",findByField:"email",findByVariableName:"email",modelApiIdentifier:X,defaultSelection:Ce},{type:"action",operationName:"signUpUser",functionName:"signUp",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"SignUpUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkSignUpUsers",functionName:"bulkSignUp",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"signUp",modelApiIdentifier:X,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkSignUpUsersInput!]"}},defaultSelection:Ce},{type:"action",operationName:"updateUser",functionName:"update",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},user:{required:!1,type:"UpdateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkUpdateUsers",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:X,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUsersInput!]"}},defaultSelection:Ce},{type:"action",operationName:"deleteUser",functionName:"delete",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUsers",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:X,modelSelectionField:ut,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"createUser",functionName:"create",namespace:null,modelApiIdentifier:X,modelSelectionField:X,isBulk:!1,isDeleter:!1,variables:{user:{required:!1,type:"CreateUserInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ce},{type:"action",operationName:"bulkCreateUsers",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:X,modelSelectionField:ut,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUsersInput!]"}},defaultSelection:Ce}]),Qe={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},ve="session",$t="sessions",_s=$e(ve,$t,Qe,[{type:"findOne",operationName:ve,modelApiIdentifier:ve,findByVariableName:"id",defaultSelection:Qe},{type:"maybeFindOne",operationName:ve,modelApiIdentifier:ve,findByVariableName:"id",defaultSelection:Qe},{type:"findMany",operationName:$t,modelApiIdentifier:ve,defaultSelection:Qe},{type:"findFirst",operationName:$t,modelApiIdentifier:ve,defaultSelection:Qe},{type:"maybeFindFirst",operationName:$t,modelApiIdentifier:ve,defaultSelection:Qe},{type:"action",operationName:"logInViaEmail",functionName:"logInViaEmail",namespace:"currentSession",modelApiIdentifier:ve,modelSelectionField:ve,isBulk:!1,isDeleter:!1,variables:{email:{required:!1,type:"String"},password:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Qe},{type:"action",operationName:"bulkLogInViaEmailSessions",functionName:"bulkLogInViaEmail",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logInViaEmail",modelApiIdentifier:ve,modelSelectionField:$t,namespace:"currentSession",variables:{inputs:{required:!0,type:"[BulkLogInViaEmailSessionsInput!]"}},defaultSelection:Qe},{type:"action",operationName:"logOut",functionName:"logOut",namespace:"currentSession",modelApiIdentifier:ve,modelSelectionField:ve,isBulk:!1,isDeleter:!1,variables:{},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:Qe},{type:"action",operationName:"bulkLogOutSessions",functionName:"bulkLogOut",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"logOut",modelApiIdentifier:ve,modelSelectionField:$t,namespace:"currentSession",variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:Qe}]),He={__typename:!0,id:!0,state:!0,body:!0,createdAt:!0,handle:!0,productCategory:!0,productType:!0,publishedAt:!0,publishedScope:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,status:!0,tags:!0,templateSuffix:!0,title:!0,updatedAt:!0,vendor:!0},ce="shopifyProduct",Nt="shopifyProducts",Rs=$e(ce,Nt,He,[{type:"findOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"maybeFindOne",operationName:ce,modelApiIdentifier:ce,findByVariableName:"id",defaultSelection:He},{type:"findMany",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"findFirst",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"maybeFindFirst",operationName:Nt,modelApiIdentifier:ce,defaultSelection:He},{type:"action",operationName:"createShopifyProduct",functionName:"create",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{shopifyProduct:{required:!1,type:"CreateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkCreateShopifyProducts",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductsInput!]"}},defaultSelection:He},{type:"action",operationName:"updateShopifyProduct",functionName:"update",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProduct:{required:!1,type:"UpdateShopifyProductInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:He},{type:"action",operationName:"bulkUpdateShopifyProducts",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductsInput!]"}},defaultSelection:He},{type:"action",operationName:"deleteShopifyProduct",functionName:"delete",namespace:null,modelApiIdentifier:ce,modelSelectionField:ce,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProducts",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ce,modelSelectionField:Nt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Xe={__typename:!0,id:!0,state:!0,alt:!0,createdAt:!0,height:!0,position:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,updatedAt:!0,width:!0},de="shopifyProductImage",Pt="shopifyProductImages",xs=$e(de,Pt,Xe,[{type:"findOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"maybeFindOne",operationName:de,modelApiIdentifier:de,findByVariableName:"id",defaultSelection:Xe},{type:"findMany",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"findFirst",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"maybeFindFirst",operationName:Pt,modelApiIdentifier:de,defaultSelection:Xe},{type:"action",operationName:"createShopifyProductImage",functionName:"create",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{shopifyProductImage:{required:!1,type:"CreateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkCreateShopifyProductImages",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductImagesInput!]"}},defaultSelection:Xe},{type:"action",operationName:"updateShopifyProductImage",functionName:"update",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductImage:{required:!1,type:"UpdateShopifyProductImageInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Xe},{type:"action",operationName:"bulkUpdateShopifyProductImages",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductImagesInput!]"}},defaultSelection:Xe},{type:"action",operationName:"deleteShopifyProductImage",functionName:"delete",namespace:null,modelApiIdentifier:de,modelSelectionField:de,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductImages",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:de,modelSelectionField:Pt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ze={__typename:!0,id:!0,state:!0,createdAt:!0,name:!0,position:!0,updatedAt:!0,values:!0},fe="shopifyProductOption",Tt="shopifyProductOptions",Ds=$e(fe,Tt,Ze,[{type:"findOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"maybeFindOne",operationName:fe,modelApiIdentifier:fe,findByVariableName:"id",defaultSelection:Ze},{type:"findMany",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"findFirst",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"maybeFindFirst",operationName:Tt,modelApiIdentifier:fe,defaultSelection:Ze},{type:"action",operationName:"createShopifyProductOption",functionName:"create",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{shopifyProductOption:{required:!1,type:"CreateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkCreateShopifyProductOptions",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductOptionsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"updateShopifyProductOption",functionName:"update",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductOption:{required:!1,type:"UpdateShopifyProductOptionInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Ze},{type:"action",operationName:"bulkUpdateShopifyProductOptions",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductOptionsInput!]"}},defaultSelection:Ze},{type:"action",operationName:"deleteShopifyProductOption",functionName:"delete",namespace:null,modelApiIdentifier:fe,modelSelectionField:fe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductOptions",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:fe,modelSelectionField:Tt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),et={__typename:!0,id:!0,state:!0,barcode:!0,compareAtPrice:!0,createdAt:!0,fulfillmentService:!0,grams:!0,inventoryManagement:!0,inventoryPolicy:!0,inventoryQuantity:!0,inventoryQuantityAdjustment:!0,oldInventoryQuantity:!0,option1:!0,option2:!0,option3:!0,position:!0,presentmentPrices:!0,price:!0,requiresShipping:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,sku:!0,taxCode:!0,taxable:!0,title:!0,updatedAt:!0,weight:!0,weightUnit:!0},pe="shopifyProductVariant",Ct="shopifyProductVariants",js=$e(pe,Ct,et,[{type:"findOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:et},{type:"maybeFindOne",operationName:pe,modelApiIdentifier:pe,findByVariableName:"id",defaultSelection:et},{type:"findMany",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"findFirst",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"maybeFindFirst",operationName:Ct,modelApiIdentifier:pe,defaultSelection:et},{type:"action",operationName:"createShopifyProductVariant",functionName:"create",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{shopifyProductVariant:{required:!1,type:"CreateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:et},{type:"action",operationName:"bulkCreateShopifyProductVariants",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyProductVariantsInput!]"}},defaultSelection:et},{type:"action",operationName:"updateShopifyProductVariant",functionName:"update",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyProductVariant:{required:!1,type:"UpdateShopifyProductVariantInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:et},{type:"action",operationName:"bulkUpdateShopifyProductVariants",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyProductVariantsInput!]"}},defaultSelection:et},{type:"action",operationName:"deleteShopifyProductVariant",functionName:"delete",namespace:null,modelApiIdentifier:pe,modelSelectionField:pe,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyProductVariants",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:pe,modelSelectionField:Ct,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Se={__typename:!0,id:!0,state:!0,address1:!0,address2:!0,checkoutApiSupported:!0,city:!0,cookieConsentLevel:!0,country:!0,countryCode:!0,countryName:!0,countyTaxes:!0,createdAt:!0,currency:!0,customerEmail:!0,disabledWebhooks:!0,domain:!0,eligibleForCardReaderGiveaway:!0,eligibleForPayments:!0,email:!0,enabledPresentmentCurrencies:!0,finances:!0,forceSsl:!0,googleAppsDomain:!0,googleAppsLoginEnabled:!0,grantedScopes:!0,hasDiscounts:!0,hasGiftCards:!0,hasStorefront:!0,ianaTimezone:!0,installedViaApiKey:!0,latitude:!0,longitude:!0,marketingSmsContentEnabledAtCheckout:!0,moneyFormat:!0,moneyInEmailsFormat:!0,moneyWithCurrencyFormat:!0,moneyWithCurrencyInEmailsFormat:!0,multiLocationEnabled:!0,myshopifyDomain:!0,name:!0,passwordEnabled:!0,phone:!0,planDisplayName:!0,planName:!0,preLaunchEnabled:!0,primaryLocale:!0,province:!0,provinceCode:!0,registeredWebhooks:!0,requiresExtraPaymentsAgreement:!0,setupRequired:!0,shopOwner:!0,shopifyCreatedAt:!0,shopifyUpdatedAt:!0,source:!0,taxShipping:!0,taxesIncluded:!0,timezone:!0,transactionalSmsDisabled:!0,updatedAt:!0,weightUnit:!0,zipCode:!0},Q="shopifyShop",lt="shopifyShops",Fs=$e(Q,lt,Se,[{type:"findOne",operationName:Q,modelApiIdentifier:Q,findByVariableName:"id",defaultSelection:Se},{type:"maybeFindOne",operationName:Q,modelApiIdentifier:Q,findByVariableName:"id",defaultSelection:Se},{type:"findMany",operationName:lt,modelApiIdentifier:Q,defaultSelection:Se},{type:"findFirst",operationName:lt,modelApiIdentifier:Q,defaultSelection:Se},{type:"maybeFindFirst",operationName:lt,modelApiIdentifier:Q,defaultSelection:Se},{type:"action",operationName:"createShopifyShop",functionName:"create",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{shopifyShop:{required:!1,type:"CreateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkCreateShopifyShops",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:Q,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateShopifyShopsInput!]"}},defaultSelection:Se},{type:"action",operationName:"updateShopifyShop",functionName:"update",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UpdateShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkUpdateShopifyShops",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:Q,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateShopifyShopsInput!]"}},defaultSelection:Se},{type:"action",operationName:"deleteShopifyShop",functionName:"delete",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteShopifyShops",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:Q,modelSelectionField:lt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null},{type:"action",operationName:"reinstallShopifyShop",functionName:"reinstall",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"ReinstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkReinstallShopifyShops",functionName:"bulkReinstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"reinstall",modelApiIdentifier:Q,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkReinstallShopifyShopsInput!]"}},defaultSelection:Se},{type:"action",operationName:"uninstallShopifyShop",functionName:"uninstall",namespace:null,modelApiIdentifier:Q,modelSelectionField:Q,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifyShop:{required:!1,type:"UninstallShopifyShopInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Se},{type:"action",operationName:"bulkUninstallShopifyShops",functionName:"bulkUninstall",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"uninstall",modelApiIdentifier:Q,modelSelectionField:lt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUninstallShopifyShopsInput!]"}},defaultSelection:Se}]),tt={__typename:!0,id:!0,state:!0,createdAt:!0,updatedAt:!0},ye="productPairing",_t="productPairings",Ms=$e(ye,_t,tt,[{type:"findOne",operationName:ye,modelApiIdentifier:ye,findByVariableName:"id",defaultSelection:tt},{type:"maybeFindOne",operationName:ye,modelApiIdentifier:ye,findByVariableName:"id",defaultSelection:tt},{type:"findMany",operationName:_t,modelApiIdentifier:ye,defaultSelection:tt},{type:"findFirst",operationName:_t,modelApiIdentifier:ye,defaultSelection:tt},{type:"maybeFindFirst",operationName:_t,modelApiIdentifier:ye,defaultSelection:tt},{type:"action",operationName:"createProductPairing",functionName:"create",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!1,variables:{productPairing:{required:!1,type:"CreateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:tt},{type:"action",operationName:"bulkCreateProductPairings",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ye,modelSelectionField:_t,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateProductPairingsInput!]"}},defaultSelection:tt},{type:"action",operationName:"updateProductPairing",functionName:"update",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},productPairing:{required:!1,type:"UpdateProductPairingInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:tt},{type:"action",operationName:"bulkUpdateProductPairings",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ye,modelSelectionField:_t,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateProductPairingsInput!]"}},defaultSelection:tt},{type:"action",operationName:"deleteProductPairing",functionName:"delete",namespace:null,modelApiIdentifier:ye,modelSelectionField:ye,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteProductPairings",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ye,modelSelectionField:_t,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),_e={__typename:!0,id:!0,state:!0,createdAt:!0,domain:!0,errorDetails:!0,errorMessage:!0,force:!0,models:!0,syncKey:!0,syncSince:!0,updatedAt:!0},oe="shopifySync",ft="shopifySyncs",$s=$e(oe,ft,_e,[{type:"findOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:_e},{type:"maybeFindOne",operationName:oe,modelApiIdentifier:oe,findByVariableName:"id",defaultSelection:_e},{type:"findMany",operationName:ft,modelApiIdentifier:oe,defaultSelection:_e},{type:"findFirst",operationName:ft,modelApiIdentifier:oe,defaultSelection:_e},{type:"maybeFindFirst",operationName:ft,modelApiIdentifier:oe,defaultSelection:_e},{type:"findOne",operationName:ft,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:oe,defaultSelection:_e},{type:"action",operationName:"completeShopifySync",functionName:"complete",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"CompleteShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkCompleteShopifySyncs",functionName:"bulkComplete",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"complete",modelApiIdentifier:oe,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkCompleteShopifySyncsInput!]"}},defaultSelection:_e},{type:"action",operationName:"errorShopifySync",functionName:"error",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},shopifySync:{required:!1,type:"ErrorShopifySyncInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkErrorShopifySyncs",functionName:"bulkError",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"error",modelApiIdentifier:oe,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkErrorShopifySyncsInput!]"}},defaultSelection:_e},{type:"action",operationName:"runShopifySync",functionName:"run",namespace:null,modelApiIdentifier:oe,modelSelectionField:oe,isBulk:!1,isDeleter:!1,variables:{shopifySync:{required:!1,type:"RunShopifySyncInput"},startReason:{required:!1,type:"String"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:_e},{type:"action",operationName:"bulkRunShopifySyncs",functionName:"bulkRun",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"run",modelApiIdentifier:oe,modelSelectionField:ft,namespace:null,variables:{inputs:{required:!0,type:"[BulkRunShopifySyncsInput!]"}},defaultSelection:_e}]),Le={__typename:!0,id:!0,ambiguous:!0,booleanField:!0,createdAt:!0,updatedAt:!0},se="ambiguous",pt="ambiguouss",qs=$e(se,pt,Le,[{type:"findOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Le},{type:"maybeFindOne",operationName:se,modelApiIdentifier:se,findByVariableName:"id",defaultSelection:Le},{type:"findMany",operationName:pt,modelApiIdentifier:se,defaultSelection:Le},{type:"findFirst",operationName:pt,modelApiIdentifier:se,defaultSelection:Le},{type:"maybeFindFirst",operationName:pt,modelApiIdentifier:se,defaultSelection:Le},{type:"findOne",operationName:pt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:se,defaultSelection:Le},{type:"action",operationName:"createAmbiguous",functionName:"create",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{ambiguous:{required:!1,type:"CreateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Le},{type:"action",operationName:"bulkCreateAmbiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:se,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateAmbiguousInput!]"}},defaultSelection:Le},{type:"action",operationName:"updateAmbiguous",functionName:"update",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},ambiguous:{required:!1,type:"UpdateAmbiguousInput"}},hasAmbiguousIdentifier:!0,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:Le},{type:"action",operationName:"bulkUpdateAmbiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:se,modelSelectionField:pt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateAmbiguousInput!]"}},defaultSelection:Le},{type:"action",operationName:"deleteAmbiguous",functionName:"delete",namespace:null,modelApiIdentifier:se,modelSelectionField:se,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteAmbiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:se,modelSelectionField:pt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),We={__typename:!0,id:!0,createdAt:!0,numberField:!0,stringField:!0,updatedAt:!0},ue="unambiguous",yt="unambiguouss",Bs=$e(ue,yt,We,[{type:"findOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:We},{type:"maybeFindOne",operationName:ue,modelApiIdentifier:ue,findByVariableName:"id",defaultSelection:We},{type:"findMany",operationName:yt,modelApiIdentifier:ue,defaultSelection:We},{type:"findFirst",operationName:yt,modelApiIdentifier:ue,defaultSelection:We},{type:"maybeFindFirst",operationName:yt,modelApiIdentifier:ue,defaultSelection:We},{type:"findOne",operationName:yt,functionName:"findById",findByField:"id",findByVariableName:"id",modelApiIdentifier:ue,defaultSelection:We},{type:"action",operationName:"createUnambiguous",functionName:"create",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{unambiguous:{required:!1,type:"CreateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkCreateUnambiguous",functionName:"bulkCreate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"create",modelApiIdentifier:ue,modelSelectionField:yt,namespace:null,variables:{inputs:{required:!0,type:"[BulkCreateUnambiguousInput!]"}},defaultSelection:We},{type:"action",operationName:"updateUnambiguous",functionName:"update",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!1,variables:{id:{required:!0,type:"GadgetID"},unambiguous:{required:!1,type:"UpdateUnambiguousInput"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!0,hasCreateOrUpdateEffect:!0,defaultSelection:We},{type:"action",operationName:"bulkUpdateUnambiguous",functionName:"bulkUpdate",isBulk:!0,isDeleter:!1,hasReturnType:!1,acceptsModelInput:!0,singleActionFunctionName:"update",modelApiIdentifier:ue,modelSelectionField:yt,namespace:null,variables:{inputs:{required:!0,type:"[BulkUpdateUnambiguousInput!]"}},defaultSelection:We},{type:"action",operationName:"deleteUnambiguous",functionName:"delete",namespace:null,modelApiIdentifier:ue,modelSelectionField:ue,isBulk:!1,isDeleter:!0,variables:{id:{required:!0,type:"GadgetID"}},hasAmbiguousIdentifier:!1,paramOnlyVariables:[],hasReturnType:!1,acceptsModelInput:!1,hasCreateOrUpdateEffect:!1,defaultSelection:null},{type:"action",operationName:"bulkDeleteUnambiguous",functionName:"bulkDelete",isBulk:!0,isDeleter:!0,hasReturnType:!1,acceptsModelInput:!1,singleActionFunctionName:"delete",modelApiIdentifier:ue,modelSelectionField:yt,namespace:null,variables:{ids:{required:!0,type:"[GadgetID!]"}},defaultSelection:null}]),Ui={__typename:!0,id:!0,state:!0,createdAt:!0,roles:{key:!0,name:!0},shopifySID:!0,updatedAt:!0},Vi="session",Us="sessions",Vs=$e(Vi,Us,Ui,[{type:"get",operationName:"currentSession",defaultSelection:Ui,modelApiIdentifier:Vi}]);var Na;const Gi="production",Gs="development",Ls=Symbol.for("gadget/modelRelationships"),Ws=()=>{try{return process.env.GADGET_ENV}catch{return}};class zs{constructor(t){var i;this.apiRoots={development:"https://related-products-example.gadget.app/",production:"https://related-products-example.gadget.host/"},this.applicationId="1268",this[Na]={user:{sessions:{type:"HasMany",model:"session"}},session:{shop:{type:"BelongsTo",model:"shopifyShop"},user:{type:"BelongsTo",model:"user"}},shopifyProduct:{incomingPairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},images:{type:"HasMany",model:"shopifyProductImage"},options:{type:"HasMany",model:"shopifyProductOption"},variants:{type:"HasMany",model:"shopifyProductVariant"},pairedProducts:{type:"HasManyThrough",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductImage:{variants:{type:"HasMany",model:"shopifyProductVariant"},product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductOption:{product:{type:"BelongsTo",model:"shopifyProduct"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyProductVariant:{product:{type:"BelongsTo",model:"shopifyProduct"},productImage:{type:"BelongsTo",model:"shopifyProductImage"},shop:{type:"BelongsTo",model:"shopifyShop"}},shopifyShop:{productImages:{type:"HasMany",model:"shopifyProductImage"},productOptions:{type:"HasMany",model:"shopifyProductOption"},syncs:{type:"HasMany",model:"shopifySync"},products:{type:"HasMany",model:"shopifyProduct"},productVariants:{type:"HasMany",model:"shopifyProductVariant"}},productPairing:{productA:{type:"BelongsTo",model:"shopifyProduct"},productB:{type:"BelongsTo",model:"shopifyProduct"}},shopifySync:{shop:{type:"BelongsTo",model:"shopifyShop"}},ambiguous:{},unambiguous:{}},this.globalShopifySync=Object.assign(async o=>await Mi(this.connection,"globalShopifySync",{apiKeys:{value:o.apiKeys,required:!1,type:"[String!]"},syncSince:{value:o.syncSince,required:!1,type:"DateTime"},models:{value:o.models,required:!1,type:"[String!]"},force:{value:o.force,required:!1,type:"Boolean"},startReason:{value:o.startReason,required:!1,type:"String"}},null),{type:"globalAction",operationName:"globalShopifySync",namespace:null,variables:{apiKeys:{required:!1,type:"[String!]"},syncSince:{required:!1,type:"DateTime"},models:{required:!1,type:"[String!]"},force:{required:!1,type:"Boolean"},startReason:{required:!1,type:"String"}}}),this.test=Object.assign(async()=>await Mi(this.connection,"test",{},null),{type:"globalAction",operationName:"test",namespace:null,variables:{}}),this.transaction=async o=>await this.connection.transaction(o),this.getDirectUploadToken=async()=>(await this.query("query GetDirectUploadToken($nonce: String) { gadgetMeta { directUploadToken(nonce: $nonce) { url, token } } }",{nonce:Math.random().toString(36).slice(2,7)},{requestPolicy:"network-only"})).gadgetMeta.directUploadToken,this.environment=((t==null?void 0:t.environment)??Ws()??Gs).toLocaleLowerCase();let r;this.apiRoots[this.environment]?r=this.apiRoots[this.environment]:r=`https://related-products-example${this.environment==Gi?"":`--${this.environment}`}.gadget.app`;const n={...t==null?void 0:t.exchanges};if(this.environment!==Gi){const o=({forward:s})=>u=>{const l=s(u);return Kn(l,Vt(f=>{try{if(typeof window<"u"&&typeof CustomEvent=="function"){const d=new CustomEvent("gadget:devharness:graphqlresult",{detail:f});window.dispatchEvent(d)}}catch(d){console.warn("[gadget] error dispatching gadget dev harness event",d)}return f}))};n.beforeAll=[o,...n.beforeAll??[]]}if(this.connection=new Oa({endpoint:new URL("api/graphql",r).toString(),applicationId:this.applicationId,authenticationMode:(t==null?void 0:t.authenticationMode)??(typeof window>"u"?{anonymous:!0}:{browserSession:!0}),...t,exchanges:n,environment:this.environment}),typeof window<"u"&&this.connection.authenticationMode==ae.APIKey&&!((i=t==null?void 0:t.authenticationMode)!=null&&i.dangerouslyAllowBrowserApiKey))throw new Error("GGT_BROWSER_API_KEY_USAGE: Using a Gadget API key to authenticate this client object is insecure and will leak your API keys to attackers. Please use a different authentication mode.");this.user=new Cs(this.connection),this.session=new _s(this.connection),this.shopifyProduct=new Rs(this.connection),this.shopifyProductImage=new xs(this.connection),this.shopifyProductOption=new Ds(this.connection),this.shopifyProductVariant=new js(this.connection),this.shopifyShop=new Fs(this.connection),this.productPairing=new Ms(this.connection),this.shopifySync=new $s(this.connection),this.ambiguous=new qs(this.connection),this.unambiguous=new Bs(this.connection),this.currentSession=new Vs(this.connection),this.internal={user:new Ge("user",this.connection,{pluralApiIdentifier:"users",hasAmbiguousIdentifier:!1}),session:new Ge("session",this.connection,{pluralApiIdentifier:"sessions",hasAmbiguousIdentifier:!1}),shopifyProduct:new Ge("shopifyProduct",this.connection,{pluralApiIdentifier:"shopifyProducts",hasAmbiguousIdentifier:!1}),shopifyProductImage:new Ge("shopifyProductImage",this.connection,{pluralApiIdentifier:"shopifyProductImages",hasAmbiguousIdentifier:!1}),shopifyProductOption:new Ge("shopifyProductOption",this.connection,{pluralApiIdentifier:"shopifyProductOptions",hasAmbiguousIdentifier:!1}),shopifyProductVariant:new Ge("shopifyProductVariant",this.connection,{pluralApiIdentifier:"shopifyProductVariants",hasAmbiguousIdentifier:!1}),shopifyShop:new Ge("shopifyShop",this.connection,{pluralApiIdentifier:"shopifyShops",hasAmbiguousIdentifier:!1}),productPairing:new Ge("productPairing",this.connection,{pluralApiIdentifier:"productPairings",hasAmbiguousIdentifier:!1}),shopifySync:new Ge("shopifySync",this.connection,{pluralApiIdentifier:"shopifySyncs",hasAmbiguousIdentifier:!1}),ambiguous:new Ge("ambiguous",this.connection,{pluralApiIdentifier:"ambiguouss",hasAmbiguousIdentifier:!0}),unambiguous:new Ge("unambiguous",this.connection,{pluralApiIdentifier:"unambiguouss",hasAmbiguousIdentifier:!1})}}async query(t,r,n){const{data:i,error:o}=await this.connection.currentClient.query(t,r,n).toPromise();if(o)throw o;return i}async mutate(t,r,n){const{data:i,error:o}=await this.connection.currentClient.mutation(t,r,n).toPromise();if(o)throw o;return i}async fetch(t,r={}){return await this.connection.fetch(t,r)}async enqueue(t,r,n){jn(t,".enqueue must be passed an action as the first argument but was passed undefined");let i,o;return typeof n<"u"?(i=r,o=n):!t.variables||Object.keys(t.variables).length==0?(i={},o=r):(typeof r=="string"?i={id:r}:i=r,o={}),await Zo(this.connection,t,i,o)}handle(t,r){return new Dr(this.connection,t,r)}toString(){return`GadgetAPIClient<${this.environment}>`}toJSON(){return this.toString()}}Na=Ls;var Pa={},Kr=ke.createContext(Pa),Ks=Kr.Provider;Kr.Consumer;Kr.displayName="UrqlContext";var Ta=()=>{var e=ke.useContext(Kr);if(e===Pa&&process.env.NODE_ENV!=="production"){var t="No client has been specified using urql's Provider. please create a client and add a Provider.";throw console.error(t),new Error(t)}return e},Un={fetching:!1,stale:!1,error:void 0,data:void 0,extensions:void 0,operation:void 0},Ys=(e,t)=>e===t||!(!e||!t||e.key!==t.key),In=(e,t)=>{var r={...e,...t,data:t.data!==void 0||t.error?t.data:e.data,fetching:!!t.fetching,stale:!!t.stale};return((n,i)=>{for(var o in n)if(!(o in i))return!0;for(var s in i)if(s==="operation"?!Ys(n[s],i[s]):n[s]!==i[s])return!0;return!1})(e,r)?r:e},Js=(e,t)=>{for(var r=0,n=t.length;r<n;r++)if(e[r]!==t[r])return!0;return!1},kn=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Vr(e,t){process.env.NODE_ENV!=="production"&&kn&&kn.ReactCurrentOwner&&kn.ReactCurrentOwner.current?Promise.resolve(t).then(e):e(t)}function Qs(e){var t=ke.useRef(!0),r=Ta(),[n,i]=ke.useState(Un),o=ke.useCallback((s,u)=>(Vr(i,{...Un,fetching:!0}),Gr(Ar(1)(te(l=>!l.hasNext)(jt(l=>{t.current&&Vr(i,{fetching:!1,stale:l.stale,data:l.data,error:l.error,extensions:l.extensions,operation:l.operation})})(r.executeMutation(mr(e,s),u||{})))))),[r,e,i]);return ke.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),[n,o]}function Hs(e,t){var r=ke.useRef(void 0);return ke.useMemo(()=>{var n=mr(e,t);return r.current!==void 0&&r.current.key===n.key?r.current:(r.current=n,n)},[e,t])}var Xs=e=>{if(!e._react){var t=new Set,r=new Map;e.operations$&&Ft(n=>{n.kind==="teardown"&&t.has(n.key)&&(t.delete(n.key),r.delete(n.key))})(e.operations$),e._react={get:n=>r.get(n),set(n,i){t.delete(n),r.set(n,i)},dispose(n){t.add(n)}}}return e._react},Zs=(e,t)=>e.suspense&&(!t||t.suspense!==!1);function eu(e){var t=Ta(),r=Xs(t),n=Zs(t,e.context),i=Hs(e.query,e.variables),o=ke.useMemo(()=>{if(e.pause)return null;var h=t.executeQuery(i,{requestPolicy:e.requestPolicy,...e.context});return n?jt(m=>{r.set(i.key,m)})(h):h},[r,t,i,n,e.pause,e.requestPolicy,e.context]),s=ke.useCallback((h,m)=>{if(!h)return{fetching:!1};var v=r.get(i.key);if(v){if(m&&v!=null&&"then"in v)throw v}else{var E,M=Ft(I=>{v=I,E&&E(v)})(Yi(()=>m&&!E||!v)(h));if(v==null&&m){var R=new Promise(I=>{E=I});throw r.set(i.key,R),R}else M.unsubscribe()}return v||{fetching:!0}},[r,i]),u=[t,i,e.requestPolicy,e.context,e.pause],[l,f]=ke.useState(()=>[o,In(Un,s(o,n)),u]),d=l[1];o!==l[0]&&Js(l[2],u)&&f([o,d=In(l[1],s(o,n)),u]),ke.useEffect(()=>{var h=l[0],m=l[2][1],v=!1,E=R=>{v=!0,Vr(f,I=>{var V=In(I[1],R);return I[1]!==V?[I[0],V,I[2]]:I})};if(h){var M=Ft(E)(Ln(()=>{E({fetching:!1})})(h));return v||E({fetching:!0}),()=>{r.dispose(m.key),M.unsubscribe()}}else E({fetching:!1})},[r,l[0],l[2][1]]);var y=ke.useCallback(h=>{var m={requestPolicy:e.requestPolicy,...e.context,...h};Vr(f,v=>[n?jt(E=>{r.set(i.key,E)})(t.executeQuery(i,m)):t.executeQuery(i,m),v[1],u])},[t,r,i,n,s,e.requestPolicy,e.context]);return[d,y]}const ui=T.createContext(void 0),tu=T.createContext(void 0),ru="/",nu="signOut",iu="/";function au(e){let t,r;if("api"in e){if(!qa(e.api))throw new Error("Invalid Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");t=e.api,r=e.api.connection.currentClient}else if(e.value)r=e.value;else throw new Error("No Gadget API client passed to <Provider /> component -- please pass an instance of your generated client, like <Provider api={api} />!");r.suspense=!0;let n=ru,i=nu,o=iu;if("auth"in e){const{auth:s}=e;s!=null&&s.signInPath&&(n=s.signInPath),s!=null&&s.signOutActionApiIdentifier&&(i=s.signOutActionApiIdentifier),s!=null&&s.redirectOnSuccessfulSignInPath&&(o=s.redirectOnSuccessfulSignInPath)}return T.createElement(ui.Provider,{value:r},T.createElement(tu.Provider,{value:{api:t,navigate:e.navigate,auth:{signInPath:n,signOutActionApiIdentifier:i,redirectOnSuccessfulSignInPath:o}}},T.createElement(Ks,{value:r},e.children)))}const Ca="Could not find a client in the context of Provider. Please ensure you wrap the root component in a <Provider>",ou=(e,t)=>{let r="";return e!==void 0?r=`[Network] ${e.message}`:t!==void 0?t.forEach(n=>{r+=`[GraphQL] ${n.message}
`}):r="Unknown error",r.trim()},su=e=>typeof e=="string"?new Ir(e):e!=null&&e.message&&!e.code?new Ir(e.message,e.nodes,e.source,e.positions,e.path,e,e.extensions||{}):e;class xt extends Error{static forClientSideError(t,r){return new xt({executionErrors:[t],response:r})}static forErrorsResponse(t,r){return new xt({executionErrors:t.map(ei),response:r})}static forMaybeCombinedError(t){if(t)return new xt({networkError:t.networkError,executionErrors:t.graphQLErrors,response:t.response})}static errorIfDataAbsent(t,r,n=!1){const i=Uo(t,r);let o=xt.forMaybeCombinedError(t.error);return!o&&i&&!n&&(o=xt.forClientSideError(i)),o}constructor({networkError:t,executionErrors:r,response:n}){const i=(r||[]).map(su),o=ou(t,i);super(o),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"executionErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"networkError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"graphQLErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=o,this.executionErrors=i,this.graphQLErrors=i,this.networkError=t,this.response=n}get name(){return"ErrorWrapper"}toString(){return this.message}get validationErrors(){const t=this.executionErrors.find(r=>r.code=="GGT_INVALID_RECORD");return(t==null?void 0:t.validationErrors)??null}}const uu=e=>{const{context:t,suspense:r,...n}=e??{},i=T.useMemo(()=>({suspense:!!(e!=null&&e.suspense),...e==null?void 0:e.context}),[e==null?void 0:e.suspense,e==null?void 0:e.context]);return{...n,context:i}},lu=(e,t)=>({query:e.query,variables:e.variables,...t}),cu=e=>{if(!T.useContext(ui))throw new Error(Ca);const t=uu(e);return eu(t)};var du=typeof Element<"u",fu=typeof Map=="function",pu=typeof Set=="function",yu=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function jr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!jr(e[n],t[n]))return!1;return!0}var o;if(fu&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!jr(n.value[1],t.get(n.value[0])))return!1;return!0}if(pu&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(yu&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(du&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!jr(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var hu=function(t,r){try{return jr(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const mu=Ki(hu),bu=e=>{const t=T.useRef();return e?(t.current===void 0||!mu(e,t.current))&&(t.current=e):t.current=void 0,t.current},gu=e=>{if(!T.useContext(ui))throw new Error(Ca);return Qs(e)},vu=(e,t)=>{const r=bu(t),n=T.useMemo(()=>ni(e.findMany.operationName,e.findMany.defaultSelection,e.findMany.modelApiIdentifier,r,e.findMany.namespace),[e,r]),[i,o]=cu(lu(n,t));return[T.useMemo(()=>{const u=St([e.findMany.operationName],e.findMany.namespace);let l=i.data;if(l){const d=Kt(i.data,u);if(d){const y=kr(i,d);l=Yt.boot(e,y,d)}}const f=xt.errorIfDataAbsent(i,u,t==null?void 0:t.pause);return{...i,data:l,error:f}},[e,t==null?void 0:t.pause,i]),o]};var Vn={exports:{}},fr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li;function Su(){if(Li)return fr;Li=1;var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,f){var d,y={},h=null,m=null;f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!o.hasOwnProperty(d)&&(y[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)y[d]===void 0&&(y[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:m,props:y,_owner:i.current}}return fr.Fragment=r,fr.jsx=s,fr.jsxs=s,fr}var Rr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi;function wu(){return Wi||(Wi=1,process.env.NODE_ENV!=="production"&&function(){var e=T,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v=Symbol.iterator,E="@@iterator";function M(a){if(a===null||typeof a!="object")return null;var c=v&&a[v]||a[E];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function I(a){{for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];V("error",a,p)}}function V(a,c,p){{var g=R.ReactDebugCurrentFrame,O=g.getStackAddendum();O!==""&&(c+="%s",p=p.concat([O]));var A=p.map(function(k){return String(k)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[a],console,A)}}var b=!1,P=!1,S=!1,G=!1,Ee=!1,De;De=Symbol.for("react.module.reference");function qe(a){return!!(typeof a=="string"||typeof a=="function"||a===n||a===o||Ee||a===i||a===f||a===d||G||a===m||b||P||S||typeof a=="object"&&a!==null&&(a.$$typeof===h||a.$$typeof===y||a.$$typeof===s||a.$$typeof===u||a.$$typeof===l||a.$$typeof===De||a.getModuleId!==void 0))}function ne(a,c,p){var g=a.displayName;if(g)return g;var O=c.displayName||c.name||"";return O!==""?p+"("+O+")":p}function ee(a){return a.displayName||"Context"}function z(a){if(a==null)return null;if(typeof a.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case n:return"Fragment";case r:return"Portal";case o:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case u:var c=a;return ee(c)+".Consumer";case s:var p=a;return ee(p._context)+".Provider";case l:return ne(a,a.render,"ForwardRef");case y:var g=a.displayName||null;return g!==null?g:z(a.type)||"Memo";case h:{var O=a,A=O._payload,k=O._init;try{return z(k(A))}catch{return null}}}return null}var N=Object.assign,$=0,q,D,W,Ne,B,je,Be;function Ye(){}Ye.__reactDisabledLog=!0;function Je(){{if($===0){q=console.log,D=console.info,W=console.warn,Ne=console.error,B=console.group,je=console.groupCollapsed,Be=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Ye,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}$++}}function H(){{if($--,$===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},a,{value:q}),info:N({},a,{value:D}),warn:N({},a,{value:W}),error:N({},a,{value:Ne}),group:N({},a,{value:B}),groupCollapsed:N({},a,{value:je}),groupEnd:N({},a,{value:Be})})}$<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var K=R.ReactCurrentDispatcher,dt;function Ue(a,c,p){{if(dt===void 0)try{throw Error()}catch(O){var g=O.stack.trim().match(/\n( *(at )?)/);dt=g&&g[1]||""}return`
`+dt+a}}var wt=!1,it;{var Yr=typeof WeakMap=="function"?WeakMap:Map;it=new Yr}function Jt(a,c){if(!a||wt)return"";{var p=it.get(a);if(p!==void 0)return p}var g;wt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=K.current,K.current=null,Je();try{if(c){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(ie){g=ie}Reflect.construct(a,[],k)}else{try{k.call()}catch(ie){g=ie}a.call(k.prototype)}}else{try{throw Error()}catch(ie){g=ie}a()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var w=ie.stack.split(`
`),U=g.stack.split(`
`),C=w.length-1,_=U.length-1;C>=1&&_>=0&&w[C]!==U[_];)_--;for(;C>=1&&_>=0;C--,_--)if(w[C]!==U[_]){if(C!==1||_!==1)do if(C--,_--,_<0||w[C]!==U[_]){var Y=`
`+w[C].replace(" at new "," at ");return a.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",a.displayName)),typeof a=="function"&&it.set(a,Y),Y}while(C>=1&&_>=0);break}}}finally{wt=!1,K.current=A,H(),Error.prepareStackTrace=O}var Te=a?a.displayName||a.name:"",ur=Te?Ue(Te):"";return typeof a=="function"&&it.set(a,ur),ur}function Jr(a,c,p){return Jt(a,!1)}function Qr(a){var c=a.prototype;return!!(c&&c.isReactComponent)}function at(a,c,p){if(a==null)return"";if(typeof a=="function")return Jt(a,Qr(a));if(typeof a=="string")return Ue(a);switch(a){case f:return Ue("Suspense");case d:return Ue("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case l:return Jr(a.render);case y:return at(a.type,c,p);case h:{var g=a,O=g._payload,A=g._init;try{return at(A(O),c,p)}catch{}}}return""}var ot=Object.prototype.hasOwnProperty,Qt={},Ht=R.ReactDebugCurrentFrame;function st(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);Ht.setExtraStackFrame(p)}else Ht.setExtraStackFrame(null)}function Hr(a,c,p,g,O){{var A=Function.call.bind(ot);for(var k in a)if(A(a,k)){var w=void 0;try{if(typeof a[k]!="function"){var U=Error((g||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw U.name="Invariant Violation",U}w=a[k](c,k,g,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(C){w=C}w&&!(w instanceof Error)&&(st(O),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",p,k,typeof w),st(null)),w instanceof Error&&!(w.message in Qt)&&(Qt[w.message]=!0,st(O),I("Failed %s type: %s",p,w.message),st(null))}}}var Xr=Array.isArray;function It(a){return Xr(a)}function Zr(a){{var c=typeof Symbol=="function"&&Symbol.toStringTag,p=c&&a[Symbol.toStringTag]||a.constructor.name||"Object";return p}}function en(a){try{return Xt(a),!1}catch{return!0}}function Xt(a){return""+a}function Zt(a){if(en(a))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Zr(a)),Xt(a)}var Ve=R.ReactCurrentOwner,tn={key:!0,ref:!0,__self:!0,__source:!0},er,tr,kt;kt={};function rn(a){if(ot.call(a,"ref")){var c=Object.getOwnPropertyDescriptor(a,"ref").get;if(c&&c.isReactWarning)return!1}return a.ref!==void 0}function nn(a){if(ot.call(a,"key")){var c=Object.getOwnPropertyDescriptor(a,"key").get;if(c&&c.isReactWarning)return!1}return a.key!==void 0}function an(a,c){if(typeof a.ref=="string"&&Ve.current&&c&&Ve.current.stateNode!==c){var p=z(Ve.current.type);kt[p]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z(Ve.current.type),a.ref),kt[p]=!0)}}function on(a,c){{var p=function(){er||(er=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"key",{get:p,configurable:!0})}}function sn(a,c){{var p=function(){tr||(tr=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};p.isReactWarning=!0,Object.defineProperty(a,"ref",{get:p,configurable:!0})}}var un=function(a,c,p,g,O,A,k){var w={$$typeof:t,type:a,key:c,ref:p,props:k,_owner:A};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:O}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function ln(a,c,p,g,O){{var A,k={},w=null,U=null;p!==void 0&&(Zt(p),w=""+p),nn(c)&&(Zt(c.key),w=""+c.key),rn(c)&&(U=c.ref,an(c,O));for(A in c)ot.call(c,A)&&!tn.hasOwnProperty(A)&&(k[A]=c[A]);if(a&&a.defaultProps){var C=a.defaultProps;for(A in C)k[A]===void 0&&(k[A]=C[A])}if(w||U){var _=typeof a=="function"?a.displayName||a.name||"Unknown":a;w&&on(k,_),U&&sn(k,_)}return un(a,w,U,O,g,Ve.current,k)}}var Ot=R.ReactCurrentOwner,rr=R.ReactDebugCurrentFrame;function Pe(a){if(a){var c=a._owner,p=at(a.type,a._source,c?c.type:null);rr.setExtraStackFrame(p)}else rr.setExtraStackFrame(null)}var At;At=!1;function Et(a){return typeof a=="object"&&a!==null&&a.$$typeof===t}function nr(){{if(Ot.current){var a=z(Ot.current.type);if(a)return`

Check the render method of \``+a+"`."}return""}}function cn(a){{if(a!==void 0){var c=a.fileName.replace(/^.*[\\\/]/,""),p=a.lineNumber;return`

Check your code at `+c+":"+p+"."}return""}}var ir={};function dn(a){{var c=nr();if(!c){var p=typeof a=="string"?a:a.displayName||a.name;p&&(c=`

Check the top-level render call using <`+p+">.")}return c}}function ar(a,c){{if(!a._store||a._store.validated||a.key!=null)return;a._store.validated=!0;var p=dn(c);if(ir[p])return;ir[p]=!0;var g="";a&&a._owner&&a._owner!==Ot.current&&(g=" It was passed a child from "+z(a._owner.type)+"."),Pe(a),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',p,g),Pe(null)}}function or(a,c){{if(typeof a!="object")return;if(It(a))for(var p=0;p<a.length;p++){var g=a[p];Et(g)&&ar(g,c)}else if(Et(a))a._store&&(a._store.validated=!0);else if(a){var O=M(a);if(typeof O=="function"&&O!==a.entries)for(var A=O.call(a),k;!(k=A.next()).done;)Et(k.value)&&ar(k.value,c)}}}function fn(a){{var c=a.type;if(c==null||typeof c=="string")return;var p;if(typeof c=="function")p=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===y))p=c.propTypes;else return;if(p){var g=z(c);Hr(p,a.props,"prop",g,a)}else if(c.PropTypes!==void 0&&!At){At=!0;var O=z(c);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",O||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pn(a){{for(var c=Object.keys(a.props),p=0;p<c.length;p++){var g=c[p];if(g!=="children"&&g!=="key"){Pe(a),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),Pe(null);break}}a.ref!==null&&(Pe(a),I("Invalid attribute `ref` supplied to `React.Fragment`."),Pe(null))}}function sr(a,c,p,g,O,A){{var k=qe(a);if(!k){var w="";(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var U=cn(O);U?w+=U:w+=nr();var C;a===null?C="null":It(a)?C="array":a!==void 0&&a.$$typeof===t?(C="<"+(z(a.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):C=typeof a,I("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",C,w)}var _=ln(a,c,p,O,A);if(_==null)return _;if(k){var Y=c.children;if(Y!==void 0)if(g)if(It(Y)){for(var Te=0;Te<Y.length;Te++)or(Y[Te],a);Object.freeze&&Object.freeze(Y)}else I("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else or(Y,a)}return a===n?pn(_):fn(_),_}}function yn(a,c,p){return sr(a,c,p,!0)}function hn(a,c,p){return sr(a,c,p,!1)}var mn=hn,bn=yn;Rr.Fragment=n,Rr.jsx=mn,Rr.jsxs=bn}()),Rr}process.env.NODE_ENV==="production"?Vn.exports=Su():Vn.exports=wu();var zi=Vn.exports;const Iu=T.forwardRef(function({open:e,onShow:t,onHide:r,children:n,...i},o){const[s,u]=T.useState(),{titleBar:l,modalContent:f}=T.Children.toArray(n).reduce((y,h)=>{const m=typeof h=="object"&&"type"in h?h.type:void 0;return m==="ui-title-bar"||typeof m=="object"&&m.displayName==="ui-title-bar"?{...y,titleBar:h}:(y.modalContent.push(h),y)},{modalContent:[]}),d=s?Da.createPortal(f,s.content):null;return T.useEffect(()=>{s&&(e?s.show():s.hide())},[s,e]),T.useEffect(()=>{if(!(!s||!t))return s.addEventListener("show",t),()=>{s.removeEventListener("show",t)}},[s,t]),T.useEffect(()=>{if(!(!s||!r))return s.addEventListener("hide",r),()=>{s.removeEventListener("hide",r)}},[s,r]),T.useEffect(()=>{if(s)return()=>{s.hide()}},[s]),zi.jsxs("ui-modal",{...i,ref:y=>{u(y),o&&(typeof o=="function"?o(y):o.current=y)},children:[l,zi.jsx("div",{children:d})]})});Iu.displayName="ui-modal";const ku=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function Ou(){if(typeof window>"u")return ku;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}var vt;(function(e){e[e.Standalone=0]="Standalone",e[e.Embedded=1]="Embedded"})(vt||(vt={}));const Au=`
  mutation ShopifyFetchOrInstallShop($shopifySessionToken: String!) {
    shopifyConnection {
      fetchOrInstallShop(shopifySessionToken: $shopifySessionToken) {
        isAuthenticated
        redirectToOauth
        missingScopes
      }
    }
  }
`,Eu=T.memo(({children:e,gadgetAppUrl:t,originalQueryParams:r,api:n,type:i,host:o,isReady:s,isRootFrameRequest:u})=>{const l=Ou(),f=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),d=l.environment.embedded||l.environment.mobile,y=d&&i===vt.Embedded,h=s&&typeof o<"u"&&!y,[m,v]=T.useState({isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!0,appBridge:l,isRootFrameRequest:!1}),[E,M]=T.useState();T.useEffect(()=>{if(!l){console.debug("[gadget-rsab] no app bridge, skipping client auth setup");return}n.connection.setAuthenticationMode({custom:{async processFetch(ne,ee){const z=new Headers(ee.headers),N=await l.idToken();z.append("Authorization",`ShopifySessionToken ${N}`),ee.headers??(ee.headers={}),z.forEach(function($,q){ee.headers[q]=$})},async processTransactionConnectionParams(ne){const ee=await l.idToken();ne.auth.shopifySessionToken=ee}}}),console.debug("[gadget-rsab] set up client auth for session tokens")},[n.connection,l]);let R=!1,I=!1,V=T.useMemo(()=>[],[]);const b=T.useRef(!1),P=T.useRef(!1),[{data:S,fetching:G,error:Ee},De]=gu(Au);S&&(console.debug({fetchOrInstallShopData:S},"[gadget-rsab] fetched or installed shop data"),R=S.shopifyConnection.fetchOrInstallShop.redirectToOauth,I=S.shopifyConnection.fetchOrInstallShop.isAuthenticated,V=S.shopifyConnection.fetchOrInstallShop.missingScopes??[]),T.useEffect(()=>{G&&(P.current=!0)},[G]),T.useEffect(()=>{b.current||l&&(b.current=!0,console.debug("[gadget-rsab] getting sessionToken to fetch or install shop"),l.idToken().then(ne=>{console.debug("[gadget-rsab] fetching or installing shop"),De({shopifySessionToken:ne}).catch(ee=>{console.error({err:ee},"[gadget-rsab] error fetching or installing shop")})}).catch(M))},[l,De]),T.useEffect(()=>{if(!R||u)return;const ne=new URL("/api/connections/auth/shopify",t);ne.search=(r==null?void 0:r.toString())??"";const ee=ne.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process",{appType:i,isInstallRequest:f,isEmbedded:d,redirectURL:ee,gadgetAppUrl:t}),open(ee,"_top")},[t,u,r,R]);const qe=h||R||G||!P.current;return T.useEffect(()=>{const ne={isAuthenticated:I,isEmbedded:d,canAuth:!!l,loading:qe,appBridge:l,error:Ee||E,isRootFrameRequest:u};return console.debug("[gadget-rsab] context changed",ne),v(ne)},[qe,d,l,I,Ee,E,u]),T.useEffect(()=>{if(V.length>0&&!R){const ne=new CustomEvent("gadget:devharness:rsab.shopifyManagedInstallation.missingScopes",{detail:{missingScopes:V}});globalThis.dispatchEvent(ne)}},[R,V]),T.createElement(_a.Provider,{value:m},e)}),Nu=({isRootFrameRequest:e,children:t,query:r,gadgetAppUrl:n,type:i})=>{const o=(r==null?void 0:r.has("hmac"))&&(r==null?void 0:r.has("shop")),s=o;return T.useEffect(()=>{if(!s||e)return;const u=new URL("/api/connections/auth/shopify",n);u.search=(r==null?void 0:r.toString())??"";const l=u.toString();console.debug("[gadget-rsab] redirecting to gadget to initiate oauth process in standalone mode or missing app bridge global",{appType:i,isInstallRequest:o,redirectURL:l,gadgetAppUrl:n}),window.location.assign(l)},[n,e,r,s]),T.createElement(_a.Provider,{value:{isAuthenticated:!1,isEmbedded:!1,canAuth:!1,loading:!1,appBridge:null,isRootFrameRequest:e}},t)},Pu=({type:e,children:t,api:r})=>{const n=!!(globalThis&&globalThis.shopify),[i,o]=T.useState(null),s=!!i,{query:u}=i??{},l=(u==null?void 0:u.get("host"))??void 0,f=e??vt.Embedded,d=T.useMemo(()=>u,[s]),y=!(u!=null&&u.has("hmac"))&&!(u!=null&&u.has("shop"))&&e==vt.Embedded,h=new URL(r.connection.options.endpoint).origin;if(T.useEffect(()=>{o({asPath:`${window.location.pathname}${window.location.search}`,query:new URLSearchParams(window.location.search)})},[]),console.debug("[gadget-rsab] provider rendering",{host:l,location:i,coalescedType:f,isReady:s}),f==vt.Embedded&&!n&&globalThis.top&&globalThis.top!==globalThis.self){let m;try{const v=document.referrer;m=new URL(v)}catch{const E=new CustomEvent("gadget:devharness:rsab.invalidReferrer",{detail:{url:document.referrer}});globalThis.dispatchEvent(E)}if(m&&m.hostname==="admin.shopify.com")throw new Error("Expected app bridge to be defined in embedded context, but it was not. This is likely due to a missing script tag, see https://shopify.dev/docs/api/app-bridge-library")}if(f===vt.Embedded&&globalThis.top===globalThis.self){const m=new CustomEvent("gadget:devharness:rsab.embeddedInRootContext");globalThis.dispatchEvent(m)}return T.createElement(au,{api:r},f===vt.Embedded&&n?T.createElement(Eu,{gadgetAppUrl:h,api:r,originalQueryParams:d,type:f,host:l,isReady:s,isRootFrameRequest:y},t):T.createElement(Nu,{isRootFrameRequest:y,query:u,type:f,gadgetAppUrl:h},t))},_a=T.createContext({loading:!0,isEmbedded:!1,isAuthenticated:!1,canAuth:!1,appBridge:null,isRootFrameRequest:!1}),Ra=new zs,xa=()=>{const[{data:e}]=vu(Ra.shopifyProduct);return Fr.jsx(Fr.Fragment,{children:JSON.stringify(e)})},Tu=()=>Fr.jsx(Pu,{api:Ra,shopifyApiKey:"deadbeef",children:Fr.jsx(xa,{})});exports.App=Tu;exports.Reader=xa;exports.commonjsGlobal=Fa;exports.getDefaultExportFromCjs=Ki;
